{"ast":null,"code":"import Api from'../../data/api';import Storage from'../../data/storage';import{DUser,U}from'../../joiner';class AuthApi{static async login(email,password){Storage.write('offline','false');return await Api.post(\"\".concat(Api.persistance,\"/auth/login\"),{email,password});}static async register(name,surname,country,affiliation,newsLetter,nickname,email,password){Storage.write('offline','false');return await Api.post(\"\".concat(Api.persistance,\"/auth/register\"),{name,surname,country,affiliation,newsLetter,nickname,email,password});}static async logout(){if(!U.isOffline())await Api.delete(\"\".concat(Api.persistance,\"/auth/logout\"));U.resetState();}static offline(){Storage.write('offline','true');const user=DUser.new('Offline','User','Unknown','Unknown','Unknown',false,'Unknown','Unknown',\"Pointer_OfflineUser\");//`Pointer${Date.now()}_OfflineUser`);\nStorage.write('user',user);}}export{AuthApi};","map":{"version":3,"names":["Api","Storage","DUser","U","AuthApi","login","email","password","write","post","concat","persistance","register","name","surname","country","affiliation","newsLetter","nickname","logout","isOffline","delete","resetState","offline","user","new"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/api/persistance/auth.ts"],"sourcesContent":["import Api, {Response} from '../../data/api';\r\nimport Storage from '../../data/storage';\r\nimport {DUser, U} from '../../joiner';\r\n\r\nclass AuthApi {\r\n    static async login(email: string, password: string): Promise<Response> {\r\n        Storage.write('offline', 'false');\r\n        return await Api.post(`${Api.persistance}/auth/login`, {email, password});\r\n    }\r\n    static async register(name: string, surname: string, country: string, affiliation: string, newsLetter: boolean, nickname: string, email: string, password: string): Promise<Response> {\r\n        Storage.write('offline', 'false');\r\n        return await Api.post(`${Api.persistance}/auth/register`, {name, surname, country, affiliation, newsLetter, nickname, email, password});\r\n    }\r\n    static async logout(): Promise<void> {\r\n        if(!U.isOffline()) await Api.delete(`${Api.persistance}/auth/logout`);\r\n        U.resetState();\r\n    }\r\n\r\n    static offline(): void {\r\n        Storage.write('offline', 'true');\r\n        const user = DUser.new('Offline', 'User', 'Unknown', 'Unknown', 'Unknown', false, 'Unknown', 'Unknown', `Pointer_OfflineUser`);//`Pointer${Date.now()}_OfflineUser`);\r\n        Storage.write('user', user);\r\n    }\r\n}\r\n\r\nexport {AuthApi};\r\n"],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAkB,gBAAgB,CAC5C,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC,OAAQC,KAAK,CAAEC,CAAC,KAAO,cAAc,CAErC,KAAM,CAAAC,OAAQ,CACV,YAAa,CAAAC,KAAKA,CAACC,KAAa,CAAEC,QAAgB,CAAqB,CACnEN,OAAO,CAACO,KAAK,CAAC,SAAS,CAAE,OAAO,CAAC,CACjC,MAAO,MAAM,CAAAR,GAAG,CAACS,IAAI,IAAAC,MAAA,CAAIV,GAAG,CAACW,WAAW,gBAAe,CAACL,KAAK,CAAEC,QAAQ,CAAC,CAAC,CAC7E,CACA,YAAa,CAAAK,QAAQA,CAACC,IAAY,CAAEC,OAAe,CAAEC,OAAe,CAAEC,WAAmB,CAAEC,UAAmB,CAAEC,QAAgB,CAAEZ,KAAa,CAAEC,QAAgB,CAAqB,CAClLN,OAAO,CAACO,KAAK,CAAC,SAAS,CAAE,OAAO,CAAC,CACjC,MAAO,MAAM,CAAAR,GAAG,CAACS,IAAI,IAAAC,MAAA,CAAIV,GAAG,CAACW,WAAW,mBAAkB,CAACE,IAAI,CAAEC,OAAO,CAAEC,OAAO,CAAEC,WAAW,CAAEC,UAAU,CAAEC,QAAQ,CAAEZ,KAAK,CAAEC,QAAQ,CAAC,CAAC,CAC3I,CACA,YAAa,CAAAY,MAAMA,CAAA,CAAkB,CACjC,GAAG,CAAChB,CAAC,CAACiB,SAAS,CAAC,CAAC,CAAE,KAAM,CAAApB,GAAG,CAACqB,MAAM,IAAAX,MAAA,CAAIV,GAAG,CAACW,WAAW,gBAAc,CAAC,CACrER,CAAC,CAACmB,UAAU,CAAC,CAAC,CAClB,CAEA,MAAO,CAAAC,OAAOA,CAAA,CAAS,CACnBtB,OAAO,CAACO,KAAK,CAAC,SAAS,CAAE,MAAM,CAAC,CAChC,KAAM,CAAAgB,IAAI,CAAGtB,KAAK,CAACuB,GAAG,CAAC,SAAS,CAAE,MAAM,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,KAAK,CAAE,SAAS,CAAE,SAAS,sBAAuB,CAAC,CAAC;AAC/HxB,OAAO,CAACO,KAAK,CAAC,MAAM,CAAEgB,IAAI,CAAC,CAC/B,CACJ,CAEA,OAAQpB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}