{"ast":null,"code":"import _regeneratorRuntime from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import Axios from'axios';import Storage from\"./storage\";var Api=/*#__PURE__*/function(){function Api(){_classCallCheck(this,Api);}_createClass(Api,null,[{key:\"headers\",value:function headers(){return{'auth-token':Storage.read('token')||''};}},{key:\"get\",value:function(){var _get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(path){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.get(path,{headers:this.headers()});case 3:response=_context.sent;return _context.abrupt(\"return\",{code:response.status,data:response.data});case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",{code:400,data:null});case 10:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function get(_x){return _get.apply(this,arguments);}return get;}()},{key:\"post\",value:function(){var _post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(path,obj){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Axios.post(path,obj,{headers:this.headers()});case 3:response=_context2.sent;return _context2.abrupt(\"return\",{code:response.status,data:response.data});case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",{code:400,data:null});case 10:case\"end\":return _context2.stop();}}},_callee2,this,[[0,7]]);}));function post(_x2,_x3){return _post.apply(this,arguments);}return post;}()},{key:\"patch\",value:function(){var _patch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(path,obj){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return Axios.patch(path,obj,{headers:this.headers()});case 3:response=_context3.sent;return _context3.abrupt(\"return\",{code:response.status,data:response.data});case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",{code:400,data:null});case 10:case\"end\":return _context3.stop();}}},_callee3,this,[[0,7]]);}));function patch(_x4,_x5){return _patch.apply(this,arguments);}return patch;}()},{key:\"delete\",value:function(){var _delete2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(path){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return Axios.delete(path,{headers:this.headers()});case 3:response=_context4.sent;return _context4.abrupt(\"return\",{code:response.status,data:response.data});case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);return _context4.abrupt(\"return\",{code:400,data:null});case 10:case\"end\":return _context4.stop();}}},_callee4,this,[[0,7]]);}));function _delete(_x6){return _delete2.apply(this,arguments);}return _delete;}()}]);return Api;}();Api.persistance=\"\".concat(process.env['REACT_APP_PERSISTANCE'],\"/persistance\");export default Api;","map":{"version":3,"names":["Axios","Storage","Api","_classCallCheck","_createClass","key","value","headers","read","_get","_asyncToGenerator","_regeneratorRuntime","mark","_callee","path","response","wrap","_callee$","_context","prev","next","get","sent","abrupt","code","status","data","t0","stop","_x","apply","arguments","_post","_callee2","obj","_callee2$","_context2","post","_x2","_x3","_patch","_callee3","_callee3$","_context3","patch","_x4","_x5","_delete2","_callee4","_callee4$","_context4","delete","_delete","_x6","persistance","concat","process","env"],"sources":["C:/d/Programming/web/jodel-mde/src/data/api.ts"],"sourcesContent":["import Axios from 'axios';\r\nimport {Json} from '../joiner';\r\nimport Storage from \"./storage\";\r\n\r\nexport type Response = {code: number, data: Json|null}\r\nclass Api {\r\n    static persistance = `${process.env['REACT_APP_PERSISTANCE']}/persistance`;\r\n    private static headers(): {'auth-token': string} {\r\n        return {'auth-token': Storage.read('token') || ''};\r\n    }\r\n    static async get(path: string): Promise<Response> {\r\n        try {\r\n            const response = await Axios.get(path, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async post(path: string, obj: Json): Promise<Response> {\r\n        try {\r\n            const response = await Axios.post(path, obj, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async patch(path: string, obj: Json): Promise<Response> {\r\n        try {\r\n            const response = await Axios.patch(path, obj, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async delete(path: string): Promise<Response> {\r\n        try {\r\n            const response = await Axios.delete(path, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n}\r\n\r\nexport default Api;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}