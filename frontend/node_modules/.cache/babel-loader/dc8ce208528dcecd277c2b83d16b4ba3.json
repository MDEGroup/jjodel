{"ast":null,"code":"import Axios from'axios';import Storage from\"./storage\";class Api{static headers(){let token=Storage.read('token')||'';return{'auth-token':token};}static async get(path){try{const response=await Axios.get(path,{headers:this.headers()});return{code:response.status,data:response.data};}catch(e){return{code:400,data:null};}}static async post(path,obj){try{const response=await Axios.post(path,obj,{headers:this.headers()});return{code:response.status,data:response.data};}catch(e){return{code:400,data:null};}}static async patch(path,obj){try{const response=await Axios.patch(path,obj,{headers:this.headers()});return{code:response.status,data:response.data};}catch(e){return{code:400,data:null};}}static async delete(path){try{const response=await Axios.delete(path,{headers:this.headers()});return{code:response.status,data:response.data};}catch(e){return{code:400,data:null};}}}Api.persistance=\"\".concat(process.env['REACT_APP_PERSISTANCE'],\"/persistance\");Api.memorec=\"\".concat(process.env['REACT_APP_MEMOREC'],\"/memorec\");export default Api;","map":{"version":3,"names":["Axios","Storage","Api","headers","token","read","get","path","response","code","status","data","e","post","obj","patch","delete","persistance","concat","process","env","memorec"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/frontend/src/data/api.ts"],"sourcesContent":["import Axios from 'axios';\r\nimport {Json, DUser} from '../joiner';\r\nimport Storage from \"./storage\";\r\n\r\nexport type Response = {code: number, data: Json|null}\r\nclass Api {\r\n    static persistance = `${process.env['REACT_APP_PERSISTANCE']}/persistance`;\r\n    static memorec = `${process.env['REACT_APP_MEMOREC']}/memorec`;\r\n\r\n    private static headers(): {'auth-token': string} {\r\n        let token: string = Storage.read('token') || '';\r\n        return {'auth-token': token};\r\n    }\r\n    static async get(path: string): Promise<Response> {\r\n        try {\r\n            const response = await Axios.get(path, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async post(path: string, obj: Json): Promise<Response> {\r\n        try {\r\n            const response = await Axios.post(path, obj, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async patch(path: string, obj: Json): Promise<Response> {\r\n        try {\r\n            const response = await Axios.patch(path, obj, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async delete(path: string): Promise<Response> {\r\n        try {\r\n            const response = await Axios.delete(path, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n}\r\n\r\nexport default Api;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,CAAAC,OAAO,KAAM,WAAW,CAG/B,KAAM,CAAAC,GAAI,CAIN,MAAe,CAAAC,OAAOA,CAAA,CAA2B,CAC7C,GAAI,CAAAC,KAAa,CAAGH,OAAO,CAACI,IAAI,CAAC,OAAO,CAAC,EAAI,EAAE,CAC/C,MAAO,CAAC,YAAY,CAAED,KAAK,CAAC,CAChC,CACA,YAAa,CAAAE,GAAGA,CAACC,IAAY,CAAqB,CAC9C,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAR,KAAK,CAACM,GAAG,CAACC,IAAI,CAAE,CAACJ,OAAO,CAAE,IAAI,CAACA,OAAO,CAAC,CAAC,CAAC,CAAC,CACjE,MAAO,CAACM,IAAI,CAAED,QAAQ,CAACE,MAAM,CAAEC,IAAI,CAAEH,QAAQ,CAACG,IAAI,CAAC,CACvD,CAAE,MAAOC,CAAC,CAAE,CACR,MAAO,CAACH,IAAI,CAAE,GAAG,CAAEE,IAAI,CAAE,IAAI,CAAC,CAClC,CACJ,CACA,YAAa,CAAAE,IAAIA,CAACN,IAAY,CAAEO,GAAS,CAAqB,CAC1D,GAAI,CACA,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAR,KAAK,CAACa,IAAI,CAACN,IAAI,CAAEO,GAAG,CAAE,CAACX,OAAO,CAAE,IAAI,CAACA,OAAO,CAAC,CAAC,CAAC,CAAC,CACvE,MAAO,CAACM,IAAI,CAAED,QAAQ,CAACE,MAAM,CAAEC,IAAI,CAAEH,QAAQ,CAACG,IAAI,CAAC,CACvD,CAAE,MAAOC,CAAC,CAAE,CACR,MAAO,CAACH,IAAI,CAAE,GAAG,CAAEE,IAAI,CAAE,IAAI,CAAC,CAClC,CACJ,CACA,YAAa,CAAAI,KAAKA,CAACR,IAAY,CAAEO,GAAS,CAAqB,CAC3D,GAAI,CACA,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAR,KAAK,CAACe,KAAK,CAACR,IAAI,CAAEO,GAAG,CAAE,CAACX,OAAO,CAAE,IAAI,CAACA,OAAO,CAAC,CAAC,CAAC,CAAC,CACxE,MAAO,CAACM,IAAI,CAAED,QAAQ,CAACE,MAAM,CAAEC,IAAI,CAAEH,QAAQ,CAACG,IAAI,CAAC,CACvD,CAAE,MAAOC,CAAC,CAAE,CACR,MAAO,CAACH,IAAI,CAAE,GAAG,CAAEE,IAAI,CAAE,IAAI,CAAC,CAClC,CACJ,CACA,YAAa,CAAAK,MAAMA,CAACT,IAAY,CAAqB,CACjD,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAR,KAAK,CAACgB,MAAM,CAACT,IAAI,CAAE,CAACJ,OAAO,CAAE,IAAI,CAACA,OAAO,CAAC,CAAC,CAAC,CAAC,CACpE,MAAO,CAACM,IAAI,CAAED,QAAQ,CAACE,MAAM,CAAEC,IAAI,CAAEH,QAAQ,CAACG,IAAI,CAAC,CACvD,CAAE,MAAOC,CAAC,CAAE,CACR,MAAO,CAACH,IAAI,CAAE,GAAG,CAAEE,IAAI,CAAE,IAAI,CAAC,CAClC,CACJ,CACJ,CAxCMT,GAAG,CACEe,WAAW,IAAAC,MAAA,CAAMC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC,iBAD1DlB,GAAG,CAEEmB,OAAO,IAAAH,MAAA,CAAMC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,aAwCxD,cAAe,CAAAlB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}