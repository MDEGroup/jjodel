{"ast":null,"code":"import _classCallCheck from \"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport React from \"react\";\nimport NewWindow from \"rc-new-window\";\nimport { DockContextType } from \"./DockData\";\nimport { DockPanel } from \"./DockPanel\";\nimport { mapElementToScreenRect, mapWindowToElement } from \"rc-new-window/lib/ScreenPosition\";\nexport var WindowPanel = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(WindowPanel, _React$PureComponent);\n  var _super = _createSuper(WindowPanel);\n  function WindowPanel() {\n    var _this;\n    _classCallCheck(this, WindowPanel);\n    _this = _super.apply(this, arguments);\n    _this.onOpen = function (w) {\n      if (!_this._window && w) {\n        _this._window = w;\n      }\n    };\n    _this.onUnload = function () {\n      var panelData = _this.props.panelData;\n      var layoutRoot = _this.context.getRootElement();\n      var rect = mapWindowToElement(layoutRoot, _this._window);\n      if (rect.width > 0 && rect.height > 0) {\n        panelData.x = rect.left;\n        panelData.y = rect.top;\n        panelData.w = rect.width;\n        panelData.h = rect.height;\n      }\n      _this.context.dockMove(panelData, null, 'float');\n    };\n    _this.initPopupInnerRect = function () {\n      var panelData = _this.props.panelData;\n      return mapElementToScreenRect(_this.context.getRootElement(), {\n        left: panelData.x,\n        top: panelData.y,\n        width: panelData.w,\n        height: panelData.h\n      });\n    };\n    return _this;\n  }\n  _createClass(WindowPanel, [{\n    key: \"render\",\n    value: function render() {\n      var panelData = this.props.panelData;\n      var x = panelData.x,\n        y = panelData.y,\n        w = panelData.w,\n        h = panelData.h;\n      return React.createElement(NewWindow, {\n        copyStyles: true,\n        onOpen: this.onOpen,\n        onClose: this.onUnload,\n        onBlock: this.onUnload,\n        initPopupInnerRect: this.initPopupInnerRect,\n        width: w,\n        height: h\n      }, React.createElement(\"div\", {\n        className: 'dock-wbox'\n      }, React.createElement(DockPanel, {\n        size: panelData.size,\n        panelData: panelData,\n        key: panelData.id\n      })));\n    }\n  }]);\n  return WindowPanel;\n}(React.PureComponent);\nWindowPanel.contextType = DockContextType;","map":{"version":3,"names":["React","NewWindow","DockContextType","DockPanel","mapElementToScreenRect","mapWindowToElement","WindowPanel","_React$PureComponent","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","onOpen","w","_window","onUnload","panelData","props","layoutRoot","context","getRootElement","rect","width","height","x","left","y","top","h","dockMove","initPopupInnerRect","_createClass","key","value","render","createElement","copyStyles","onClose","onBlock","className","size","id","PureComponent","contextType"],"sources":["C:/d/Programming/web/jodel-mde/node_modules/rc-dock/es/WindowPanel.js"],"sourcesContent":["import React from \"react\";\nimport NewWindow from \"rc-new-window\";\nimport { DockContextType } from \"./DockData\";\nimport { DockPanel } from \"./DockPanel\";\nimport { mapElementToScreenRect, mapWindowToElement } from \"rc-new-window/lib/ScreenPosition\";\nexport class WindowPanel extends React.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.onOpen = (w) => {\n            if (!this._window && w) {\n                this._window = w;\n            }\n        };\n        this.onUnload = () => {\n            let { panelData } = this.props;\n            let layoutRoot = this.context.getRootElement();\n            const rect = mapWindowToElement(layoutRoot, this._window);\n            if (rect.width > 0 && rect.height > 0) {\n                panelData.x = rect.left;\n                panelData.y = rect.top;\n                panelData.w = rect.width;\n                panelData.h = rect.height;\n            }\n            this.context.dockMove(panelData, null, 'float');\n        };\n        this.initPopupInnerRect = () => {\n            let { panelData } = this.props;\n            return mapElementToScreenRect(this.context.getRootElement(), {\n                left: panelData.x,\n                top: panelData.y,\n                width: panelData.w,\n                height: panelData.h\n            });\n        };\n    }\n    render() {\n        let { panelData } = this.props;\n        let { x, y, w, h } = panelData;\n        return React.createElement(NewWindow, { copyStyles: true, onOpen: this.onOpen, onClose: this.onUnload, onBlock: this.onUnload, initPopupInnerRect: this.initPopupInnerRect, width: w, height: h },\n            React.createElement(\"div\", { className: 'dock-wbox' },\n                React.createElement(DockPanel, { size: panelData.size, panelData: panelData, key: panelData.id })));\n    }\n}\nWindowPanel.contextType = DockContextType;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}