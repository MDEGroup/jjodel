{"ast":null,"code":"import{DModel,LModel}from'../../../joiner';import TabDataMaker from'../../../components/abstract/tabs/TabDataMaker';import DockManager from'../../../components/abstract/DockManager';import'./style.scss';import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ModelPopup(props){const{metamodels,project,setClicked}=props;const[name,setName]=useState('');const[metamodel,setMetamodel]=useState('');const createM1=async()=>{const dModel=DModel.new(name,metamodel,false,true);const lModel=LModel.fromD(dModel);project.models=[...project.models,lModel];project.graphs=[...project.graphs,lModel.node];const tab=TabDataMaker.model(dModel);await DockManager.open('models',tab);setClicked('');};return/*#__PURE__*/_jsx(\"div\",{className:'popup-container',children:/*#__PURE__*/_jsxs(\"div\",{className:'popup',children:[/*#__PURE__*/_jsx(\"div\",{className:'close-container',children:/*#__PURE__*/_jsx(\"i\",{onClick:e=>setClicked(''),className:'bi bi-x-lg text-danger close'})}),/*#__PURE__*/_jsxs(\"section\",{className:'px-3',children:[/*#__PURE__*/_jsxs(\"div\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{className:'input',onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Metamodel:\"}),/*#__PURE__*/_jsxs(\"select\",{className:'select',onChange:e=>setMetamodel(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:'',children:\"----------\"}),metamodels.map(m=>/*#__PURE__*/_jsx(\"option\",{value:m.id,children:m.name},m.id))]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createM1,disabled:!name||!metamodel,className:'btn btn-success d-block w-100 mt-3',children:\"Create\"})]})]})});}export{ModelPopup};","map":{"version":3,"names":["DModel","LModel","TabDataMaker","DockManager","React","useState","jsx","_jsx","jsxs","_jsxs","ModelPopup","props","metamodels","project","setClicked","name","setName","metamodel","setMetamodel","createM1","dModel","new","lModel","fromD","models","graphs","node","tab","model","open","className","children","onClick","e","onChange","target","value","map","m","id","disabled"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/frontend/src/pages/components/popups/Model.tsx"],"sourcesContent":["import {DModel, Input, LGraph, LModel, LPackage, LProject, Pointer, Selectors, U} from '../../../joiner';\r\nimport TabDataMaker from '../../../components/abstract/tabs/TabDataMaker';\r\nimport DockManager from '../../../components/abstract/DockManager';\r\nimport './style.scss';\r\nimport React, {Dispatch, SetStateAction, useState} from 'react';\r\n\r\ntype Props = {metamodels: LModel[], project: LProject, setClicked: Dispatch<SetStateAction<string>>};\r\nfunction ModelPopup(props: Props): JSX.Element {\r\n    const {metamodels, project, setClicked} = props;\r\n    const [name, setName] = useState('');\r\n    const [metamodel, setMetamodel] = useState<Pointer>('');\r\n\r\n    const createM1 = async() => {\r\n        const dModel: DModel = DModel.new(name, metamodel as Pointer<DModel, 1, 1, LModel>, false, true);\r\n        const lModel: LModel = LModel.fromD(dModel);\r\n        project.models = [...project.models, lModel];\r\n        project.graphs = [...project.graphs, lModel.node as LGraph];\r\n        const tab = TabDataMaker.model(dModel);\r\n        await DockManager.open('models', tab);\r\n        setClicked('');\r\n    }\r\n\r\n    return(<div className={'popup-container'}>\r\n        <div className={'popup'}>\r\n            <div className={'close-container'}>\r\n                <i onClick={e => setClicked('')} className={'bi bi-x-lg text-danger close'} />\r\n            </div>\r\n            <section className={'px-3'}>\r\n                <div className={'input-container'}>\r\n                    <b className={'me-2'}>Name:</b>\r\n                    <input className={'input'} onChange={e => setName(e.target.value)} />\r\n                </div>\r\n                <div className={'input-container'}>\r\n                    <b className={'me-2'}>Metamodel:</b>\r\n                    <select className={'select'} onChange={e => setMetamodel(e.target.value)}>\r\n                        <option value={''}>----------</option>\r\n                        {metamodels.map(m => <option key={m.id} value={m.id}>{m.name}</option>)}\r\n                    </select>\r\n                </div>\r\n                <button onClick={createM1} disabled={!name || !metamodel} className={'btn btn-success d-block w-100 mt-3'}>\r\n                        Create\r\n                </button>\r\n            </section>\r\n        </div>\r\n    </div>);\r\n}\r\n\r\nexport {ModelPopup};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}