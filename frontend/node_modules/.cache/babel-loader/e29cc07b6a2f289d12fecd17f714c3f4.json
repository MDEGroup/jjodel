{"ast":null,"code":"import _objectSpread from \"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport loader from '@monaco-editor/loader';\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport MonacoContainer from '../MonacoContainer/index.js';\nimport useMount from '../hooks/useMount/index.js';\nimport useUpdate from '../hooks/useUpdate/index.js';\nimport { getOrCreateModel, noop, isUndefined } from '../utils/index.js';\nimport usePrevious from '../hooks/usePrevious/index.js';\nvar viewStates = new Map();\nfunction Editor(_ref) {\n  var defaultValue = _ref.defaultValue,\n    defaultLanguage = _ref.defaultLanguage,\n    defaultPath = _ref.defaultPath,\n    value = _ref.value,\n    language = _ref.language,\n    path = _ref.path,\n    theme = _ref.theme,\n    line = _ref.line,\n    loading = _ref.loading,\n    options = _ref.options,\n    overrideServices = _ref.overrideServices,\n    saveViewState = _ref.saveViewState,\n    keepCurrentModel = _ref.keepCurrentModel,\n    width = _ref.width,\n    height = _ref.height,\n    className = _ref.className,\n    wrapperProps = _ref.wrapperProps,\n    beforeMount = _ref.beforeMount,\n    onMount = _ref.onMount,\n    onChange = _ref.onChange,\n    onValidate = _ref.onValidate;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isEditorReady = _useState2[0],\n    setIsEditorReady = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isMonacoMounting = _useState4[0],\n    setIsMonacoMounting = _useState4[1];\n  var monacoRef = useRef(null);\n  var editorRef = useRef(null);\n  var containerRef = useRef(null);\n  var onMountRef = useRef(onMount);\n  var beforeMountRef = useRef(beforeMount);\n  var subscriptionRef = useRef(null);\n  var valueRef = useRef(value);\n  var previousPath = usePrevious(path);\n  useMount(function () {\n    var cancelable = loader.init();\n    cancelable.then(function (monaco) {\n      return (monacoRef.current = monaco) && setIsMonacoMounting(false);\n    }).catch(function (error) {\n      return (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error);\n    });\n    return function () {\n      return editorRef.current ? disposeEditor() : cancelable.cancel();\n    };\n  });\n  useUpdate(function () {\n    var model = getOrCreateModel(monacoRef.current, defaultValue || value, defaultLanguage || language, path);\n    if (model !== editorRef.current.getModel()) {\n      saveViewState && viewStates.set(previousPath, editorRef.current.saveViewState());\n      editorRef.current.setModel(model);\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(path));\n    }\n  }, [path], isEditorReady);\n  useUpdate(function () {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  useUpdate(function () {\n    if (editorRef.current.getOption(monacoRef.current.editor.EditorOption.readOnly)) {\n      editorRef.current.setValue(value);\n    } else {\n      if (value !== editorRef.current.getValue()) {\n        editorRef.current.executeEdits('', [{\n          range: editorRef.current.getModel().getFullModelRange(),\n          text: value,\n          forceMoveMarkers: true\n        }]);\n        editorRef.current.pushUndoStop();\n      }\n    }\n  }, [value], isEditorReady);\n  useUpdate(function () {\n    monacoRef.current.editor.setModelLanguage(editorRef.current.getModel(), language);\n  }, [language], isEditorReady);\n  useUpdate(function () {\n    // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n    if (!isUndefined(line)) {\n      editorRef.current.revealLine(line);\n    }\n  }, [line], isEditorReady);\n  useUpdate(function () {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  var createEditor = useCallback(function () {\n    beforeMountRef.current(monacoRef.current);\n    var autoCreatedModelPath = path || defaultPath;\n    var defaultModel = getOrCreateModel(monacoRef.current, value || defaultValue, defaultLanguage || language, autoCreatedModelPath);\n    editorRef.current = monacoRef.current.editor.create(containerRef.current, _objectSpread({\n      model: defaultModel,\n      automaticLayout: true\n    }, options), overrideServices);\n    saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [defaultValue, defaultLanguage, defaultPath, value, language, path, options, overrideServices, saveViewState, theme]);\n  useEffect(function () {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current, monacoRef.current);\n    }\n  }, [isEditorReady]);\n  useEffect(function () {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]); // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n\n  valueRef.current = value;\n  useEffect(function () {\n    if (isEditorReady && onChange) {\n      var _subscriptionRef$curr, _editorRef$current;\n      (_subscriptionRef$curr = subscriptionRef.current) === null || _subscriptionRef$curr === void 0 ? void 0 : _subscriptionRef$curr.dispose();\n      subscriptionRef.current = (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 ? void 0 : _editorRef$current.onDidChangeModelContent(function (event) {\n        var editorValue = editorRef.current.getValue();\n        if (valueRef.current !== editorValue) {\n          onChange(editorValue, event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]); // onValidate\n\n  useEffect(function () {\n    if (isEditorReady) {\n      var changeMarkersListener = monacoRef.current.editor.onDidChangeMarkers(function (uris) {\n        var _editorRef$current$ge;\n        var editorUri = (_editorRef$current$ge = editorRef.current.getModel()) === null || _editorRef$current$ge === void 0 ? void 0 : _editorRef$current$ge.uri;\n        if (editorUri) {\n          var currentEditorHasMarkerChanges = uris.find(function (uri) {\n            return uri.path === editorUri.path;\n          });\n          if (currentEditorHasMarkerChanges) {\n            var markers = monacoRef.current.editor.getModelMarkers({\n              resource: editorUri\n            });\n            onValidate === null || onValidate === void 0 ? void 0 : onValidate(markers);\n          }\n        }\n      });\n      return function () {\n        changeMarkersListener === null || changeMarkersListener === void 0 ? void 0 : changeMarkersListener.dispose();\n      };\n    }\n  }, [isEditorReady, onValidate]);\n  function disposeEditor() {\n    var _subscriptionRef$curr2;\n    (_subscriptionRef$curr2 = subscriptionRef.current) === null || _subscriptionRef$curr2 === void 0 ? void 0 : _subscriptionRef$curr2.dispose();\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current.saveViewState());\n    } else {\n      var _editorRef$current$ge2;\n      (_editorRef$current$ge2 = editorRef.current.getModel()) === null || _editorRef$current$ge2 === void 0 ? void 0 : _editorRef$current$ge2.dispose();\n    }\n    editorRef.current.dispose();\n  }\n  return /*#__PURE__*/React.createElement(MonacoContainer, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperProps: wrapperProps\n  });\n}\nEditor.propTypes = {\n  defaultValue: PropTypes.string,\n  defaultPath: PropTypes.string,\n  defaultLanguage: PropTypes.string,\n  value: PropTypes.string,\n  language: PropTypes.string,\n  path: PropTypes.string,\n  /* === */\n  theme: PropTypes.string,\n  line: PropTypes.number,\n  loading: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  options: PropTypes.object,\n  overrideServices: PropTypes.object,\n  saveViewState: PropTypes.bool,\n  keepCurrentModel: PropTypes.bool,\n  /* === */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  className: PropTypes.string,\n  wrapperProps: PropTypes.object,\n  /* === */\n  beforeMount: PropTypes.func,\n  onMount: PropTypes.func,\n  onChange: PropTypes.func,\n  onValidate: PropTypes.func\n};\nEditor.defaultProps = {\n  theme: 'light',\n  loading: 'Loading...',\n  options: {},\n  overrideServices: {},\n  saveViewState: true,\n  keepCurrentModel: false,\n  /* === */\n  width: '100%',\n  height: '100%',\n  wrapperProps: {},\n  /* === */\n  beforeMount: noop,\n  onMount: noop,\n  onValidate: noop\n};\nexport default Editor;","map":{"version":3,"names":["loader","React","useState","useRef","useCallback","useEffect","PropTypes","MonacoContainer","useMount","useUpdate","getOrCreateModel","noop","isUndefined","usePrevious","viewStates","Map","Editor","_ref","defaultValue","defaultLanguage","defaultPath","value","language","path","theme","line","loading","options","overrideServices","saveViewState","keepCurrentModel","width","height","className","wrapperProps","beforeMount","onMount","onChange","onValidate","_useState","_useState2","_slicedToArray","isEditorReady","setIsEditorReady","_useState3","_useState4","isMonacoMounting","setIsMonacoMounting","monacoRef","editorRef","containerRef","onMountRef","beforeMountRef","subscriptionRef","valueRef","previousPath","cancelable","init","then","monaco","current","catch","error","type","console","disposeEditor","cancel","model","getModel","set","setModel","restoreViewState","get","updateOptions","getOption","editor","EditorOption","readOnly","setValue","getValue","executeEdits","range","getFullModelRange","text","forceMoveMarkers","pushUndoStop","setModelLanguage","revealLine","setTheme","createEditor","autoCreatedModelPath","defaultModel","create","_objectSpread","automaticLayout","_subscriptionRef$curr","_editorRef$current","dispose","onDidChangeModelContent","event","editorValue","changeMarkersListener","onDidChangeMarkers","uris","_editorRef$current$ge","editorUri","uri","currentEditorHasMarkerChanges","find","markers","getModelMarkers","resource","_subscriptionRef$curr2","_editorRef$current$ge2","createElement","propTypes","string","number","oneOfType","element","object","bool","func","defaultProps"],"sources":["C:/d/Programming/web/jodel-mde/node_modules/@monaco-editor/react/lib/es/Editor/Editor.js"],"sourcesContent":["import loader from '@monaco-editor/loader';\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport MonacoContainer from '../MonacoContainer/index.js';\nimport useMount from '../hooks/useMount/index.js';\nimport useUpdate from '../hooks/useUpdate/index.js';\nimport { getOrCreateModel, noop, isUndefined } from '../utils/index.js';\nimport usePrevious from '../hooks/usePrevious/index.js';\n\nconst viewStates = new Map();\n\nfunction Editor({\n  defaultValue,\n  defaultLanguage,\n  defaultPath,\n  value,\n  language,\n  path,\n\n  /* === */\n  theme,\n  line,\n  loading,\n  options,\n  overrideServices,\n  saveViewState,\n  keepCurrentModel,\n\n  /* === */\n  width,\n  height,\n  className,\n  wrapperProps,\n\n  /* === */\n  beforeMount,\n  onMount,\n  onChange,\n  onValidate\n}) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef(null);\n  const editorRef = useRef(null);\n  const containerRef = useRef(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef(null);\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  useMount(() => {\n    const cancelable = loader.init();\n    cancelable.then(monaco => (monacoRef.current = monaco) && setIsMonacoMounting(false)).catch(error => (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error));\n    return () => editorRef.current ? disposeEditor() : cancelable.cancel();\n  });\n  useUpdate(() => {\n    const model = getOrCreateModel(monacoRef.current, defaultValue || value, defaultLanguage || language, path);\n\n    if (model !== editorRef.current.getModel()) {\n      saveViewState && viewStates.set(previousPath, editorRef.current.saveViewState());\n      editorRef.current.setModel(model);\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(path));\n    }\n  }, [path], isEditorReady);\n  useUpdate(() => {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  useUpdate(() => {\n    if (editorRef.current.getOption(monacoRef.current.editor.EditorOption.readOnly)) {\n      editorRef.current.setValue(value);\n    } else {\n      if (value !== editorRef.current.getValue()) {\n        editorRef.current.executeEdits('', [{\n          range: editorRef.current.getModel().getFullModelRange(),\n          text: value,\n          forceMoveMarkers: true\n        }]);\n        editorRef.current.pushUndoStop();\n      }\n    }\n  }, [value], isEditorReady);\n  useUpdate(() => {\n    monacoRef.current.editor.setModelLanguage(editorRef.current.getModel(), language);\n  }, [language], isEditorReady);\n  useUpdate(() => {\n    // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n    if (!isUndefined(line)) {\n      editorRef.current.revealLine(line);\n    }\n  }, [line], isEditorReady);\n  useUpdate(() => {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  const createEditor = useCallback(() => {\n    beforeMountRef.current(monacoRef.current);\n    const autoCreatedModelPath = path || defaultPath;\n    const defaultModel = getOrCreateModel(monacoRef.current, value || defaultValue, defaultLanguage || language, autoCreatedModelPath);\n    editorRef.current = monacoRef.current.editor.create(containerRef.current, {\n      model: defaultModel,\n      automaticLayout: true,\n      ...options\n    }, overrideServices);\n    saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [defaultValue, defaultLanguage, defaultPath, value, language, path, options, overrideServices, saveViewState, theme]);\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current, monacoRef.current);\n    }\n  }, [isEditorReady]);\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]); // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n\n  valueRef.current = value;\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      var _subscriptionRef$curr, _editorRef$current;\n\n      (_subscriptionRef$curr = subscriptionRef.current) === null || _subscriptionRef$curr === void 0 ? void 0 : _subscriptionRef$curr.dispose();\n      subscriptionRef.current = (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 ? void 0 : _editorRef$current.onDidChangeModelContent(event => {\n        const editorValue = editorRef.current.getValue();\n\n        if (valueRef.current !== editorValue) {\n          onChange(editorValue, event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]); // onValidate\n\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current.editor.onDidChangeMarkers(uris => {\n        var _editorRef$current$ge;\n\n        const editorUri = (_editorRef$current$ge = editorRef.current.getModel()) === null || _editorRef$current$ge === void 0 ? void 0 : _editorRef$current$ge.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find(uri => uri.path === editorUri.path);\n\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current.editor.getModelMarkers({\n              resource: editorUri\n            });\n            onValidate === null || onValidate === void 0 ? void 0 : onValidate(markers);\n          }\n        }\n      });\n      return () => {\n        changeMarkersListener === null || changeMarkersListener === void 0 ? void 0 : changeMarkersListener.dispose();\n      };\n    }\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    var _subscriptionRef$curr2;\n\n    (_subscriptionRef$curr2 = subscriptionRef.current) === null || _subscriptionRef$curr2 === void 0 ? void 0 : _subscriptionRef$curr2.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current.saveViewState());\n    } else {\n      var _editorRef$current$ge2;\n\n      (_editorRef$current$ge2 = editorRef.current.getModel()) === null || _editorRef$current$ge2 === void 0 ? void 0 : _editorRef$current$ge2.dispose();\n    }\n\n    editorRef.current.dispose();\n  }\n\n  return /*#__PURE__*/React.createElement(MonacoContainer, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperProps: wrapperProps\n  });\n}\n\nEditor.propTypes = {\n  defaultValue: PropTypes.string,\n  defaultPath: PropTypes.string,\n  defaultLanguage: PropTypes.string,\n  value: PropTypes.string,\n  language: PropTypes.string,\n  path: PropTypes.string,\n\n  /* === */\n  theme: PropTypes.string,\n  line: PropTypes.number,\n  loading: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  options: PropTypes.object,\n  overrideServices: PropTypes.object,\n  saveViewState: PropTypes.bool,\n  keepCurrentModel: PropTypes.bool,\n\n  /* === */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  className: PropTypes.string,\n  wrapperProps: PropTypes.object,\n\n  /* === */\n  beforeMount: PropTypes.func,\n  onMount: PropTypes.func,\n  onChange: PropTypes.func,\n  onValidate: PropTypes.func\n};\nEditor.defaultProps = {\n  theme: 'light',\n  loading: 'Loading...',\n  options: {},\n  overrideServices: {},\n  saveViewState: true,\n  keepCurrentModel: false,\n\n  /* === */\n  width: '100%',\n  height: '100%',\n  wrapperProps: {},\n\n  /* === */\n  beforeMount: noop,\n  onMount: noop,\n  onValidate: noop\n};\n\nexport default Editor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}