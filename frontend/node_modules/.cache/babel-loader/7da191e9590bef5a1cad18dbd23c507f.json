{"ast":null,"code":"import{DataOutputComponent,Log,U}from'../../joiner';import React,{PureComponent}from'react';import{connect}from'react-redux';import'./style.scss';import{Empty}from\"./Empty\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class ThisState{constructor(){this.categoriesActive={l:true,i:true,w:true,e:true,ex:true,eDev:true,exDev:true};this.searchTag='';this.searchTagAsRegExp=false;this.searchTagIsDeep=false;this.regexpIsInvalid=false;this.l_counter=0;this.i_counter=0;this.w_counter=0;this.e_counter=0;this.ex_counter=0;this.eDev_counter=0;this.exDev_counter=0;}// to mark the input as invalid without triggering a Log.e message loop\n// counters to force update. (data source is in Log.messageMapping\n}class LoggerComponent extends PureComponent{constructor(props,context){super(props,context);this.id=void 0;this.categoryAliases=void 0;this.changeSearch=e=>{this.setState({...this.state,searchTag:e.target.value,regexpIsInvalid:false});};this.changeRegexpSearch=e=>{this.setState({...this.state,searchTagAsRegExp:e.target.checked});};this.changeDeepSearch=e=>{this.setState({...this.state,searchTagIsDeep:e.target.checked});};this.id=LoggerComponent.max_id++;this.state=new ThisState();// minDate: DDate.addYear(new Date(), -1, true).getTime(),\n// maxDate: DDate.addYear(new Date(), +1, true).getTime()};\nLoggerComponent.loggers.push(this);Log._loggerComponent=this;this.categoryAliases={l:null,ex:\"e\",exDev:\"eDev\"};// Log.registerLogger(this, Log.e);\n}isCatActive(cat){if(this.categoryAliases[cat]!==undefined)cat=this.categoryAliases[cat];return!!this.state.categoriesActive[cat];}/*\r\n    private changeMinDate = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, minDate: new Date(e.target.value).getTime() });\r\n\r\n    }\r\n    private changeMaxDate = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, maxDate: new Date(e.target.value).getTime() });\r\n    }*/filter(msg){let s=this.state.searchTagIsDeep?msg.long_string:msg.short_string;if(this.state.searchTagAsRegExp){try{let regexp=new RegExp(this.state.searchTag);return regexp.test(s);}catch(e){// this is to avoid a loop of render-error\nif(!this.state.regexpIsInvalid){this.setState({regexpIsInvalid:true});Log.ee(\"invalid regular expression in Logger.filter\",(e.message||'').split('\\n')[0]);}}}return s.indexOf(this.state.searchTag)>=0;}toggleCat(cat){this.setState({categoriesActive:{...this.state.categoriesActive,[cat]:!this.state.categoriesActive[cat]}});}displayArgs(msg,category){if(!(msg===null||msg===void 0?void 0:msg.raw_args))return undefined;let args=msg.raw_args;if(!Array.isArray(args))args=[args];let objs=[];let primitives=[];for(let a of args){switch(typeof a){case\"object\":case\"function\":objs.push(a);primitives.push(\"[\"+typeof a+\"_\"+objs.length+\"]\");break;case\"symbol\":primitives.push(a.toString());break;default:primitives.push(a);}}let date=new Date(msg.time);return/*#__PURE__*/_jsxs(\"div\",{className:\"cat hoverable cat_\"+category,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:primitives.join(\" \")}),/*#__PURE__*/_jsxs(\"div\",{className:\"text content\",style:{right:0,top:0,boxShadow:'none',background:'inherit'},children:[date.getDate()+'/'+date.toLocaleTimeString(),/*#__PURE__*/_jsx(\"button\",{title:\"copy to clipboard\",className:\"bg btn-clipboard my-auto ms-2\",onClick:e=>{window.lastmsg=msg;console.log(msg);U.clipboardCopy(msg.long_string);},children:/*#__PURE__*/_jsx(\"i\",{className:\"copy bi bi-clipboard\"})}),/*#__PURE__*/_jsx(\"button\",{title:\"report error\",className:\"bg btn-clipboard my-auto ms-2\",onClick:e=>{window.lastmsg=msg;console.log(msg);U.clipboardCopy(msg.long_string);},children:/*#__PURE__*/_jsx(\"i\",{className:\"copy bi bi-clipboard\"})})]}),objs.map((o,i)=>/*#__PURE__*/_jsx(DataOutputComponent,{data:o,rootName:\"\"+typeof o+\"_\"+(i+1)+\"\"},i))]});}clearLogs(){for(let key in Log.messageMapping)Log.messageMapping[key]=[];Log.allMessages=[];this.forceUpdate();// just need to modify any counter in a way that is different from both curr val and the next counter update\n// this.setState({e_counter: -1});\n}render(){let key;const categoryAliases=this.categoryAliases;const labelAliases={i:\"Info\",w:\"Warning\",e:\"Errors\",eDev:\"Exceptions\"};const categories=Object.keys(Log.messageMapping).filter(c=>categoryAliases[c]!==null);let allMessages=[];for(key of categories){if(!this.isCatActive(key))continue;// U.arrayMergeInPlace(allMessages, Log.messageMapping[key])\nlet msg;for(msg of Log.messageMapping[key]){if(this.filter(msg))allMessages.push(msg);}}// order is reversed so newest is first in list\nallMessages=allMessages.sort((a,b)=>b.time-a.time);return/*#__PURE__*/_jsxs(\"section\",{className:'p-2',children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex search-row p-1\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"filter\",className:\"input search \"+(this.state.regexpIsInvalid&&\"invalid\"),type:\"search\",value:this.state.searchTag,onChange:this.changeSearch}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"checkbox\",checked:this.state.searchTagAsRegExp,onChange:this.changeRegexpSearch}),/*#__PURE__*/_jsx(\"label\",{children:\"RegExp\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"checkbox\",checked:this.state.searchTagIsDeep,onChange:this.changeDeepSearch}),/*#__PURE__*/_jsx(\"label\",{children:\"Deep\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>this.clearLogs(),className:'btn btn-danger ms-1',children:\"Clear\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"categories\",children:categories.filter(cat=>!(cat in categoryAliases)).map(cat=>/*#__PURE__*/_jsx(\"button\",{className:\"btn btn\"+(this.isCatActive(cat)&&\"-outline\")+\"-danger cat cat_\"+cat+(this.isCatActive(cat)?\" active\":\" inactive\"),onClick:e=>this.toggleCat(cat),children:labelAliases[cat]||cat},cat))}),/*#__PURE__*/_jsxs(\"ul\",{className:\"entries\",children:[allMessages.map(msg=>/*#__PURE__*/_jsxs(\"li\",{className:\"hoverable cat cat_\"+msg.category,children:[false&&/*#__PURE__*/_jsx(\"span\",{className:\"preview\",children:msg.short_string}),false&&/*#__PURE__*/_jsx(\"span\",{className:\"content\",children:msg.long_string}),this.displayArgs(msg,msg.category)]},msg.time+'_'+msg.short_string)),allMessages.length===0&&/*#__PURE__*/_jsx(Empty,{})]})]});}}LoggerComponent.cname=\"LoggerComponent\";LoggerComponent.loggers=[];LoggerComponent.max_id=0;function mapStateToProps(state,ownProps){const ret={};return ret;}function mapDispatchToProps(dispatch){const ret={};return ret;}export const LoggerConnected=connect(mapStateToProps,mapDispatchToProps)(LoggerComponent);export const Logger=function(props){let children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return/*#__PURE__*/_jsx(LoggerConnected,{...props,children});};export default Logger;","map":{"version":3,"names":["DataOutputComponent","Log","U","React","PureComponent","connect","Empty","jsx","_jsx","jsxs","_jsxs","ThisState","constructor","categoriesActive","l","i","w","e","ex","eDev","exDev","searchTag","searchTagAsRegExp","searchTagIsDeep","regexpIsInvalid","l_counter","i_counter","w_counter","e_counter","ex_counter","eDev_counter","exDev_counter","LoggerComponent","props","context","id","categoryAliases","changeSearch","setState","state","target","value","changeRegexpSearch","checked","changeDeepSearch","max_id","loggers","push","_loggerComponent","isCatActive","cat","undefined","filter","msg","s","long_string","short_string","regexp","RegExp","test","ee","message","split","indexOf","toggleCat","displayArgs","category","raw_args","args","Array","isArray","objs","primitives","a","length","toString","date","Date","time","className","children","join","style","right","top","boxShadow","background","getDate","toLocaleTimeString","title","onClick","window","lastmsg","console","log","clipboardCopy","map","o","data","rootName","clearLogs","key","messageMapping","allMessages","forceUpdate","render","labelAliases","categories","Object","keys","c","sort","b","placeholder","type","onChange","cname","mapStateToProps","ownProps","ret","mapDispatchToProps","dispatch","LoggerConnected","Logger","arguments"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/frontend/src/components/editors/Logger.tsx"],"sourcesContent":["import {DataOutputComponent, Dictionary, DState, GObject, Log, LoggerCategoryState, LoggerType, U} from '../../joiner';\r\nimport {FakeStateProps} from '../../joiner/types';\r\nimport React, {Component, Dispatch, PureComponent, ReactElement, ReactNode} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport './style.scss';\r\nimport {Empty} from \"./Empty\";\r\n\r\nclass ThisState {\r\n    categoriesActive: Dictionary<LoggerType, boolean> = {l: true, i: true, w: true, e: true, ex: true, eDev: true, exDev: true};\r\n    searchTag: string = '';\r\n    searchTagAsRegExp: boolean = false;\r\n    searchTagIsDeep: boolean = false;\r\n    regexpIsInvalid: boolean = false; // to mark the input as invalid without triggering a Log.e message loop\r\n\r\n    // counters to force update. (data source is in Log.messageMapping\r\n    l_counter: number = 0;\r\n    i_counter: number = 0;\r\n    w_counter: number = 0;\r\n    e_counter: number = 0;\r\n    ex_counter: number = 0;\r\n    eDev_counter: number = 0;\r\n    exDev_counter: number = 0;\r\n}\r\n\r\nclass LoggerComponent extends PureComponent<AllProps, ThisState> {\r\n    public static cname: string = \"LoggerComponent\";\r\n    public static loggers: LoggerComponent[] = [];\r\n    private static max_id: number = 0;\r\n    public id: number;\r\n    public categoryAliases: Partial<Dictionary<LoggerType, LoggerType>>;\r\n\r\n    constructor(props: AllProps, context: any) {\r\n        super(props, context);\r\n        this.id =  LoggerComponent.max_id++;\r\n        this.state = new ThisState();\r\n        // minDate: DDate.addYear(new Date(), -1, true).getTime(),\r\n        // maxDate: DDate.addYear(new Date(), +1, true).getTime()};\r\n        LoggerComponent.loggers.push(this);\r\n        Log._loggerComponent = this;\r\n\r\n        this.categoryAliases = {l: null as any, ex:\"e\", exDev:\"eDev\"};\r\n        // Log.registerLogger(this, Log.e);\r\n    }\r\n\r\n    private isCatActive(cat: LoggerType): boolean {\r\n        if (this.categoryAliases[cat] !== undefined)\r\n            cat = this.categoryAliases[cat] as LoggerType;\r\n        return !!this.state.categoriesActive[cat];\r\n    }\r\n\r\n    private changeSearch = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        this.setState({...this.state, searchTag: e.target.value, regexpIsInvalid: false});\r\n    }\r\n    private changeRegexpSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, searchTagAsRegExp: e.target.checked});\r\n    }\r\n    private changeDeepSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, searchTagIsDeep: e.target.checked});\r\n    }\r\n    /*\r\n    private changeMinDate = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, minDate: new Date(e.target.value).getTime() });\r\n\r\n    }\r\n    private changeMaxDate = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, maxDate: new Date(e.target.value).getTime() });\r\n    }*/\r\n    filter(msg: LoggerCategoryState): boolean {\r\n        let s = this.state.searchTagIsDeep ?  msg.long_string : msg.short_string;\r\n        if (this.state.searchTagAsRegExp) {\r\n            try {\r\n                let regexp = new RegExp(this.state.searchTag);\r\n                return regexp.test(s);\r\n            } catch (e: any) {\r\n\r\n                // this is to avoid a loop of render-error\r\n                if (!this.state.regexpIsInvalid){\r\n                    this.setState({regexpIsInvalid: true});\r\n                    Log.ee(\"invalid regular expression in Logger.filter\", (e.message || '').split('\\n')[0]);\r\n                }\r\n            }\r\n        }\r\n        return s.indexOf(this.state.searchTag) >= 0;\r\n    }\r\n\r\n    toggleCat(cat: LoggerType): void{\r\n        this.setState({categoriesActive:{...this.state.categoriesActive, [cat]: !this.state.categoriesActive[cat]}} )\r\n    }\r\n    displayArgs(msg: LoggerCategoryState, category: LoggerType): ReactNode{\r\n        if (!msg?.raw_args) return undefined;\r\n        let args = msg.raw_args;\r\n        if (!Array.isArray(args)) args = [args];\r\n        let objs: GObject[] = [];\r\n        let primitives: any[] = [];\r\n        for (let a of args){\r\n            switch(typeof a){\r\n                case \"object\": case \"function\": objs.push(a); primitives.push(\"[\"+(typeof a)+\"_\"+(objs.length)+\"]\"); break;\r\n                case \"symbol\": primitives.push(a.toString()); break;\r\n                default: primitives.push(a);\r\n            }\r\n        }\r\n        let date = new Date(msg.time);\r\n        return <div className={\"cat hoverable cat_\"+category}>\r\n            <div className={\"text\"}>{primitives.join(\" \")}</div>\r\n            <div className={\"text content\"} style={{right: 0, top: 0, boxShadow: 'none', background: 'inherit'}}>\r\n                {date.getDate() +'/'+ date.toLocaleTimeString()}\r\n                <button title={\"copy to clipboard\"} className={\"bg btn-clipboard my-auto ms-2\"}\r\n                        onClick={(e)=> {\r\n                            (window as any).lastmsg = msg;\r\n                            console.log(msg);\r\n                            U.clipboardCopy(msg.long_string)\r\n                        }}\r\n                ><i className={\"copy bi bi-clipboard\"} /></button>\r\n                <button title={\"report error\"} className={\"bg btn-clipboard my-auto ms-2\"}\r\n                        onClick={(e)=> {\r\n                            (window as any).lastmsg = msg;\r\n                            console.log(msg);\r\n                            U.clipboardCopy(msg.long_string)\r\n                        }}\r\n                ><i className={\"copy bi bi-clipboard\"} /></button>\r\n            </div>\r\n            { objs.map((o,i) => <DataOutputComponent key={i} data={o} rootName={\"\"+(typeof o)+\"_\"+(i+1)+\"\"} />) }\r\n        </div>;\r\n    }\r\n\r\n    clearLogs() {\r\n        for (let key in Log.messageMapping) Log.messageMapping[key as LoggerType] = [];\r\n        Log.allMessages = [];\r\n        this.forceUpdate();\r\n        // just need to modify any counter in a way that is different from both curr val and the next counter update\r\n        // this.setState({e_counter: -1});\r\n    }\r\n    render(): ReactNode {\r\n        let key: LoggerType;\r\n        const categoryAliases = this.categoryAliases;\r\n        const labelAliases: Dictionary<string, string> = {i:\"Info\", w:\"Warning\", e:\"Errors\", eDev:\"Exceptions\"};\r\n        const categories: LoggerType[] = (Object.keys(Log.messageMapping) as LoggerType[]).filter(c => categoryAliases[c] !== null);\r\n        let allMessages: LoggerCategoryState[] = [];\r\n        for (key of categories) {\r\n            if (!this.isCatActive(key)) continue; // U.arrayMergeInPlace(allMessages, Log.messageMapping[key])\r\n            let msg: LoggerCategoryState;\r\n            for (msg of Log.messageMapping[key]) {\r\n                if (this.filter(msg)) allMessages.push(msg);\r\n            }\r\n        }\r\n        // order is reversed so newest is first in list\r\n        allMessages = allMessages.sort((a, b) => b.time - a.time);\r\n\r\n        return (<section className={'p-2'}>\r\n            <div>\r\n                <div className={\"d-flex search-row p-1\"}>\r\n                    <input placeholder={\"filter\"} className={\"input search \" + (this.state.regexpIsInvalid && \"invalid\")} type={\"search\"} value={this.state.searchTag} onChange={ this.changeSearch } />\r\n                    <label className={\"checkbox\"}>\r\n                        <input className=\"input\" type=\"checkbox\" checked={this.state.searchTagAsRegExp} onChange={this.changeRegexpSearch} />\r\n                        <label>RegExp</label>\r\n                    </label>\r\n                    <label className={\"checkbox\"}>\r\n                        <input className=\"input\" type=\"checkbox\" checked={this.state.searchTagIsDeep} onChange={this.changeDeepSearch} />\r\n                        <label>Deep</label>\r\n                    </label>\r\n                    <button onClick={e => this.clearLogs()} className={'btn btn-danger ms-1'}>\r\n                        Clear\r\n                    </button>\r\n                </div>\r\n                {/*<input label={\"from\"} type=\"datetime-local\" value={ new Date(this.state.minDate).toString()} onChange={this.changeMinDate} />\r\n                <input label={\"to\"} type=\"datetime-local\" value={ new Date(this.state.maxDate).toString()} onChange={this.changeMaxDate} /> */}\r\n            </div>\r\n            <div className={\"categories\"}>\r\n                { categories.filter(cat => !(cat in categoryAliases)).map((cat) => (\r\n                    <button className={\"btn btn\"+(this.isCatActive(cat) && \"-outline\")+\"-danger cat cat_\" + cat + (this.isCatActive(cat) ? \" active\" : \" inactive\")}\r\n                            key={cat} onClick={e=>this.toggleCat(cat)}>{labelAliases[cat] || cat}</button>))\r\n                }\r\n            </div>\r\n            <ul className={\"entries\"}>\r\n                { allMessages.map( (msg) => (\r\n                    <li className={\"hoverable cat cat_\"+msg.category} key={msg.time+'_'+msg.short_string}>\r\n                        {false && <span className={\"preview\"}>{msg.short_string}</span>}\r\n                        {false && <span className={\"content\"}>{msg.long_string}</span>}\r\n                        {this.displayArgs(msg, msg.category)}\r\n                    </li>))\r\n                }\r\n                { allMessages.length === 0 && <Empty /> }\r\n            </ul>\r\n        </section>);\r\n    }\r\n}\r\n\r\ninterface OwnProps {}\r\ninterface StateProps {}\r\ninterface DispatchProps {}\r\n\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {} as any;\r\n    return ret;\r\n}\r\n\r\nexport const LoggerConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(LoggerComponent);\r\n\r\nexport const Logger = (props: OwnProps, children: (string | Component)[] = []): ReactElement => {\r\n    return <LoggerConnected {...{...props, children}} />;\r\n}\r\nexport default Logger;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}