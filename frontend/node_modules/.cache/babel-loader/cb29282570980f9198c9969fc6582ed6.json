{"ast":null,"code":"var _dec,_class,_class2;///<reference path='../../joiner/index.ts' />\n//import type {RuntimeAccessible, RuntimeAccessibleClass, Point as PointType} from \"../../joiner\";\nimport{RuntimeAccessible,RuntimeAccessibleClass}from\"../../joiner\";// @static\nlet windoww=window;let Point=windoww.Point;export let GraphDragManager=(_dec=RuntimeAccessible('GraphDragManager'),_dec(_class=(_class2=class GraphDragManager extends RuntimeAccessibleClass{static startPanning(e,graph){console.log(\"start panning\",!GraphDragManager.draggingGraph,graph,graph.id);if(GraphDragManager.draggingGraph)return;GraphDragManager.draggingGraph=graph;GraphDragManager.initialClickPos=Point.fromEvent(e);}static stopPanning(e){if(!GraphDragManager.draggingGraph)return;let g=GraphDragManager.draggingGraph;let initial=GraphDragManager.initialClickPos;GraphDragManager.draggingGraph=undefined;GraphDragManager.initialClickPos=undefined;let newoffset=initial.subtract(Point.fromEvent(e),false).multiply(g.zoom).add(g.offset,false);// actual type is Partial<Size>\ng.offset=newoffset;}},_class2.initialClickPos=void 0,_class2.draggingGraph=void 0,_class2))||_class);","map":{"version":3,"names":["RuntimeAccessible","RuntimeAccessibleClass","windoww","window","Point","GraphDragManager","_dec","_class","_class2","startPanning","e","graph","console","log","draggingGraph","id","initialClickPos","fromEvent","stopPanning","g","initial","undefined","newoffset","subtract","multiply","zoom","add","offset"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/graph/graphElement/GraphDragHandler.ts"],"sourcesContent":["///<reference path='../../joiner/index.ts' />\r\n\r\nimport type {LGraph} from \"../../joiner\";\r\n//import type {RuntimeAccessible, RuntimeAccessibleClass, Point as PointType} from \"../../joiner\";\r\nimport type {Point as PointType} from \"../../joiner\";\r\nimport {RuntimeAccessible, RuntimeAccessibleClass} from \"../../joiner\";\r\nimport React from \"react\";\r\n\r\n// @static\r\nlet windoww: any = window as any;\r\nlet Point: any = windoww.Point;\r\n\r\n@RuntimeAccessible('GraphDragManager')\r\nexport class GraphDragManager extends RuntimeAccessibleClass{\r\n    static initialClickPos?: PointType;\r\n    static draggingGraph?: LGraph;\r\n\r\n    static startPanning(e: React.MouseEvent, graph: LGraph) {\r\n        console.log(\"start panning\", !GraphDragManager.draggingGraph, graph, graph.id);\r\n        if (GraphDragManager.draggingGraph) return;\r\n        GraphDragManager.draggingGraph = graph as LGraph;\r\n        GraphDragManager.initialClickPos = Point.fromEvent(e);\r\n    }\r\n    static stopPanning(e: JQuery.MouseUpEvent | React.MouseEvent) {\r\n        if (!GraphDragManager.draggingGraph) return;\r\n        let g: LGraph = GraphDragManager.draggingGraph;\r\n        let initial: PointType = GraphDragManager.initialClickPos as PointType;\r\n        GraphDragManager.draggingGraph = undefined;\r\n        GraphDragManager.initialClickPos = undefined;\r\n        let newoffset = initial.subtract(Point.fromEvent(e), false).multiply(g.zoom).add(g.offset, false) as any; // actual type is Partial<Size>\r\n        g.offset = newoffset\r\n    }\r\n}\r\n"],"mappings":"wBAAA;AAGA;AAEA,OAAQA,iBAAiB,CAAEC,sBAAsB,KAAO,cAAc,CAGtE;AACA,GAAI,CAAAC,OAAY,CAAGC,MAAa,CAChC,GAAI,CAAAC,KAAU,CAAGF,OAAO,CAACE,KAAK,CAE9B,UACa,CAAAC,gBAAgB,EAAAC,IAAA,CAD5BN,iBAAiB,CAAC,kBAAkB,CAAC,CAAAM,IAAA,CAAAC,MAAA,EAAAC,OAAA,CAAtC,KACa,CAAAH,gBAAgB,QAAS,CAAAJ,sBAAsB,CAIxD,MAAO,CAAAQ,YAAYA,CAACC,CAAmB,CAAEC,KAAa,CAAE,CACpDC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAE,CAACR,gBAAgB,CAACS,aAAa,CAAEH,KAAK,CAAEA,KAAK,CAACI,EAAE,CAAC,CAC9E,GAAIV,gBAAgB,CAACS,aAAa,CAAE,OACpCT,gBAAgB,CAACS,aAAa,CAAGH,KAAe,CAChDN,gBAAgB,CAACW,eAAe,CAAGZ,KAAK,CAACa,SAAS,CAACP,CAAC,CAAC,CACzD,CACA,MAAO,CAAAQ,WAAWA,CAACR,CAAyC,CAAE,CAC1D,GAAI,CAACL,gBAAgB,CAACS,aAAa,CAAE,OACrC,GAAI,CAAAK,CAAS,CAAGd,gBAAgB,CAACS,aAAa,CAC9C,GAAI,CAAAM,OAAkB,CAAGf,gBAAgB,CAACW,eAA4B,CACtEX,gBAAgB,CAACS,aAAa,CAAGO,SAAS,CAC1ChB,gBAAgB,CAACW,eAAe,CAAGK,SAAS,CAC5C,GAAI,CAAAC,SAAS,CAAGF,OAAO,CAACG,QAAQ,CAACnB,KAAK,CAACa,SAAS,CAACP,CAAC,CAAC,CAAE,KAAK,CAAC,CAACc,QAAQ,CAACL,CAAC,CAACM,IAAI,CAAC,CAACC,GAAG,CAACP,CAAC,CAACQ,MAAM,CAAE,KAAK,CAAQ,CAAE;AAC1GR,CAAC,CAACQ,MAAM,CAAGL,SAAS,CACxB,CACJ,CAAC,CAAAd,OAAA,CAlBUQ,eAAe,QAAAR,OAAA,CACfM,aAAa,QAAAN,OAAA,IAAAD,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}