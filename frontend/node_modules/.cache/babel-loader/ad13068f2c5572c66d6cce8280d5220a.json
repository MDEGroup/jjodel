{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import{L,Input,GenericInput,SetRootFieldAction}from'../../joiner';import'./editors.scss';import'./node-editor.scss';import{Empty}from\"./Empty\";import{CommandBar,Btn}from'../commandbar/CommandBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NodeEditorComponent(props){var _node$father;const selected=props.selected;const editable=true;if(!(selected===null||selected===void 0?void 0:selected.node))return/*#__PURE__*/_jsx(Empty,{msg:'Select a node.'});const node=selected.node;const dnode=node.__raw||node;let cname=dnode.className;let isGraph=['DGraph','DGraphVertex'].includes(cname);// RuntimeAccessibleClass.extends(cname, 'DGraph');\nlet isVertex=['DVoidVertex','DVertex','DEdgePoint'].includes(cname);// RuntimeAccessibleClass.extends(cname, 'DVoidVertex');\nlet isEdge=['DVoidEdge','DEdge'].includes(cname);// RuntimeAccessibleClass.extends(cname, 'DVoidEdge');\nlet isField=!isGraph&&!isVertex&&!isEdge;let asGraph=isGraph&&node;let asVertex=isVertex&&node;let asEdge=isEdge&&node;let asField=isField&&node;function openNode(id){SetRootFieldAction.new('_lastSelected.node',id,'',false);}function getNodeLabel(node){var _node$model;if(!node)return'error';let model=(_node$model=node.model)===null||_node$model===void 0?void 0:_node$model.__raw;if(!model)return node.className;return node.className+' - '+(model.name||model.className);}function getEdgeLabel(edge){var _edge$start,_edge$start$model,_edge$end,_edge$end$model;let s=edge===null||edge===void 0?void 0:(_edge$start=edge.start)===null||_edge$start===void 0?void 0:(_edge$start$model=_edge$start.model)===null||_edge$start$model===void 0?void 0:_edge$start$model.__raw;let e=edge===null||edge===void 0?void 0:(_edge$end=edge.end)===null||_edge$end===void 0?void 0:(_edge$end$model=_edge$end.model)===null||_edge$end$model===void 0?void 0:_edge$end$model.__raw;return[s?s.name||s.className:/*#__PURE__*/_jsx(\"i\",{style:{color:'orange'},children:\"empty\"}),/*#__PURE__*/_jsx(\"i\",{className:'bi bi-arrow-right ms-1 me-1'}),e?e.name||e.className:/*#__PURE__*/_jsx(\"i\",{style:{color:'orange'},children:\"empty\"})];}const clickableStyle={cursor:'pointer',color:'gray'};const headerStyle={marginBottom:0,marginTop:'0.5em'};const edgeStart=asEdge&&asEdge.start;const edgeEnd=asEdge&&asEdge.end;const notFoundStyle={color:'orange',cursor:'not-allowed'};const subElements=node.subElements;let edgesIn=!isEdge&&node.edgesIn||[];let edgesOut=!isEdge&&node.edgesOut||[];const InputRow=props=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:props.label}),/*#__PURE__*/_jsx(Input,{data:props.as,field:props.field,type:props.type,readonly:!editable})]});};let stackingOrder=/*#__PURE__*/_jsx(InputRow,{label:'Stacking order',as:node,field:'zIndex',type:'number'});return/*#__PURE__*/_jsxs(\"div\",{className:'p-3 node-editor',children:[asGraph&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Graph\"}),/*#__PURE__*/_jsx(GenericInput,{data:asGraph,field:'zoom'}),/*#__PURE__*/_jsx(GenericInput,{data:asGraph,field:'offset'})]}),asVertex&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Vertex\"}),stackingOrder,/*#__PURE__*/_jsx(InputRow,{label:'isResized',as:asVertex,field:'isResized',type:'checkbox'}),/*#__PURE__*/_jsx(InputRow,{label:'X Position',as:asVertex,field:'x',type:'number'}),/*#__PURE__*/_jsx(InputRow,{label:'Y Position',as:asVertex,field:'y',type:'number'}),/*#__PURE__*/_jsx(InputRow,{label:'Width',as:asVertex,field:'width',type:'number'}),/*#__PURE__*/_jsx(InputRow,{label:'Height',as:asVertex,field:'height',type:'number'})]}),asEdge&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edge\"}),stackingOrder,/*#__PURE__*/_jsx(GenericInput,{className:\"input-container\",data:asEdge,field:\"anchorStart\"}),/*#__PURE__*/_jsx(GenericInput,{className:\"input-container\",data:asEdge,field:\"anchorEnd\"})]}),asField&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Field\"}),stackingOrder]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1em',marginBottom:'1em',borderBottom:'1px solid gray'}}),((_node$father=node.father)===null||_node$father===void 0?void 0:_node$father.className)&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h6\",{style:{display:'flex'},children:[\"Super element\",/*#__PURE__*/_jsx(CommandBar,{style:{paddingLeft:'var(--tab-sep)',bottom:'3px'},children:/*#__PURE__*/_jsx(Btn,{icon:'up',action:e=>dnode.father&&openNode(dnode.father),tip:'Go up'})})]})}),asEdge&&[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h6\",{style:headerStyle,children:[\"Edge start:\",edgeStart?/*#__PURE__*/_jsxs(\"span\",{className:'ms-2',onClick:e=>openNode(edgeStart.id),style:clickableStyle,children:[getNodeLabel(edgeStart),/*#__PURE__*/_jsx(\"i\",{className:'ms-1 bi bi-arrow-right'})]}):/*#__PURE__*/_jsx(\"span\",{style:notFoundStyle,children:\"Missing\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h6\",{style:headerStyle,children:[\"Edge End:\",edgeEnd?/*#__PURE__*/_jsxs(\"span\",{className:'ms-2',onClick:e=>openNode(edgeEnd.id),style:clickableStyle,children:[getNodeLabel(edgeEnd),/*#__PURE__*/_jsx(\"i\",{className:'ms-1 bi bi-arrow-left'})]}):/*#__PURE__*/_jsx(\"span\",{style:notFoundStyle,children:\"Missing\"})]})})],subElements.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{style:{display:'flex'},children:[\"Sub elements\",/*#__PURE__*/_jsx(CommandBar,{style:{paddingLeft:'var(--tab-sep)',bottom:'3px'},children:/*#__PURE__*/_jsx(Btn,{icon:'down',action:e=>{},tip:'Go down'})})]}),subElements.map(n=>/*#__PURE__*/_jsx(\"div\",{className:'w-100 ms-2 sub-element',onClick:e=>openNode(n.id),style:clickableStyle,children:getNodeLabel(n)}))]}),!asEdge&&/*#__PURE__*/_jsxs(_Fragment,{children:[edgesOut.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{style:{display:'flex'},children:\"Outgoing Edges\"}),edgesOut.length&&edgesOut.map(n=>/*#__PURE__*/_jsx(\"div\",{className:'w-100 ms-2 sub-element',onClick:e=>openNode(n.id),style:clickableStyle,children:getEdgeLabel(n)}))]}),edgesIn.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{style:{display:'flex'},children:\"Incoming Edges\"}),edgesIn.map(n=>/*#__PURE__*/_jsx(\"div\",{className:'w-100 ms-2 sub-element',onClick:e=>openNode(n.id),style:clickableStyle,children:getEdgeLabel(n)}))]})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Node state\"}),/*#__PURE__*/_jsxs(\"div\",{className:'object-state',children:[Object.keys(dnode._state).length===0&&/*#__PURE__*/_jsx(\"pre\",{children:\" Empty\"}),/*#__PURE__*/_jsx(\"pre\",{children:Object.keys(dnode._state).length?JSON.stringify(dnode._state,null,'\\t'):undefined})]})]});}function mapStateToProps(state,ownProps){let ret={};const selected=state._lastSelected;if(selected){var _state$_lastSelected,_state$_lastSelected2,_state$_lastSelected3;const modelElement=(_state$_lastSelected=state._lastSelected)===null||_state$_lastSelected===void 0?void 0:_state$_lastSelected.modelElement;const node=(_state$_lastSelected2=state._lastSelected)===null||_state$_lastSelected2===void 0?void 0:_state$_lastSelected2.node;const view=(_state$_lastSelected3=state._lastSelected)===null||_state$_lastSelected3===void 0?void 0:_state$_lastSelected3.view;if(node&&view){ret.selected={node:L.fromPointer(node),view:L.fromPointer(node),modelElement:modelElement?L.fromPointer(modelElement):undefined};}}return ret;}function mapDispatchToProps(dispatch){const ret={};return ret;}export const NodeEditorConnected=connect(mapStateToProps,mapDispatchToProps)(NodeEditorComponent);export const NodeEditor=function(props){let children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return/*#__PURE__*/_jsx(NodeEditorConnected,{...props,children});};export default NodeEditor;","map":{"version":3,"names":["React","connect","L","Input","GenericInput","SetRootFieldAction","Empty","CommandBar","Btn","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NodeEditorComponent","props","_node$father","selected","editable","node","msg","dnode","__raw","cname","className","isGraph","includes","isVertex","isEdge","isField","asGraph","asVertex","asEdge","asField","openNode","id","new","getNodeLabel","_node$model","model","name","getEdgeLabel","edge","_edge$start","_edge$start$model","_edge$end","_edge$end$model","s","start","e","end","style","color","children","clickableStyle","cursor","headerStyle","marginBottom","marginTop","edgeStart","edgeEnd","notFoundStyle","subElements","edgesIn","edgesOut","InputRow","label","data","as","field","type","readonly","stackingOrder","borderBottom","father","display","paddingLeft","bottom","icon","action","tip","onClick","length","map","n","Object","keys","_state","JSON","stringify","undefined","mapStateToProps","state","ownProps","ret","_lastSelected","_state$_lastSelected","_state$_lastSelected2","_state$_lastSelected3","modelElement","view","fromPointer","mapDispatchToProps","dispatch","NodeEditorConnected","NodeEditor","arguments"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/components/editors/NodeEditor.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {DState} from '../../redux/store';\r\nimport type {\r\n    LModelElement,\r\n    LViewElement,\r\n    LGraphElement,\r\n    LVoidVertex,\r\n    LVoidEdge, LGraph,Pointer, DGraphElement,\r\n    DNamedElement, LNamedElement} from '../../joiner';\r\nimport {\r\n    LPointerTargetable,\r\n    L,\r\n    Input,\r\n    GenericInput,\r\n    TextArea,\r\n    RuntimeAccessibleClass,\r\n    SetRootFieldAction, DEdge,\r\n} from '../../joiner';\r\nimport './editors.scss';\r\nimport './node-editor.scss';\r\nimport {Empty} from \"./Empty\";\r\nimport { CommandBar, Btn } from '../commandbar/CommandBar';\r\n\r\nfunction NodeEditorComponent(props: AllProps) {\r\n    const selected = props.selected;\r\n    const editable = true;\r\n    if (!selected?.node) return <Empty msg={'Select a node.'} />;\r\n    const node = selected.node;\r\n    const dnode = (node.__raw || node) as DGraphElement\r\n    let cname = dnode.className;\r\n    let isGraph = ['DGraph', 'DGraphVertex'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DGraph');\r\n    let isVertex = ['DVoidVertex', 'DVertex', 'DEdgePoint'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidVertex');\r\n    let isEdge = ['DVoidEdge', 'DEdge'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidEdge');\r\n    let isField = (!isGraph && !isVertex && !isEdge);\r\n    let asGraph: LGraph | undefined = isGraph && node as any;\r\n    let asVertex: LVoidVertex | undefined  = isVertex && node as any;\r\n    let asEdge: LVoidEdge | undefined = isEdge && node as any;\r\n    let asField: LVoidEdge | undefined = isField && node as any;\r\n    function openNode(id: Pointer<DGraphElement>) {\r\n        SetRootFieldAction.new('_lastSelected.node', id, '', false);\r\n    }\r\n\r\n    function getNodeLabel(node: LGraphElement){\r\n        if (!node) return 'error';\r\n        let model: DNamedElement | undefined = node.model?.__raw as any;\r\n        if (!model) return node.className;\r\n        return node.className + ' - ' +(model.name || model.className)\r\n    }\r\n    function getEdgeLabel(edge: LVoidEdge){\r\n        let s: DNamedElement | undefined = edge?.start?.model?.__raw as any;\r\n        let e: DNamedElement | undefined = edge?.end?.model?.__raw as any;\r\n        return [\r\n            (s ? s.name || s.className : <i style={{color: 'orange'}}>empty</i>),\r\n            <i className={'bi bi-arrow-right ms-1 me-1'} />,\r\n            (e ? e.name || e.className : <i style={{color: 'orange'}}>empty</i>)\r\n        ];\r\n\r\n    }\r\n    const clickableStyle = {cursor:'pointer', color: 'gray'};\r\n    const headerStyle = {marginBottom:0, marginTop: '0.5em'};\r\n    const edgeStart: LGraphElement | undefined = asEdge && asEdge.start;\r\n    const edgeEnd: LGraphElement | undefined = asEdge && asEdge.end;\r\n    const notFoundStyle = {color: 'orange', cursor:'not-allowed'};\r\n    const subElements = node.subElements;\r\n    let edgesIn = !isEdge && node.edgesIn || [];\r\n    let edgesOut = !isEdge && node.edgesOut || [];\r\n\r\n\r\n\r\n\r\n\r\n    type InputRowProps = {\r\n        label: string,\r\n        as: any,\r\n        field: string,\r\n        type: string\r\n    }\r\n    const InputRow = (props: any) => {\r\n        return (\r\n            <div className='input-container'>\r\n                <b className={'me-2'}>{props.label}</b>\r\n                <Input data={props.as} field={props.field} type={props.type} readonly={!editable} />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    let stackingOrder = <InputRow label={'Stacking order'} as={node} field={'zIndex'} type={'number'} />\r\n\r\n    return(<div className={'p-3 node-editor'}>\r\n        {/*<Input obj={selected.node} field={'id'} label={'ID'} type={'text'} readonly={true}/>*/}\r\n\r\n        {asGraph && <><h3>Graph</h3>\r\n            <GenericInput data={asGraph} field={'zoom'} />\r\n            <GenericInput data={asGraph} field={'offset'} />\r\n\r\n            {/*graphSize readonly on LGraph but not on DGraph, = internal graph size. put it for info.*/ }\r\n        </>}\r\n\r\n        {asVertex && <><h3>Vertex</h3>\r\n            {stackingOrder}\r\n\r\n            <InputRow label={'isResized'} as={asVertex} field={'isResized'} type={'checkbox'} />\r\n            <InputRow label={'X Position'} as={asVertex} field={'x'} type={'number'} />\r\n            <InputRow label={'Y Position'} as={asVertex} field={'y'} type={'number'} />\r\n            <InputRow label={'Width'} as={asVertex} field={'width'} type={'number'} />\r\n            <InputRow label={'Height'} as={asVertex} field={'height'} type={'number'} />\r\n        </>}\r\n\r\n        {asEdge && <><h3>Edge</h3>\r\n            {stackingOrder}\r\n\r\n            {\r\n            //  <>\r\n            //     moved to props & transient properties\r\n            //     <GenericInput data={asEdge} field={'longestLabel'}\r\n            //         placeholder={'(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' +\r\n            //         '\\n\\t// a complex example. The label can be either a function like this or a simple string.' +\r\n            //         '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' +\r\n            //         '\\n}'}/>\r\n            //     <GenericInput data={asEdge} field={'labels'}\r\n            //         placeholder={'(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' +\r\n            //         '\\n\\t// a complex example. The label can be either a function like this or a simple string.' +\r\n            //         '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' +\r\n            //         '\\n}'}/>\r\n            // </>\r\n            }\r\n\r\n            <GenericInput className='input-container' data={asEdge} field={\"anchorStart\"}/>\r\n            <GenericInput className='input-container' data={asEdge} field={\"anchorEnd\"}/>\r\n        </>}\r\n\r\n        {asField && <><h3>Field</h3>\r\n            {stackingOrder}\r\n        </>}\r\n\r\n        <div style={{marginTop:'1em', marginBottom:'1em', borderBottom:'1px solid gray'}}/>\r\n\r\n        {/* <div>\r\n            <h6 className={'super'}>\r\n                Super element:\r\n                {node.father?.className ?\r\n                    <span onClick={(e)=> dnode.father && openNode(dnode.father)} style={clickableStyle}>\r\n                        {[node.father?.className, <i style={{paddingLeft: '8px'}} className=\"bi bi-chevron-up\"></i>]}\r\n                    </span>\r\n                :\r\n                    <span style={notFoundStyle}>Not contained</span>\r\n                }\r\n            </h6>\r\n            </div>*/}\r\n\r\n        {node.father?.className && <div>\r\n            <h6 style={{display: 'flex'}}>\r\n                Super element\r\n                    {/*<span onClick={(e)=> dnode.father && openNode(dnode.father)} style={clickableStyle}>\r\n                        {[node.father?.className, <i style={{paddingLeft: '8px'}} className=\"bi bi-chevron-up\"></i>]}\r\n                    </span>*/}\r\n                    <CommandBar style={{paddingLeft: 'var(--tab-sep)', bottom: '3px'}}>\r\n                        <Btn icon={'up'} action={(e)=> dnode.father && openNode(dnode.father)} tip={'Go up'}/>\r\n                    </CommandBar>\r\n            </h6>\r\n        </div>}\r\n\r\n        {asEdge && [\r\n            <div><h6 style={headerStyle}>Edge start:{\r\n                edgeStart ?\r\n                    <span className={'ms-2'} onClick={(e)=> openNode(edgeStart.id)} style={clickableStyle}>\r\n                        {getNodeLabel(edgeStart)}<i className={'ms-1 bi bi-arrow-right'}/>\r\n                    </span>\r\n                    : <span style={notFoundStyle}>Missing</span>\r\n            }</h6></div>,\r\n            <div><h6 style={headerStyle}>Edge End:{\r\n                edgeEnd ?\r\n                    <span className={'ms-2'} onClick={(e)=> openNode(edgeEnd.id)} style={clickableStyle}>\r\n                        {getNodeLabel(edgeEnd)}<i className={'ms-1 bi bi-arrow-left'}/>\r\n                    </span>\r\n                    : <span style={notFoundStyle}>Missing</span>\r\n            }</h6></div>\r\n        ]}\r\n\r\n        {/* <div>\r\n            <h6 style={headerStyle} className='sub'>\r\n                Sub elements\r\n                {subElements.length ?\r\n                    <i style={{paddingLeft: '8px'}}className=\"bi bi-chevron-down\"></i>\r\n                :\r\n                    [': ', <span style={notFoundStyle}>None</span>]\r\n                }\r\n            </h6>\r\n            {subElements.map(\r\n                n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getNodeLabel(n)}</div>\r\n            )}\r\n            </div>*/}\r\n\r\n            {subElements.length > 0 && <div>\r\n            <h6 style={{display: 'flex'}}>\r\n                Sub elements\r\n\r\n                <CommandBar style={{paddingLeft: 'var(--tab-sep)', bottom: '3px'}}>\r\n                    <Btn icon={'down'} action={(e)=> {}} tip={'Go down'}/>\r\n                </CommandBar>\r\n            </h6>\r\n\r\n            {subElements.map(\r\n                n => <div className={'w-100 ms-2 sub-element'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getNodeLabel(n)}</div>\r\n            )}\r\n            </div>}\r\n\r\n        {!asEdge && <>\r\n\r\n            {edgesOut.length > 0 && <div>\r\n                <h6 style={{display: 'flex'}}>\r\n                    Outgoing Edges\r\n                </h6>\r\n                {edgesOut.length && edgesOut.map(n => <div className={'w-100 ms-2 sub-element'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>)}\r\n            </div>}\r\n\r\n            {edgesIn.length > 0 && <div>\r\n                <h6 style={{display: 'flex'}}>\r\n                    Incoming Edges\r\n                </h6>\r\n                {edgesIn.map(n => <div className={'w-100 ms-2 sub-element'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>)}\r\n            </div>}\r\n\r\n            {/*<div>\r\n                <h6 style={headerStyle}>\r\n                    Outgoing Edges {edgesOut.length === 0 && <>: <span style={notFoundStyle}>None</span></>}\r\n                </h6>\r\n                {edgesOut.length && edgesOut.map(n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>)}\r\n            </div>\r\n\r\n            <div>\r\n                <h6 style={headerStyle}>Incoming Edges{edgesIn.length === 0 && <>:\r\n                    <span style={notFoundStyle}>None</span></>}\r\n                </h6>\r\n                {edgesIn.map(n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>)}\r\n            </div>*/}\r\n        </>}\r\n\r\n\r\n        <h6>Node state</h6>\r\n        <div className={'object-state'}>\r\n            {Object.keys(dnode._state).length === 0 && <pre> Empty</pre>}\r\n            <pre>{Object.keys(dnode._state).length ? JSON.stringify(dnode._state, null, '\\t') : undefined}</pre>\r\n        </div>\r\n\r\n    </div>);\r\n\r\n}\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    selected?: {\r\n        node: LGraphElement;\r\n        view: LViewElement;\r\n        modelElement?: LModelElement;\r\n    };\r\n}\r\ninterface DispatchProps {}\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    let ret: StateProps = {};\r\n    const selected = state._lastSelected;\r\n    if(selected) {\r\n        const modelElement = state._lastSelected?.modelElement;\r\n        const node = state._lastSelected?.node;\r\n        const view = state._lastSelected?.view;\r\n        if(node && view) {\r\n            ret.selected = {\r\n                node: L.fromPointer(node),\r\n                view: L.fromPointer(node),\r\n                modelElement: (modelElement) ? L.fromPointer(modelElement) : undefined\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\n\r\nexport const NodeEditorConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(NodeEditorComponent);\r\n\r\nexport const NodeEditor = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <NodeEditorConnected {...{...props, children}} />;\r\n}\r\nexport default NodeEditor;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}