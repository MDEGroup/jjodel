{"ast":null,"code":"var _jsxFileName = \"C:\\\\0Programmi\\\\Dev\\\\projects\\\\frontend\\\\jjodel\\\\src\\\\components\\\\organization\\\\SerchOrg.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useStateIfMounted } from \"use-state-if-mounted\";\nimport axios from 'axios';\nimport Pagination from './Pagination';\nimport DetailOrg from './DetailOrg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchOrg(props) {\n  _s();\n  const [search, setSearch] = useStateIfMounted('');\n  const [orgs, setOrgs] = useStateIfMounted([]);\n  const [resultCount, setResultCount] = useStateIfMounted(0);\n  const [currentPage, setCurrentPage] = useStateIfMounted(0);\n  const [currentOrg, setCurrentOrg] = useStateIfMounted(undefined);\n  const orgsPerPage = 2;\n  function submit(evt) {\n    let config = {\n      headers: {\n        'Authorization': \"Token \" + props.user.token\n      }\n    };\n    console.log('organization/?regexp=0&name=' + search);\n    axios.get('http://localhost:8000/api/v1/organization/?regexp=0&name=' + search, config).then(function (response) {\n      setOrgs(response.data.results);\n      setResultCount(response.data.count);\n      setCurrentPage(1);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    evt.preventDefault();\n  }\n  function changePage(page) {\n    let config = {\n      headers: {\n        'Authorization': \"Token \" + props.user.token\n      }\n    };\n    console.log('organization/?regexp=0&name=' + search);\n    axios.get('http://localhost:8000/api/v1/organization/?name=' + search + '&page=' + page + '&regexp=0', config).then(function (response) {\n      setOrgs(response.data.results);\n      setCurrentPage(page);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n  function reset() {\n    setSearch(\"\");\n    setOrgs([]);\n    setResultCount(0);\n    setCurrentOrg(undefined);\n  }\n  function setDetailOrg(org) {\n    setCurrentOrg(org);\n  }\n  function handleCloseButton() {\n    setCurrentOrg(undefined);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: search,\n          onChange: evt => setSearch(evt.target.value),\n          placeholder: \"Org name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-warning m-2\",\n        onClick: reset,\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group mt-3\",\n      children: orgs.map(org => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item\",\n        onClick: () => setDetailOrg(org),\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: org.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this)\n      }, org.pk, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      orgsPerPage: orgsPerPage,\n      totalOrgs: resultCount,\n      curPage: currentPage,\n      changePage: changePage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), currentOrg != undefined && /*#__PURE__*/_jsxDEV(DetailOrg, {\n      org: currentOrg,\n      handleCloseButton: handleCloseButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 41\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n_s(SearchOrg, \"i1e4mdC8WLghR/1KUvUgSxZrIUs=\", false, function () {\n  return [useStateIfMounted, useStateIfMounted, useStateIfMounted, useStateIfMounted, useStateIfMounted];\n});\n_c = SearchOrg;\nvar _c;\n$RefreshReg$(_c, \"SearchOrg\");","map":{"version":3,"names":["React","useStateIfMounted","axios","Pagination","DetailOrg","jsxDEV","_jsxDEV","SearchOrg","props","_s","search","setSearch","orgs","setOrgs","resultCount","setResultCount","currentPage","setCurrentPage","currentOrg","setCurrentOrg","undefined","orgsPerPage","submit","evt","config","headers","user","token","console","log","get","then","response","data","results","count","catch","error","preventDefault","changePage","page","reset","setDetailOrg","org","handleCloseButton","className","children","onSubmit","type","value","onChange","target","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","name","pk","totalOrgs","curPage","_c","$RefreshReg$"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/components/organization/SerchOrg.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\nimport axios from 'axios';\r\nimport Pagination from './Pagination';\r\nimport DetailOrg from './DetailOrg';\r\n\r\n\r\nexport default function SearchOrg(props: any) {\r\n    const [search, setSearch] = useStateIfMounted('');\r\n    const [orgs, setOrgs] = useStateIfMounted<Org[]>([]);\r\n    const [resultCount, setResultCount] = useStateIfMounted(0);\r\n    const [currentPage, setCurrentPage] = useStateIfMounted(0);\r\n    const [currentOrg, setCurrentOrg] = useStateIfMounted(undefined);\r\n\r\n    const orgsPerPage = 2;\r\n\r\n    function submit(evt: React.MouseEvent<HTMLFormElement>) {\r\n        let config = {\r\n            headers: {\r\n                'Authorization': \"Token \" + props.user.token\r\n            }\r\n        }\r\n\r\n        console.log('organization/?regexp=0&name=' + search);\r\n\r\n        axios.get('http://localhost:8000/api/v1/organization/?regexp=0&name=' + search, config)\r\n            .then(function (response) {\r\n                setOrgs(response.data.results)\r\n                setResultCount(response.data.count);\r\n                setCurrentPage(1);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n\r\n        evt.preventDefault();\r\n    }\r\n\r\n    function changePage(page: number) {\r\n        let config = {\r\n            headers: {\r\n                'Authorization': \"Token \" + props.user.token\r\n            }\r\n        }\r\n\r\n        console.log('organization/?regexp=0&name=' + search);\r\n\r\n        axios.get('http://localhost:8000/api/v1/organization/?name=' + search + '&page=' + page + '&regexp=0', config)\r\n            .then(function (response) {\r\n                setOrgs(response.data.results)\r\n                setCurrentPage(page);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n\r\n    }\r\n\r\n    function reset() {\r\n\r\n        setSearch(\"\");\r\n        setOrgs([]);\r\n        setResultCount(0);\r\n        setCurrentOrg(undefined);\r\n\r\n    }\r\n\r\n    function setDetailOrg(org: any) {\r\n        setCurrentOrg(org);\r\n    }\r\n\r\n    function handleCloseButton() {\r\n        setCurrentOrg(undefined);\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            <form onSubmit={submit}>\r\n                <div className=\"input-group mb-2\">\r\n                    <input type='text' className='form-control' value={search} onChange={(evt) => setSearch(evt.target.value)} placeholder='Org name' required />\r\n                </div>\r\n                <button type='submit' className='btn btn-primary'>Search</button>\r\n                <button type='button' className='btn btn-warning m-2' onClick={reset}>Reset</button>\r\n            </form>\r\n            <ul className=\"list-group mt-3\">\r\n                {orgs.map(org =>\r\n                    <li key={org.pk} className=\"list-group-item\" onClick={() => setDetailOrg(org)}>\r\n                        <b>{org.name}</b>\r\n                    </li>\r\n                )}\r\n            </ul>\r\n            <Pagination orgsPerPage={orgsPerPage} totalOrgs={resultCount} curPage={currentPage} changePage={changePage} />\r\n            {currentOrg != undefined && <DetailOrg org={currentOrg} handleCloseButton={handleCloseButton} />}\r\n        </div>\r\n    )\r\n\r\n    interface Org {\r\n        pk: number;\r\n        name: string;\r\n        isPublic: boolean;\r\n        openMembership: boolean;\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}