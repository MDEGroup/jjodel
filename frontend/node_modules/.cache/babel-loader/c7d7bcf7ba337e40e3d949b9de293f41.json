{"ast":null,"code":"import React from 'react';\nimport classNames from 'classnames';\nimport { DockContextType } from \"./DockData\";\nexport default class DockTabPane extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.getRef = r => {\n      this._ref = r;\n    };\n  }\n  updateCache() {\n    const {\n      cached,\n      children,\n      cacheId\n    } = this.props;\n    if (this._cache) {\n      if (!cached || cacheId !== this._cache.id) {\n        this.context.removeTabCache(this._cache.id, this);\n        this._cache = null;\n      }\n    }\n    if (cached && this._ref) {\n      this._cache = this.context.getTabCache(cacheId, this);\n      this._ref.appendChild(this._cache.div);\n      this.context.updateTabCache(this._cache.id, children);\n    }\n  }\n  render() {\n    const {\n      cacheId,\n      cached,\n      prefixCls,\n      forceRender,\n      className,\n      style,\n      id,\n      active,\n      animated,\n      destroyInactiveTabPane,\n      tabKey,\n      children\n    } = this.props;\n    if (active) {\n      this.visited = true;\n    } else if (destroyInactiveTabPane) {\n      this.visited = false;\n    }\n    const mergedStyle = {};\n    if (!active) {\n      if (animated) {\n        mergedStyle.visibility = 'hidden';\n        mergedStyle.height = 0;\n        mergedStyle.overflowY = 'hidden';\n      } else {\n        mergedStyle.display = 'none';\n      }\n    }\n    // when cached == undefined, it will still cache the children inside tabs component, but not across whole dock layout\n    // when cached == false, children are destroyed when not active\n    const isRender = cached === false ? active : this.visited;\n    let renderChildren = null;\n    if (cached) {\n      renderChildren = null;\n    } else if (isRender || forceRender) {\n      renderChildren = children;\n    }\n    let getRef = cached ? this.getRef : null;\n    return React.createElement(\"div\", {\n      ref: getRef,\n      id: cacheId,\n      role: \"tabpanel\",\n      \"aria-labelledby\": id && `${id}-tab-${tabKey}`,\n      \"aria-hidden\": !active,\n      style: Object.assign(Object.assign({}, mergedStyle), style),\n      className: classNames(`${prefixCls}-tabpane`, active && `${prefixCls}-tabpane-active`, className)\n    }, (active || this.visited || forceRender) && renderChildren);\n  }\n  componentDidMount() {\n    this.updateCache();\n  }\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.updateCache();\n  }\n  componentWillUnmount() {\n    if (this._cache) {\n      this.context.removeTabCache(this._cache.id, this);\n    }\n  }\n}\nDockTabPane.contextType = DockContextType;","map":{"version":3,"names":["React","classNames","DockContextType","DockTabPane","PureComponent","constructor","arguments","getRef","r","_ref","updateCache","cached","children","cacheId","props","_cache","id","context","removeTabCache","getTabCache","appendChild","div","updateTabCache","render","prefixCls","forceRender","className","style","active","animated","destroyInactiveTabPane","tabKey","visited","mergedStyle","visibility","height","overflowY","display","isRender","renderChildren","createElement","ref","role","Object","assign","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","componentWillUnmount","contextType"],"sources":["C:/d/Programming/web/jodel-mde/node_modules/rc-dock/es/DockTabPane.js"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { DockContextType } from \"./DockData\";\nexport default class DockTabPane extends React.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.getRef = (r) => {\n            this._ref = r;\n        };\n    }\n    updateCache() {\n        const { cached, children, cacheId } = this.props;\n        if (this._cache) {\n            if (!cached || cacheId !== this._cache.id) {\n                this.context.removeTabCache(this._cache.id, this);\n                this._cache = null;\n            }\n        }\n        if (cached && this._ref) {\n            this._cache = this.context.getTabCache(cacheId, this);\n            this._ref.appendChild(this._cache.div);\n            this.context.updateTabCache(this._cache.id, children);\n        }\n    }\n    render() {\n        const { cacheId, cached, prefixCls, forceRender, className, style, id, active, animated, destroyInactiveTabPane, tabKey, children, } = this.props;\n        if (active) {\n            this.visited = true;\n        }\n        else if (destroyInactiveTabPane) {\n            this.visited = false;\n        }\n        const mergedStyle = {};\n        if (!active) {\n            if (animated) {\n                mergedStyle.visibility = 'hidden';\n                mergedStyle.height = 0;\n                mergedStyle.overflowY = 'hidden';\n            }\n            else {\n                mergedStyle.display = 'none';\n            }\n        }\n        // when cached == undefined, it will still cache the children inside tabs component, but not across whole dock layout\n        // when cached == false, children are destroyed when not active\n        const isRender = cached === false ? active : this.visited;\n        let renderChildren = null;\n        if (cached) {\n            renderChildren = null;\n        }\n        else if (isRender || forceRender) {\n            renderChildren = children;\n        }\n        let getRef = cached ? this.getRef : null;\n        return (React.createElement(\"div\", { ref: getRef, id: cacheId, role: \"tabpanel\", \"aria-labelledby\": id && `${id}-tab-${tabKey}`, \"aria-hidden\": !active, style: Object.assign(Object.assign({}, mergedStyle), style), className: classNames(`${prefixCls}-tabpane`, active && `${prefixCls}-tabpane-active`, className) }, (active || this.visited || forceRender) && renderChildren));\n    }\n    componentDidMount() {\n        this.updateCache();\n    }\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        this.updateCache();\n    }\n    componentWillUnmount() {\n        if (this._cache) {\n            this.context.removeTabCache(this._cache.id, this);\n        }\n    }\n}\nDockTabPane.contextType = DockContextType;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}