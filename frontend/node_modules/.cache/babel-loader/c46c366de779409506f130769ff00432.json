{"ast":null,"code":"import React from\"react\";import{LNamedElement,SetRootFieldAction,U}from'../../joiner';import{useStateIfMounted}from'use-state-if-mounted';import'./tree.scss';import{useEffectOnce}from\"usehooks-ts\";import{MyTooltip}from\"../tooltip/MyTooltip\";import{CommandBar,Btn}from\"../commandbar/CommandBar\";/*\r\ntype BtnProps = {\r\n    icon: \"up\" | \"down\" | \"back\" | \"fwd\" | \"add\" | \"delete\" | \"edit\",\r\n    tip?: string,\r\n    action?: MouseEventHandler,\r\n    size?: \"small\" | \"medium\" | \"large\"\r\n}\r\n\r\nconst Btn = (props: BtnProps) => {\r\n    return (<>\r\n        {props.action ?\r\n            <div><i onClick={props.action} title={`${props.tip && props.tip}`} className={`bi tab-btn ${props.icon} ${props.size && props.size}`}></i></div>\r\n        :\r\n            <i className={`bi tab-btn ${props.icon} ${props.size && props.size} disabled`}></i>\r\n        }\r\n    </>);\r\n}\r\n\r\n\r\n\r\ntype CommandProps = {\r\n    children: any;\r\n}\r\nconst CommandBar = (props: CommandProps) => {\r\n\r\n    return(<div className={'command-bar'}>\r\n        {props.children}\r\n    </div>);\r\n};*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Tree(props){const data=props.data?props.data:null;const children=props.children;const[id,setId]=useStateIfMounted('');const depth=props.depth?[...props.depth,id]:[id];const[filter,applyFilter]=useStateIfMounted('');const hide=depth.includes(filter);useEffectOnce(()=>{setId(data&&data.id?data.id:U.getRandomString(5));});const setFilter=()=>{if(filter===id)applyFilter('');else applyFilter(id);};function setME(data){if(!data)return;let node=data.node;SetRootFieldAction.new('_lastSelected',{node:node===null||node===void 0?void 0:node.id,view:node===null||node===void 0?void 0:node.view.id,modelElement:data.id},'',false);}let up=data===null||data===void 0?void 0:data.father;let down=data===null||data===void 0?void 0:data.children[0];if(data)return/*#__PURE__*/_jsxs(_Fragment,{children:[!props.depth&&/*#__PURE__*/_jsxs(CommandBar,{children:[/*#__PURE__*/_jsx(Btn,{icon:'up',size:'medium',disabled:!up,action:e=>{setME(up);},tip:'Click to go up to the ancestor element'}),/*#__PURE__*/_jsx(Btn,{icon:'down',size:'medium',disabled:!down,action:e=>{setME(down);},tip:'Select the first child'})]}),/*#__PURE__*/_jsx(DataTree,{data:data,depth:depth,hide:hide,setFilter:setFilter})]});if(children)return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(HtmlTree,{data:children,hide:hide,depth:depth,setFilter:setFilter})});return/*#__PURE__*/_jsx(_Fragment,{});}function DataTree(props){var _data$children,_data$children2,_data$children3;const hide=props.hide;const data=LNamedElement.fromPointer(props.data.id);if(!data)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error Data is \",/*#__PURE__*/_jsx(\"b\",{children:\"undefined\"})]});const depth=props.depth;const setFilter=props.setFilter;const click=()=>{let node=data.node;SetRootFieldAction.new('_lastSelected',{node:node===null||node===void 0?void 0:node.id,view:node===null||node===void 0?void 0:node.view.id,modelElement:data.id},'',false);};/*let icon = 'box';\r\n    switch(data.className) {\r\n        case 'DModel': icon = 'diagram-2'; break;\r\n        case 'DPackage': icon = 'boxes'; break;\r\n        case 'DClass': icon = 'folder'; break;\r\n        case 'DAttribute': icon = 'stop'; break;\r\n        case 'DReference': icon = 'stop-fill'; break; //beliezer2 // folder-symlink\r\n        case 'DOperation': icon = 'gear-wide'; break;\r\n        case 'DObject': icon = ''; break;\r\n        case 'DValue': icon = ''; break;\r\n    }*/return/*#__PURE__*/_jsxs(\"section\",{className:'datatree-entry-root',children:[/*#__PURE__*/_jsxs(\"div\",{className:'d-flex tree',children:[((_data$children=data.children)===null||_data$children===void 0?void 0:_data$children.length)>=1?((_data$children2=data.children)===null||_data$children2===void 0?void 0:_data$children2.length)&&hide?/*#__PURE__*/_jsx(\"i\",{style:{fontSize:'0.7em',color:'gray'},className:'bi bi-chevron-right cursor-pointer d-block my-auto',onClick:setFilter}):/*#__PURE__*/_jsx(\"i\",{style:{fontSize:'0.7em',color:'gray'},className:'bi bi-chevron-down cursor-pointer d-block my-auto',onClick:setFilter}):/*#__PURE__*/_jsx(\"i\",{style:{fontSize:'0.75em',color:'whitesmoke'},className:'bi bi-caret-right-fill d-block my-auto'}),/*#__PURE__*/_jsxs(\"div\",{className:'tree-item',onClick:click,children:[/*#__PURE__*/_jsxs(\"div\",{className:'type',children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon tree-\".concat(data.className,\" \").concat(data.abstract&&'abstract-class'),children:data.className==='DEnumLiteral'?'L':data.className.slice(1,2)}),/*#__PURE__*/_jsx(MyTooltip,{text:\"\".concat(data.abstract?'Abstract ':'')+data.className})]}),/*#__PURE__*/_jsx(\"div\",{className:'name',children:/*#__PURE__*/_jsxs(\"span\",{className:'class-name',children:[data.name?data.name:'unnamed',data.extends&&data.extends.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:'extends',children:[\"\\xA0 \",/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-caret-right\"}),\" [\",data.extends.map((s,i)=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{children:s.name}),i<data.extends.length-1?', ':'']})),\"]\"]})]})})]})]}),!hide&&Array.isArray(data.children)&&((_data$children3=data.children)===null||_data$children3===void 0?void 0:_data$children3.map(child=>{return/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'1em'},children:/*#__PURE__*/_jsx(Tree,{data:child,depth:depth})});}))]});}function HtmlTree(props){const data=Array.isArray(props.data)?props.data:[props.data];const hide=props.hide;const depth=props.depth;const setFilter=props.setFilter;return/*#__PURE__*/_jsx(\"div\",{children:data.map(element=>{if(!/*#__PURE__*/React.isValidElement(element))return/*#__PURE__*/_jsx(_Fragment,{});const children=Array.isArray(element.props.children)?element.props.children:[element.props.children];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:'d-flex',children:[children.length>0&&hide?/*#__PURE__*/_jsx(\"i\",{className:'bi bi-chevron-up cursor-pointer d-block my-auto',onClick:setFilter}):/*#__PURE__*/_jsx(\"i\",{className:'bi bi-chevron-down cursor-pointer d-block my-auto',onClick:setFilter}),/*#__PURE__*/_jsx(\"label\",{className:'ms-1 my-auto',children:element.props['label']?element.props['label']:'unnamed'})]}),!hide&&children.map(child=>{if(!/*#__PURE__*/React.isValidElement(child))return/*#__PURE__*/_jsx(_Fragment,{});return/*#__PURE__*/_jsx(\"div\",{className:'ms-2',children:/*#__PURE__*/_jsx(Tree,{depth:depth,children:child})});})]});})});}export function GenericTree(props){let[isExpanded,setExpanded]=useStateIfMounted(props.initialHidingState||false);const data=props.data;const childrens=props.getSubElements(data)||[];// if (typeof childrens === \"object\" && (Array.isArray(childrens) && childrens.length === 0) || Object.keys(childrens)) isExpanded = false;\nreturn props.renderEntry(data,childrens,isExpanded,()=>setExpanded(!isExpanded),props.depth||0,props.path||[],props.metadata);/*\r\n    if (!data) return(<div>Error Data is <b>undefined</b></div>);\r\n    const depth = props.depth;\r\n    const setFilter = props.setFilter;\r\n\r\n    const click = () => {\r\n        let node = data.node;\r\n        SetRootFieldAction.new('_lastSelected', {\r\n            node: node?.id,\r\n            view: node?.view.id,\r\n            modelElement: data.id\r\n        }, '', false);\r\n    }\r\n\r\n    let className: string = data.className;\r\n    let name: string = data.name;\r\n    let vp: LViewPoint | undefined = className === LViewPoint.cname ? (data as any) : undefined;\r\n    let view: LViewElement | undefined = vp || (className === DViewElement.cname ? (data as any) : undefined);\r\n    let subType: string = '';\r\n    if (view) {\r\n        let appliableTo = view.appliableToClasses;\r\n        subType = appliableTo.length > 1 ? \"multi\" : appliableTo[0];\r\n    }\r\n    let subelements: GObject[] = props.getSubElements ? props.getSubElements(data) : (view ? view.subViews : data.children);\r\n    return(<section>\r\n        <div className={'d-flex tree ' + className + ' ' + subType}>\r\n            {subelements?.length >= 1 ? ((subelements?.length && hide) ?\r\n                        <i style={{fontSize: '0.7em', color: 'gray'}} className={'bi bi-chevron-right cursor-pointer d-block my-auto'} onClick={setFilter} /> :\r\n                        <i style={{fontSize: '0.7em', color: 'gray'}} className={'bi bi-chevron-down cursor-pointer d-block my-auto'} onClick={setFilter} />\r\n                ) :\r\n                <i style={{fontSize: '0.75em', color: 'whitesmoke'}} className={'bi bi-caret-right-fill d-block my-auto'} />\r\n            }\r\n\r\n            <div className={'tree-icon'}>\r\n                <div className={`type tree-${className}`}>{className.slice(1, 2)}</div>\r\n                <div className={'name'} onClick={click}>{(data.name) ? data.name : 'unnamed'}</div>\r\n            </div>\r\n        </div>\r\n        {!hide && Array.isArray(subelements) && subelements?.map((child: LPointerTargetable) => {\r\n            return(<div style={{marginLeft: '1em'}}>\r\n                <Tree data={child} depth={depth} />\r\n            </div>);\r\n        })}\r\n    </section>);*/}Tree.cname=\"Tree\";DataTree.cname=\"DataTree\";HtmlTree.cname=\"HtmlTree\";GenericTree.cname=\"GenericTree\";export default Tree;","map":{"version":3,"names":["React","LNamedElement","SetRootFieldAction","U","useStateIfMounted","useEffectOnce","MyTooltip","CommandBar","Btn","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Tree","props","data","children","id","setId","depth","filter","applyFilter","hide","includes","getRandomString","setFilter","setME","node","new","view","modelElement","up","father","down","icon","size","disabled","action","e","tip","DataTree","HtmlTree","_data$children","_data$children2","_data$children3","fromPointer","click","className","length","style","fontSize","color","onClick","concat","abstract","slice","text","name","extends","map","s","i","Array","isArray","child","marginLeft","element","isValidElement","GenericTree","isExpanded","setExpanded","initialHidingState","childrens","getSubElements","renderEntry","path","metadata","cname"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/frontend/src/components/forEndUser/Tree.tsx"],"sourcesContent":["import React, {ReactNode, MouseEventHandler} from \"react\";\r\nimport {\r\n    DClass,\r\n    Dictionary,\r\n    DViewElement,\r\n    GObject,\r\n    LClass,\r\n    LModelElement,\r\n    LNamedElement, LPointerTargetable,\r\n    LViewElement,\r\n    LViewPoint, Pointer,\r\n    SetRootFieldAction,\r\n    U\r\n} from '../../joiner';\r\nimport {useStateIfMounted} from 'use-state-if-mounted';\r\nimport './tree.scss';\r\nimport {useEffectOnce} from \"usehooks-ts\";\r\n\r\nimport { MyTooltip } from \"../tooltip/MyTooltip\";\r\nimport { CommandBar, Btn } from \"../commandbar/CommandBar\";\r\n\r\n/*\r\ntype BtnProps = {\r\n    icon: \"up\" | \"down\" | \"back\" | \"fwd\" | \"add\" | \"delete\" | \"edit\",\r\n    tip?: string,\r\n    action?: MouseEventHandler,\r\n    size?: \"small\" | \"medium\" | \"large\"\r\n}\r\n\r\nconst Btn = (props: BtnProps) => {\r\n    return (<>\r\n        {props.action ?\r\n            <div><i onClick={props.action} title={`${props.tip && props.tip}`} className={`bi tab-btn ${props.icon} ${props.size && props.size}`}></i></div>\r\n        :\r\n            <i className={`bi tab-btn ${props.icon} ${props.size && props.size} disabled`}></i>\r\n        }\r\n    </>);\r\n}\r\n\r\n\r\n\r\ntype CommandProps = {\r\n    children: any;\r\n}\r\nconst CommandBar = (props: CommandProps) => {\r\n\r\n    return(<div className={'command-bar'}>\r\n        {props.children}\r\n    </div>);\r\n};*/\r\n\r\n\r\ninterface TreeProps {data?: LModelElement, depth?: string[], children?: GObject}\r\n\r\nfunction Tree(props: TreeProps) {\r\n    const data = (props.data) ? props.data : null;\r\n    const children = props.children;\r\n    const [id, setId] = useStateIfMounted('');\r\n    const depth = (props.depth) ? [...props.depth, id] : [id];\r\n    const [filter, applyFilter] = useStateIfMounted('');\r\n    const hide = depth.includes(filter);\r\n\r\n    useEffectOnce(() => {\r\n        setId((data && data.id) ? data.id : U.getRandomString(5));\r\n    })\r\n\r\n    const setFilter = (): void => {\r\n        if(filter === id) applyFilter('');\r\n        else applyFilter(id);\r\n    }\r\n\r\n    function setME(data?: LModelElement): void {\r\n        if (!data) return;\r\n        let node = data.node;\r\n        SetRootFieldAction.new('_lastSelected', {\r\n            node: node?.id,\r\n            view: node?.view.id,\r\n            modelElement: data.id\r\n        }, '', false);\r\n    }\r\n\r\n    let up = data?.father;\r\n    let down = data?.children[0];\r\n    if (data) return(\r\n        <>\r\n            {!props.depth && <CommandBar>\r\n                <Btn icon={'up'} size={'medium'} disabled={!up} action={(e) => { setME(up)} } tip={'Click to go up to the ancestor element'} />\r\n                <Btn icon={'down'} size={'medium'} disabled={!down} action={(e) => { setME(down)} } tip={'Select the first child'} />\r\n            </CommandBar>}\r\n            <DataTree data={data} depth={depth} hide={hide} setFilter={setFilter} />\r\n        </>)\r\n    if (children) return(<><HtmlTree data={children} hide={hide} depth={depth} setFilter={setFilter} /></>);\r\n    return(<></>);\r\n}\r\n\r\ninterface DataTreeProps {data: LModelElement, hide: boolean, depth: string[], setFilter: () => void}\r\nfunction DataTree(props: DataTreeProps): JSX.Element {\r\n    const hide = props.hide;\r\n    const data: LNamedElement = LNamedElement.fromPointer(props.data.id);\r\n    if(!data) return(<div>Error Data is <b>undefined</b></div>);\r\n    const depth = props.depth;\r\n    const setFilter = props.setFilter;\r\n\r\n    const click = () => {\r\n        let node = data.node;\r\n        SetRootFieldAction.new('_lastSelected', {\r\n            node: node?.id,\r\n            view: node?.view.id,\r\n            modelElement: data.id\r\n        }, '', false);\r\n    }\r\n\r\n    /*let icon = 'box';\r\n    switch(data.className) {\r\n        case 'DModel': icon = 'diagram-2'; break;\r\n        case 'DPackage': icon = 'boxes'; break;\r\n        case 'DClass': icon = 'folder'; break;\r\n        case 'DAttribute': icon = 'stop'; break;\r\n        case 'DReference': icon = 'stop-fill'; break; //beliezer2 // folder-symlink\r\n        case 'DOperation': icon = 'gear-wide'; break;\r\n        case 'DObject': icon = ''; break;\r\n        case 'DValue': icon = ''; break;\r\n    }*/\r\n\r\n    return(<section className={'datatree-entry-root'}>\r\n\r\n        <div className={'d-flex tree'}>\r\n            {data.children?.length >= 1 ? ((data.children?.length && hide) ?\r\n                <i style={{fontSize: '0.7em', color: 'gray'}} className={'bi bi-chevron-right cursor-pointer d-block my-auto'} onClick={setFilter} /> :\r\n                <i style={{fontSize: '0.7em', color: 'gray'}} className={'bi bi-chevron-down cursor-pointer d-block my-auto'} onClick={setFilter} />\r\n            ) :\r\n                <i style={{fontSize: '0.75em', color: 'whitesmoke'}} className={'bi bi-caret-right-fill d-block my-auto'} />\r\n            }\r\n\r\n            <div className={'tree-item'} onClick={click}>\r\n                {/* <div className={`type tree-${data.className} ${(data as any).abstract && 'abstract-class'}`}>\r\n                    <div className={'icon'}>{data.className.slice(1, 2)}</div>*/}\r\n\r\n                <div className={'type'}>\r\n                    <div className={`icon tree-${data.className} ${(data as any).abstract && 'abstract-class'}`}>\r\n                        {data.className === 'DEnumLiteral' ? 'L' : data.className.slice(1, 2)}\r\n                    </div>\r\n                    <MyTooltip text={`${(data as any).abstract ? 'Abstract ':''}` + data.className} />\r\n                </div>\r\n                <div className={'name'}>\r\n                    <span className={'class-name'}>\r\n                        {(data.name) ? data.name : 'unnamed'}\r\n                        {(data as LClass).extends && (data as LClass).extends.length > 0 &&\r\n                            <span className={'extends'}>\r\n                                &nbsp; <i className=\"bi bi-caret-right\"></i> [{(data as LClass).extends.map((s,i) => <><i>{s.name}</i>{i < (data as LClass).extends.length - 1 ? ', ' :''}</>)}]\r\n                            </span>\r\n                        }\r\n                    </span>\r\n                    </div>\r\n            </div>\r\n\r\n        </div>\r\n        {!hide && Array.isArray(data.children) && data.children?.map((child: LModelElement) => {\r\n            return(<div style={{marginLeft: '1em'}}>\r\n                <Tree data={child} depth={depth} />\r\n            </div>);\r\n        })}\r\n    </section>);\r\n}\r\n\r\ninterface HtmlTreeProps {data: GObject, hide: boolean, depth: string[], setFilter: () => void}\r\nfunction HtmlTree(props: HtmlTreeProps) {\r\n    const data: (string|ReactNode)[] = (Array.isArray(props.data)) ? props.data : [props.data];\r\n    const hide = props.hide;\r\n    const depth = props.depth;\r\n    const setFilter = props.setFilter;\r\n\r\n    return(<div>\r\n        {data.map((element: string|ReactNode) => {\r\n            if(!React.isValidElement(element)) return(<></>);\r\n            const children: (string|ReactNode)[] = (Array.isArray(element.props.children)) ? element.props.children: [element.props.children];\r\n            return(<>\r\n                <div className={'d-flex'}>\r\n                    {(children.length > 0 && hide) ?\r\n                        <i className={'bi bi-chevron-up cursor-pointer d-block my-auto'} onClick={setFilter} /> :\r\n                        <i className={'bi bi-chevron-down cursor-pointer d-block my-auto'} onClick={setFilter} />\r\n                    }\r\n                    <label className={'ms-1 my-auto'}>\r\n                        {element.props['label'] ? element.props['label'] : 'unnamed'}\r\n                    </label>\r\n                </div>\r\n                {!hide && children.map((child) => {\r\n                    if(!React.isValidElement(child)) return(<></>);\r\n                    return(<div className={'ms-2'}>\r\n                        <Tree depth={depth}>\r\n                            {child}\r\n                        </Tree>\r\n                    </div>);\r\n                })}\r\n            </>);\r\n        })}\r\n    </div>);\r\n}\r\n\r\ninterface GenericTreeProps<T extends any = any> {\r\n    data: any,\r\n    getSubElements: (o: any)=>(GObject[] | Dictionary<any, any>),\r\n    //getKey: (o:any) => string,\r\n    renderEntry: (e: any, childrens: any, isExpanded: boolean, toggleExpansion: () => any, depth: number, path: number[], metadata?:any)=>JSX.Element,\r\n    initialHidingState?: boolean,\r\n    depth?: number,\r\n    path?: number[],\r\n    metadata?: any,\r\n}\r\n\r\nexport function GenericTree(props: GenericTreeProps): JSX.Element {\r\n    let [isExpanded, setExpanded] = useStateIfMounted(props.initialHidingState || false);\r\n    const data: GObject = props.data;\r\n    const childrens = props.getSubElements(data) || [];\r\n    // if (typeof childrens === \"object\" && (Array.isArray(childrens) && childrens.length === 0) || Object.keys(childrens)) isExpanded = false;\r\n    return props.renderEntry(data, childrens, isExpanded, ()=>setExpanded(!isExpanded), props.depth || 0, props.path || [], props.metadata);\r\n    /*\r\n    if (!data) return(<div>Error Data is <b>undefined</b></div>);\r\n    const depth = props.depth;\r\n    const setFilter = props.setFilter;\r\n\r\n    const click = () => {\r\n        let node = data.node;\r\n        SetRootFieldAction.new('_lastSelected', {\r\n            node: node?.id,\r\n            view: node?.view.id,\r\n            modelElement: data.id\r\n        }, '', false);\r\n    }\r\n\r\n    let className: string = data.className;\r\n    let name: string = data.name;\r\n    let vp: LViewPoint | undefined = className === LViewPoint.cname ? (data as any) : undefined;\r\n    let view: LViewElement | undefined = vp || (className === DViewElement.cname ? (data as any) : undefined);\r\n    let subType: string = '';\r\n    if (view) {\r\n        let appliableTo = view.appliableToClasses;\r\n        subType = appliableTo.length > 1 ? \"multi\" : appliableTo[0];\r\n    }\r\n    let subelements: GObject[] = props.getSubElements ? props.getSubElements(data) : (view ? view.subViews : data.children);\r\n    return(<section>\r\n        <div className={'d-flex tree ' + className + ' ' + subType}>\r\n            {subelements?.length >= 1 ? ((subelements?.length && hide) ?\r\n                        <i style={{fontSize: '0.7em', color: 'gray'}} className={'bi bi-chevron-right cursor-pointer d-block my-auto'} onClick={setFilter} /> :\r\n                        <i style={{fontSize: '0.7em', color: 'gray'}} className={'bi bi-chevron-down cursor-pointer d-block my-auto'} onClick={setFilter} />\r\n                ) :\r\n                <i style={{fontSize: '0.75em', color: 'whitesmoke'}} className={'bi bi-caret-right-fill d-block my-auto'} />\r\n            }\r\n\r\n            <div className={'tree-icon'}>\r\n                <div className={`type tree-${className}`}>{className.slice(1, 2)}</div>\r\n                <div className={'name'} onClick={click}>{(data.name) ? data.name : 'unnamed'}</div>\r\n            </div>\r\n        </div>\r\n        {!hide && Array.isArray(subelements) && subelements?.map((child: LPointerTargetable) => {\r\n            return(<div style={{marginLeft: '1em'}}>\r\n                <Tree data={child} depth={depth} />\r\n            </div>);\r\n        })}\r\n    </section>);*/\r\n}\r\n\r\nTree.cname = \"Tree\";\r\nDataTree.cname = \"DataTree\";\r\nHtmlTree.cname = \"HtmlTree\";\r\nGenericTree.cname = \"GenericTree\";\r\nexport default Tree;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}