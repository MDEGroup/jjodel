{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\rightbar\\\\viewpointsEditor\\\\ViewpointsEditor.tsx\",\n  _s = $RefreshSig$(),\n  _this = this;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Input } from '../../../joiner';\nimport { DUser, DViewPoint, LUser, U, SetFieldAction } from '../../../joiner';\nimport { useStateIfMounted } from 'use-state-if-mounted';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ViewpointsEditorComponent(props) {\n  _s();\n  const project = props.project;\n  const viewpoints = props.viewpoints;\n  const active = props.active;\n  const [hoverID, setHoverID] = useStateIfMounted('');\n  const editName = (evt, vp) => {\n    vp.name = evt.target.value;\n  };\n  const add = () => {\n    let name = 'viewpoint_' + 0;\n    let viewpointNames = viewpoints.map(vp => vp && vp.name);\n    name = U.increaseEndingNumber(name, false, false, newName => viewpointNames.indexOf(newName) >= 0);\n    DViewPoint.new2(name, '', d => {\n      d.isExclusiveView = !(d.isValidation = props.validation);\n    });\n  };\n  const destroy = viewPoint => {\n    SetFieldAction.new(project.id, 'viewpoints', viewPoint.id, '-=', false);\n    viewPoint.subViews.map(v => v.delete());\n    viewPoint.delete();\n  };\n  const select = viewPoint => {\n    project.activeViewpoint = viewPoint;\n  };\n  const clone = viewPoint => {\n    viewPoint.duplicate(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'd-flex p-2',\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        className: 'ms-1 my-auto',\n        children: \"Perspectives\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: 'btn btn-primary ms-auto',\n        onClick: add,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: 'p-1 bi bi-plus'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), viewpoints.map((viewpoint, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'd-flex p-1 mt-1 border round mx-1',\n        onMouseEnter: e => setHoverID(viewpoint.id),\n        onMouseLeave: e => setHoverID(''),\n        style: {\n          backgroundColor: active.id === viewpoint.id ? 'white' : hoverID === viewpoint.id ? '#E0E0E0' : 'transparent'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: 'p-0 input hidden-input',\n          value: viewpoint.name,\n          type: 'text',\n          onChange: evt => {\n            editName(evt, viewpoint);\n          },\n          disabled: index <= 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          className: \"ms-auto\",\n          data: viewpoint,\n          field: \"isExclusiveView\",\n          type: \"checkbox\",\n          label: \"Is exclusive\",\n          readonly: props.validation || index <= 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), (!props.validation || true) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: 'btn btn-success ms-1',\n          disabled: active.id === viewpoint.id,\n          onClick: evt => {\n            select(viewpoint);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'p-1 bi bi-check2'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 49\n        }, this)\n        // todo: validation views should not be \"activable\" but so far it is the only way to see the subviews in it.\n        , /*#__PURE__*/_jsxDEV(\"button\", {\n          className: 'btn btn-success ms-1',\n          onClick: evt => {\n            clone(viewpoint);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'p-1 bi bi-clipboard2-fill'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: 'btn btn-danger ms-1',\n          disabled: index <= 0 || active.id === viewpoint.id,\n          onClick: () => destroy(viewpoint),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'p-1 bi bi-trash3-fill'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 20\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: 'p-1',\n      children: \"*To apply a custom viewpoint, first activate the default one, and then proceed to activate the custom one.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 12\n  }, this);\n}\n_s(ViewpointsEditorComponent, \"Gu/u3790bVDb+M9Z7uRiKkRnvhI=\", false, function () {\n  return [useStateIfMounted];\n});\n_c = ViewpointsEditorComponent;\nfunction mapStateToProps(state, ownProps) {\n  const ret = {};\n  const user = LUser.fromPointer(DUser.current);\n  const project = U.wrapper(user.project);\n  ret.project = project;\n  ret.viewpoints = project.viewpoints.filter(vp => !!vp && vp.isValidation === ownProps.validation);\n  ret.active = project.activeViewpoint;\n  return ret;\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nexport const ViewpointsEditorConnected = connect(mapStateToProps, mapDispatchToProps)(ViewpointsEditorComponent);\nexport const ViewpointsEditor = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(ViewpointsEditorConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 12\n  }, _this);\n};\n_c2 = ViewpointsEditor;\nexport default ViewpointsEditor;\nvar _c, _c2;\n$RefreshReg$(_c, \"ViewpointsEditorComponent\");\n$RefreshReg$(_c2, \"ViewpointsEditor\");","map":{"version":3,"names":["React","connect","Input","DUser","DViewPoint","LUser","U","SetFieldAction","useStateIfMounted","jsxDEV","_jsxDEV","ViewpointsEditorComponent","props","_s","project","viewpoints","active","hoverID","setHoverID","editName","evt","vp","name","target","value","add","viewpointNames","map","increaseEndingNumber","newName","indexOf","new2","d","isExclusiveView","isValidation","validation","destroy","viewPoint","new","id","subViews","v","delete","select","activeViewpoint","clone","duplicate","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","viewpoint","index","onMouseEnter","e","onMouseLeave","style","backgroundColor","type","onChange","disabled","data","field","label","readonly","_c","mapStateToProps","state","ownProps","ret","user","fromPointer","current","wrapper","filter","mapDispatchToProps","dispatch","ViewpointsEditorConnected","ViewpointsEditor","arguments","length","undefined","_this","_c2","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/components/rightbar/viewpointsEditor/ViewpointsEditor.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {DState, Input} from '../../../joiner';\r\nimport {DUser, DViewPoint, LProject, LUser, LViewPoint, U, SetFieldAction} from '../../../joiner';\r\nimport {useStateIfMounted} from 'use-state-if-mounted';\r\nimport {FakeStateProps} from '../../../joiner/types';\r\n\r\n\r\nfunction ViewpointsEditorComponent(props: AllProps) {\r\n    const project = props.project;\r\n    const viewpoints = props.viewpoints;\r\n    const active = props.active;\r\n\r\n    const [hoverID, setHoverID] = useStateIfMounted('');\r\n\r\n    const editName = (evt: React.ChangeEvent<HTMLInputElement>, vp: LViewPoint) => {\r\n        vp.name = evt.target.value;\r\n    }\r\n    const add = () => {\r\n        let name = 'viewpoint_' + 0;\r\n        let viewpointNames: string[] = viewpoints.map(vp => vp && vp.name);\r\n        name = U.increaseEndingNumber(name, false, false, newName => viewpointNames.indexOf(newName) >= 0);\r\n        DViewPoint.new2(name, '', (d) => { d.isExclusiveView = !(d.isValidation = props.validation); } );\r\n    }\r\n    const destroy = (viewPoint: LViewPoint) => {\r\n        SetFieldAction.new(project.id, 'viewpoints', viewPoint.id as any, '-=', false);\r\n        viewPoint.subViews.map(v => v.delete());\r\n        viewPoint.delete();\r\n    }\r\n    const select = (viewPoint: LViewPoint) => {\r\n        project.activeViewpoint = viewPoint;\r\n    }\r\n    const clone = (viewPoint: LViewPoint) => {\r\n        viewPoint.duplicate(true);\r\n    }\r\n\r\n    return(<div>\r\n        <div className={'d-flex p-2'}>\r\n            <b className={'ms-1 my-auto'}>Perspectives</b>\r\n            <button className={'btn btn-primary ms-auto'} onClick={add}>\r\n                <i className={'p-1 bi bi-plus'}></i>\r\n            </button>\r\n        </div>\r\n        {viewpoints.map((viewpoint, index) => {\r\n            return <div key={index} className={'d-flex p-1 mt-1 border round mx-1'}\r\n                        onMouseEnter={(e) => setHoverID(viewpoint.id)}\r\n                        onMouseLeave={(e) => setHoverID('')}\r\n                        style={{backgroundColor: (active.id === viewpoint.id) ? 'white' :\r\n                                (hoverID === viewpoint.id ? '#E0E0E0' : 'transparent')}}>\r\n                <input className={'p-0 input hidden-input'} value={viewpoint.name} type={'text'}\r\n                       onChange={(evt) => {editName(evt, viewpoint)}} disabled={index <= 0} />\r\n                <Input className={\"ms-auto\"} data={viewpoint} field={\"isExclusiveView\"} type={\"checkbox\"}\r\n                       label={\"Is exclusive\"} readonly={props.validation || index <= 0} />\r\n                {(!props.validation || true) && <button className={'btn btn-success ms-1'} disabled={active.id === viewpoint.id}\r\n                        onClick={(evt) => {select(viewpoint)}}>\r\n                    <i className={'p-1 bi bi-check2'}></i>\r\n                </button>\r\n                // todo: validation views should not be \"activable\" but so far it is the only way to see the subviews in it.\r\n                }\r\n                <button className={'btn btn-success ms-1'}\r\n                        onClick={(evt) => {clone(viewpoint)}}>\r\n                    <i className={'p-1 bi bi-clipboard2-fill'}></i>\r\n                </button>\r\n                <button className={'btn btn-danger ms-1'} disabled={index <= 0 || active.id === viewpoint.id}\r\n                        onClick={() => destroy(viewpoint)}>\r\n                    <i className={'p-1 bi bi-trash3-fill'}></i>\r\n                </button>\r\n            </div>\r\n        })}\r\n        <label className={'p-1'}>\r\n            *To apply a custom viewpoint, first activate the default one, and then proceed to activate the custom one.\r\n        </label>\r\n    </div>);\r\n}\r\ninterface OwnProps {\r\n    validation: boolean;\r\n}\r\ninterface StateProps {\r\n    project: LProject;\r\n    viewpoints: LViewPoint[];\r\n    active: LViewPoint;\r\n}\r\ninterface DispatchProps { }\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    const user: LUser = LUser.fromPointer(DUser.current);\r\n    const project = U.wrapper<LProject>(user.project);\r\n    ret.project = project;\r\n    ret.viewpoints = project.viewpoints.filter( (vp) => !!vp && vp.isValidation === ownProps.validation);\r\n    ret.active = project.activeViewpoint;\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\n\r\nexport const ViewpointsEditorConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(ViewpointsEditorComponent);\r\n\r\nexport const ViewpointsEditor = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <ViewpointsEditorConnected {...{...props, children}} />;\r\n}\r\nexport default ViewpointsEditor;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}