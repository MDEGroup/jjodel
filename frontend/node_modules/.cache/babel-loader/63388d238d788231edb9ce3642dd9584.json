{"ast":null,"code":"import{DModel,LModel,LPackage}from'../../../joiner';import TabDataMaker from'../../../components/abstract/tabs/TabDataMaker';import DockManager from'../../../components/abstract/DockManager';import'./style.scss';import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MetamodelPopup(props){const{project,setClicked}=props;const[name,setName]=useState('');const createM2=async()=>{const dModel=DModel.new(name,undefined,true);const lModel=LModel.fromD(dModel);project.metamodels=[...project.metamodels,lModel];project.graphs=[...project.graphs,lModel.node];const dPackage=lModel.addChild('package');const lPackage=LPackage.fromD(dPackage);lPackage.name='default';const tab=TabDataMaker.metamodel(dModel);await DockManager.open('models',tab);setClicked('');};return/*#__PURE__*/_jsx(\"div\",{className:'popup-container',children:/*#__PURE__*/_jsxs(\"div\",{className:'popup',children:[/*#__PURE__*/_jsx(\"div\",{className:'close-container',children:/*#__PURE__*/_jsx(\"i\",{onClick:e=>setClicked(''),className:'bi bi-x-lg text-danger close'})}),/*#__PURE__*/_jsxs(\"section\",{className:'px-3',children:[/*#__PURE__*/_jsxs(\"div\",{className:'input-container',children:[/*#__PURE__*/_jsx(\"b\",{className:'me-2',children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{className:'input',onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createM2,disabled:!name,className:'btn btn-success d-block w-100 mt-3',children:\"Create\"})]})]})});}export{MetamodelPopup};","map":{"version":3,"names":["DModel","LModel","LPackage","TabDataMaker","DockManager","React","useState","jsx","_jsx","jsxs","_jsxs","MetamodelPopup","props","project","setClicked","name","setName","createM2","dModel","new","undefined","lModel","fromD","metamodels","graphs","node","dPackage","addChild","lPackage","tab","metamodel","open","className","children","onClick","e","onChange","target","value","disabled"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/frontend/src/pages/components/popups/Metamodel.tsx"],"sourcesContent":["import {DModel, Input, LGraph, LModel, LPackage, LProject, Selectors, U} from '../../../joiner';\r\nimport TabDataMaker from '../../../components/abstract/tabs/TabDataMaker';\r\nimport DockManager from '../../../components/abstract/DockManager';\r\nimport './style.scss';\r\nimport React, {Dispatch, SetStateAction, useState} from 'react';\r\n\r\ntype Props = {project: LProject, setClicked: Dispatch<SetStateAction<string>>};\r\nfunction MetamodelPopup(props: Props): JSX.Element {\r\n    const {project, setClicked} = props;\r\n    const [name, setName] = useState('');\r\n\r\n    const createM2 = async() => {\r\n        const dModel = DModel.new(name, undefined, true);\r\n        const lModel: LModel = LModel.fromD(dModel);\r\n        project.metamodels = [...project.metamodels, lModel];\r\n        project.graphs = [...project.graphs, lModel.node as LGraph];\r\n        const dPackage = lModel.addChild('package');\r\n        const lPackage: LPackage = LPackage.fromD(dPackage);\r\n        lPackage.name = 'default';\r\n        const tab = TabDataMaker.metamodel(dModel);\r\n        await DockManager.open('models', tab);\r\n        setClicked('');\r\n    }\r\n\r\n    return(<div className={'popup-container'}>\r\n        <div className={'popup'}>\r\n            <div className={'close-container'}>\r\n                <i onClick={e => setClicked('')} className={'bi bi-x-lg text-danger close'} />\r\n            </div>\r\n            <section className={'px-3'}>\r\n                <div className={'input-container'}>\r\n                    <b className={'me-2'}>Name:</b>\r\n                    <input className={'input'} onChange={e => setName(e.target.value)} />\r\n                </div>\r\n                <button onClick={createM2} disabled={!name} className={'btn btn-success d-block w-100 mt-3'}>\r\n                        Create\r\n                </button>\r\n            </section>\r\n        </div>\r\n    </div>);\r\n}\r\n\r\nexport {MetamodelPopup};\r\n"],"mappings":"AAAA,OAAQA,MAAM,CAAiBC,MAAM,CAAEC,QAAQ,KAA+B,iBAAiB,CAC/F,MAAO,CAAAC,YAAY,KAAM,gDAAgD,CACzE,MAAO,CAAAC,WAAW,KAAM,0CAA0C,CAClE,MAAO,cAAc,CACrB,MAAO,CAAAC,KAAK,EAA6BC,QAAQ,KAAO,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGhE,QAAS,CAAAC,cAAcA,CAACC,KAAY,CAAe,CAC/C,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGF,KAAK,CACnC,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEpC,KAAM,CAAAW,QAAQ,CAAG,KAAAA,CAAA,GAAW,CACxB,KAAM,CAAAC,MAAM,CAAGlB,MAAM,CAACmB,GAAG,CAACJ,IAAI,CAAEK,SAAS,CAAE,IAAI,CAAC,CAChD,KAAM,CAAAC,MAAc,CAAGpB,MAAM,CAACqB,KAAK,CAACJ,MAAM,CAAC,CAC3CL,OAAO,CAACU,UAAU,CAAG,CAAC,GAAGV,OAAO,CAACU,UAAU,CAAEF,MAAM,CAAC,CACpDR,OAAO,CAACW,MAAM,CAAG,CAAC,GAAGX,OAAO,CAACW,MAAM,CAAEH,MAAM,CAACI,IAAI,CAAW,CAC3D,KAAM,CAAAC,QAAQ,CAAGL,MAAM,CAACM,QAAQ,CAAC,SAAS,CAAC,CAC3C,KAAM,CAAAC,QAAkB,CAAG1B,QAAQ,CAACoB,KAAK,CAACI,QAAQ,CAAC,CACnDE,QAAQ,CAACb,IAAI,CAAG,SAAS,CACzB,KAAM,CAAAc,GAAG,CAAG1B,YAAY,CAAC2B,SAAS,CAACZ,MAAM,CAAC,CAC1C,KAAM,CAAAd,WAAW,CAAC2B,IAAI,CAAC,QAAQ,CAAEF,GAAG,CAAC,CACrCf,UAAU,CAAC,EAAE,CAAC,CAClB,CAAC,CAED,mBAAON,IAAA,QAAKwB,SAAS,CAAE,iBAAkB,CAAAC,QAAA,cACrCvB,KAAA,QAAKsB,SAAS,CAAE,OAAQ,CAAAC,QAAA,eACpBzB,IAAA,QAAKwB,SAAS,CAAE,iBAAkB,CAAAC,QAAA,cAC9BzB,IAAA,MAAG0B,OAAO,CAAEC,CAAC,EAAIrB,UAAU,CAAC,EAAE,CAAE,CAACkB,SAAS,CAAE,8BAA+B,CAAE,CAAC,CAC7E,CAAC,cACNtB,KAAA,YAASsB,SAAS,CAAE,MAAO,CAAAC,QAAA,eACvBvB,KAAA,QAAKsB,SAAS,CAAE,iBAAkB,CAAAC,QAAA,eAC9BzB,IAAA,MAAGwB,SAAS,CAAE,MAAO,CAAAC,QAAA,CAAC,OAAK,CAAG,CAAC,cAC/BzB,IAAA,UAAOwB,SAAS,CAAE,OAAQ,CAACI,QAAQ,CAAED,CAAC,EAAInB,OAAO,CAACmB,CAAC,CAACE,MAAM,CAACC,KAAK,CAAE,CAAE,CAAC,EACpE,CAAC,cACN9B,IAAA,WAAQ0B,OAAO,CAAEjB,QAAS,CAACsB,QAAQ,CAAE,CAACxB,IAAK,CAACiB,SAAS,CAAE,oCAAqC,CAAAC,QAAA,CAAC,QAE7F,CAAQ,CAAC,EACJ,CAAC,EACT,CAAC,CACL,CAAC,CACV,CAEA,OAAQtB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}