{"ast":null,"code":"var _jsxFileName = \"C:\\\\0Programmi\\\\Dev\\\\projects\\\\frontend\\\\jjodel\\\\src\\\\graph\\\\vertex\\\\Vertex.tsx\",\n  _this = this;\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { DGraph, DGraphElement, DGraphVertex, DVoidVertex, GraphElementComponent, GraphElementDispatchProps, GraphElementOwnProps, GraphElementReduxStateProps, GraphElementStatee, LPointerTargetable, RuntimeAccessibleClass, U } from \"../../joiner\";\nimport RootVertex from \"./RootVertex\";\nimport { LViewPoint } from \"../../view/viewPoint/viewpoint\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst superclassGraphElementComponent = RuntimeAccessibleClass.classes.GraphElementComponent;\nclass ThisStatee extends GraphElementStatee {}\nexport class VertexComponent extends superclassGraphElementComponent {\n  /*\r\n  shouldComponentUpdate(newProps: Readonly<AllProps>, newState: Readonly<ThisState>, newContext: any): boolean {\r\n      const oldProps = this.props;\r\n      const newData = newProps.data; const oldData = oldProps.data;\r\n      const newNode = newProps.node; const oldNode = oldProps.node;\r\n      const newViewpoint = newProps.viewpoint; const oldViewpoint = oldProps.viewpoint;\r\n      const newEdgePending = newProps.isEdgePending; const oldEdgePending = oldProps.isEdgePending;\r\n        if(newData.__raw !== oldData.__raw) return true;\r\n      if(newNode?.__raw !== oldNode?.__raw) return true;\r\n      if(newViewpoint.__raw !== oldViewpoint.__raw) return true;\r\n      if(newEdgePending !== oldEdgePending) return true;\r\n      return false;\r\n  }\r\n   */\n\n  constructor(props, context) {\n    super(props, context);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(RootVertex, {\n      props: this.props,\n      render: super.render()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this);\n  }\n}\nclass OwnProps extends GraphElementOwnProps {\n  constructor() {\n    super(...arguments);\n    this.onclick = void 0;\n    this.onmousedown = void 0;\n    this.isGraph = false;\n    this.isVertex = true;\n  }\n}\nclass StateProps extends GraphElementReduxStateProps {\n  constructor() {\n    super(...arguments);\n    this.node = void 0;\n    this.lastSelected = void 0;\n    this.isEdgePending = void 0;\n    this.viewpoint = void 0;\n  }\n}\nclass DispatchProps extends GraphElementDispatchProps {}\nfunction mapStateToProps(state, ownProps) {\n  let DGraphElementClass;\n  if (ownProps.isVertex && ownProps.isGraph) DGraphElementClass = DGraphVertex;else if (ownProps.isVertex && !ownProps.isGraph) DGraphElementClass = DVoidVertex;else if (!ownProps.isVertex && ownProps.isGraph) DGraphElementClass = DGraph;else DGraphElementClass = DGraphElement;\n  const superret = GraphElementComponent.mapStateToProps(state, ownProps, DGraphElementClass);\n  //superret.lastSelected = state._lastSelected?.modelElement;\n  superret.lastSelected = state._lastSelected ? LPointerTargetable.from(state._lastSelected.modelElement) : null;\n  superret.isEdgePending = {\n    user: LPointerTargetable.from(state.isEdgePending.user),\n    source: LPointerTargetable.from(state.isEdgePending.source)\n  };\n  superret.viewpoint = LViewPoint.fromPointer(state.viewpoint);\n  const ret = new StateProps();\n  U.objectMergeInPlace(superret, ret);\n  U.removeEmptyObjectKeys(superret);\n  return superret;\n}\nfunction mapDispatchToProps(dispatch) {\n  const superret = GraphElementComponent.mapDispatchToProps(dispatch);\n  const ret = new GraphElementDispatchProps();\n  U.objectMergeInPlace(superret, ret);\n  U.removeEmptyObjectKeys(superret);\n  return superret;\n}\nexport const VertexConnected = connect(mapStateToProps, mapDispatchToProps)(VertexComponent);\nexport const Vertex = function (props) {\n  let childrens = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(VertexConnected, {\n    ...props,\n    childrens,\n    isGraph: false,\n    isVertex: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 12\n  }, _this);\n};\n_c = Vertex;\nexport const Graph = function (props) {\n  let childrens = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(VertexConnected, {\n    ...props,\n    childrens,\n    isGraph: true,\n    isVertex: false\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 12\n  }, _this);\n};\n_c2 = Graph;\nexport const GraphVertex = function (props) {\n  let childrens = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(VertexConnected, {\n    ...props,\n    childrens,\n    isGraph: true,\n    isVertex: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 12\n  }, _this);\n};\n_c3 = GraphVertex;\nexport const Field = function (props) {\n  let childrens = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(VertexConnected, {\n    ...props,\n    childrens,\n    isGraph: false,\n    isVertex: false\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 12\n  }, _this);\n};\n_c4 = Field;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Vertex\");\n$RefreshReg$(_c2, \"Graph\");\n$RefreshReg$(_c3, \"GraphVertex\");\n$RefreshReg$(_c4, \"Field\");","map":{"version":3,"names":["React","connect","DGraph","DGraphElement","DGraphVertex","DVoidVertex","GraphElementComponent","GraphElementDispatchProps","GraphElementOwnProps","GraphElementReduxStateProps","GraphElementStatee","LPointerTargetable","RuntimeAccessibleClass","U","RootVertex","LViewPoint","jsxDEV","_jsxDEV","superclassGraphElementComponent","classes","ThisStatee","VertexComponent","constructor","props","context","render","fileName","_jsxFileName","lineNumber","columnNumber","OwnProps","arguments","onclick","onmousedown","isGraph","isVertex","StateProps","node","lastSelected","isEdgePending","viewpoint","DispatchProps","mapStateToProps","state","ownProps","DGraphElementClass","superret","_lastSelected","from","modelElement","user","source","fromPointer","ret","objectMergeInPlace","removeEmptyObjectKeys","mapDispatchToProps","dispatch","VertexConnected","Vertex","childrens","length","undefined","_this","_c","Graph","_c2","GraphVertex","_c3","Field","_c4","$RefreshReg$"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/graph/vertex/Vertex.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement, ReactNode} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    DGraph,\r\n    DGraphElement,\r\n    DGraphVertex,\r\n    DVoidVertex,\r\n    GraphElementComponent,\r\n    GraphElementDispatchProps,\r\n    GraphElementOwnProps,\r\n    GraphElementReduxStateProps,\r\n    GraphElementStatee,\r\n    IStore,\r\n    LClass,\r\n    LModelElement,\r\n    LPointerTargetable,\r\n    LUser,\r\n    LVoidVertex,\r\n    RuntimeAccessibleClass,\r\n    U,\r\n} from \"../../joiner\";\r\nimport RootVertex from \"./RootVertex\";\r\nimport {LViewPoint} from \"../../view/viewPoint/viewpoint\";\r\n\r\nconst superclassGraphElementComponent: typeof GraphElementComponent = RuntimeAccessibleClass.classes.GraphElementComponent as any as typeof GraphElementComponent;\r\nclass ThisStatee extends GraphElementStatee {}\r\n\r\nexport class VertexComponent<AllProps extends AllPropss = AllPropss, ThisState extends ThisStatee = ThisStatee>\r\n    extends superclassGraphElementComponent<AllProps, ThisState> {\r\n\r\n    /*\r\n    shouldComponentUpdate(newProps: Readonly<AllProps>, newState: Readonly<ThisState>, newContext: any): boolean {\r\n        const oldProps = this.props;\r\n        const newData = newProps.data; const oldData = oldProps.data;\r\n        const newNode = newProps.node; const oldNode = oldProps.node;\r\n        const newViewpoint = newProps.viewpoint; const oldViewpoint = oldProps.viewpoint;\r\n        const newEdgePending = newProps.isEdgePending; const oldEdgePending = oldProps.isEdgePending;\r\n\r\n        if(newData.__raw !== oldData.__raw) return true;\r\n        if(newNode?.__raw !== oldNode?.__raw) return true;\r\n        if(newViewpoint.__raw !== oldViewpoint.__raw) return true;\r\n        if(newEdgePending !== oldEdgePending) return true;\r\n        return false;\r\n    }\r\n     */\r\n\r\n    constructor(props: AllProps, context: any) {\r\n        super(props, context);\r\n    }\r\n    render(): ReactNode {\r\n        return(<RootVertex props={this.props} render={super.render()} />);\r\n    }\r\n}\r\n\r\nclass OwnProps extends GraphElementOwnProps {\r\n    onclick?: (e: React.MouseEvent<HTMLDivElement>) => void;\r\n    onmousedown?: (e: React.MouseEvent<HTMLDivElement>) => void;\r\n    isGraph?: boolean = false;\r\n    isVertex?: boolean = true;\r\n}\r\n\r\nclass StateProps extends GraphElementReduxStateProps {\r\n    node!: LVoidVertex;\r\n    lastSelected!: LModelElement | null;\r\n    isEdgePending!: { user: LUser, source: LClass };\r\n    viewpoint!: LViewPoint\r\n}\r\n\r\nclass DispatchProps extends GraphElementDispatchProps {\r\n}\r\n\r\nexport type AllPropss = OwnProps & StateProps & DispatchProps;\r\n\r\nfunction mapStateToProps(state: IStore, ownProps: OwnProps): StateProps {\r\n    let DGraphElementClass: typeof DGraphElement;\r\n    if (ownProps.isVertex && ownProps.isGraph) DGraphElementClass = DGraphVertex;\r\n    else if (ownProps.isVertex && !ownProps.isGraph) DGraphElementClass = DVoidVertex;\r\n    else if (!ownProps.isVertex && ownProps.isGraph) DGraphElementClass = DGraph;\r\n    else DGraphElementClass = DGraphElement;\r\n    const superret: StateProps = GraphElementComponent.mapStateToProps(state, ownProps, DGraphElementClass) as StateProps;\r\n    //superret.lastSelected = state._lastSelected?.modelElement;\r\n    superret.lastSelected = state._lastSelected ? LPointerTargetable.from(state._lastSelected.modelElement) : null;\r\n    superret.isEdgePending = {\r\n        user: LPointerTargetable.from(state.isEdgePending.user),\r\n        source: LPointerTargetable.from(state.isEdgePending.source)\r\n    };\r\n    superret.viewpoint = LViewPoint.fromPointer(state.viewpoint);\r\n    const ret: StateProps = new StateProps();\r\n    U.objectMergeInPlace(superret, ret);\r\n    U.removeEmptyObjectKeys(superret);\r\n    return superret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const superret: GraphElementDispatchProps = GraphElementComponent.mapDispatchToProps(dispatch);\r\n    const ret: GraphElementDispatchProps = new GraphElementDispatchProps();\r\n    U.objectMergeInPlace(superret, ret);\r\n    U.removeEmptyObjectKeys(superret);\r\n    return superret;\r\n}\r\n\r\n\r\nexport const VertexConnected = connect<StateProps, DispatchProps, OwnProps, IStore>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(VertexComponent as any);\r\n\r\nexport const Vertex = (props: OwnProps, childrens: (string | React.Component)[] = []): ReactElement => {\r\n    return <VertexConnected {...{...props, childrens}} isGraph={false} isVertex={true} />;\r\n}\r\n\r\nexport const Graph = (props: OwnProps, childrens: (string | React.Component)[] = []): ReactElement => {\r\n    return <VertexConnected {...{...props, childrens}} isGraph={true} isVertex={false} />;\r\n}\r\n\r\nexport const GraphVertex = (props: OwnProps, childrens: (string | React.Component)[] = []): ReactElement => {\r\n    return <VertexConnected {...{...props, childrens}} isGraph={true} isVertex={true} />;\r\n}\r\n\r\nexport const Field = (props: OwnProps, childrens: (string | React.Component)[] = []): ReactElement => {\r\n    return <VertexConnected {...{...props, childrens}} isGraph={false} isVertex={false} />;\r\n}\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAA2C,OAAO;AAC9D,SAAQC,OAAO,QAAO,aAAa;AACnC,SACIC,MAAM,EACNC,aAAa,EACbC,YAAY,EACZC,WAAW,EACXC,qBAAqB,EACrBC,yBAAyB,EACzBC,oBAAoB,EACpBC,2BAA2B,EAC3BC,kBAAkB,EAIlBC,kBAAkB,EAGlBC,sBAAsB,EACtBC,CAAC,QACE,cAAc;AACrB,OAAOC,UAAU,MAAM,cAAc;AACrC,SAAQC,UAAU,QAAO,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,MAAMC,+BAA6D,GAAGN,sBAAsB,CAACO,OAAO,CAACb,qBAA4D;AACjK,MAAMc,UAAU,SAASV,kBAAkB,CAAC;AAE5C,OAAO,MAAMW,eAAe,SAChBH,+BAA+B,CAAsB;EAE7D;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAGII,WAAWA,CAACC,KAAe,EAAEC,OAAY,EAAE;IACvC,KAAK,CAACD,KAAK,EAAEC,OAAO,CAAC;EACzB;EACAC,MAAMA,CAAA,EAAc;IAChB,oBAAOR,OAAA,CAACH,UAAU;MAACS,KAAK,EAAE,IAAI,CAACA,KAAM;MAACE,MAAM,EAAE,KAAK,CAACA,MAAM,CAAC;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpE;AACJ;AAEA,MAAMC,QAAQ,SAAStB,oBAAoB,CAAC;EAAAc,YAAA;IAAA,SAAAS,SAAA;IAAA,KACxCC,OAAO;IAAA,KACPC,WAAW;IAAA,KACXC,OAAO,GAAa,KAAK;IAAA,KACzBC,QAAQ,GAAa,IAAI;EAAA;AAC7B;AAEA,MAAMC,UAAU,SAAS3B,2BAA2B,CAAC;EAAAa,YAAA;IAAA,SAAAS,SAAA;IAAA,KACjDM,IAAI;IAAA,KACJC,YAAY;IAAA,KACZC,aAAa;IAAA,KACbC,SAAS;EAAA;AACb;AAEA,MAAMC,aAAa,SAASlC,yBAAyB,CAAC;AAKtD,SAASmC,eAAeA,CAACC,KAAa,EAAEC,QAAkB,EAAc;EACpE,IAAIC,kBAAwC;EAC5C,IAAID,QAAQ,CAACT,QAAQ,IAAIS,QAAQ,CAACV,OAAO,EAAEW,kBAAkB,GAAGzC,YAAY,CAAC,KACxE,IAAIwC,QAAQ,CAACT,QAAQ,IAAI,CAACS,QAAQ,CAACV,OAAO,EAAEW,kBAAkB,GAAGxC,WAAW,CAAC,KAC7E,IAAI,CAACuC,QAAQ,CAACT,QAAQ,IAAIS,QAAQ,CAACV,OAAO,EAAEW,kBAAkB,GAAG3C,MAAM,CAAC,KACxE2C,kBAAkB,GAAG1C,aAAa;EACvC,MAAM2C,QAAoB,GAAGxC,qBAAqB,CAACoC,eAAe,CAACC,KAAK,EAAEC,QAAQ,EAAEC,kBAAkB,CAAe;EACrH;EACAC,QAAQ,CAACR,YAAY,GAAGK,KAAK,CAACI,aAAa,GAAGpC,kBAAkB,CAACqC,IAAI,CAACL,KAAK,CAACI,aAAa,CAACE,YAAY,CAAC,GAAG,IAAI;EAC9GH,QAAQ,CAACP,aAAa,GAAG;IACrBW,IAAI,EAAEvC,kBAAkB,CAACqC,IAAI,CAACL,KAAK,CAACJ,aAAa,CAACW,IAAI,CAAC;IACvDC,MAAM,EAAExC,kBAAkB,CAACqC,IAAI,CAACL,KAAK,CAACJ,aAAa,CAACY,MAAM;EAC9D,CAAC;EACDL,QAAQ,CAACN,SAAS,GAAGzB,UAAU,CAACqC,WAAW,CAACT,KAAK,CAACH,SAAS,CAAC;EAC5D,MAAMa,GAAe,GAAG,IAAIjB,UAAU,CAAC,CAAC;EACxCvB,CAAC,CAACyC,kBAAkB,CAACR,QAAQ,EAAEO,GAAG,CAAC;EACnCxC,CAAC,CAAC0C,qBAAqB,CAACT,QAAQ,CAAC;EACjC,OAAOA,QAAQ;AACnB;AAEA,SAASU,kBAAkBA,CAACC,QAAuB,EAAiB;EAChE,MAAMX,QAAmC,GAAGxC,qBAAqB,CAACkD,kBAAkB,CAACC,QAAQ,CAAC;EAC9F,MAAMJ,GAA8B,GAAG,IAAI9C,yBAAyB,CAAC,CAAC;EACtEM,CAAC,CAACyC,kBAAkB,CAACR,QAAQ,EAAEO,GAAG,CAAC;EACnCxC,CAAC,CAAC0C,qBAAqB,CAACT,QAAQ,CAAC;EACjC,OAAOA,QAAQ;AACnB;AAGA,OAAO,MAAMY,eAAe,GAAGzD,OAAO,CAClCyC,eAAe,EACfc,kBACJ,CAAC,CAACnC,eAAsB,CAAC;AAEzB,OAAO,MAAMsC,MAAM,GAAG,SAAAA,CAACpC,KAAe,EAAiE;EAAA,IAA/DqC,SAAuC,GAAA7B,SAAA,CAAA8B,MAAA,QAAA9B,SAAA,QAAA+B,SAAA,GAAA/B,SAAA,MAAG,EAAE;EAChF,oBAAOd,OAAA,CAACyC,eAAe;IAAM,GAAGnC,KAAK;IAAEqC,SAAS;IAAG1B,OAAO,EAAE,KAAM;IAACC,QAAQ,EAAE;EAAK;IAAAT,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAkC,KAAE,CAAC;AACzF,CAAC;AAAAC,EAAA,GAFYL,MAAM;AAInB,OAAO,MAAMM,KAAK,GAAG,SAAAA,CAAC1C,KAAe,EAAiE;EAAA,IAA/DqC,SAAuC,GAAA7B,SAAA,CAAA8B,MAAA,QAAA9B,SAAA,QAAA+B,SAAA,GAAA/B,SAAA,MAAG,EAAE;EAC/E,oBAAOd,OAAA,CAACyC,eAAe;IAAM,GAAGnC,KAAK;IAAEqC,SAAS;IAAG1B,OAAO,EAAE,IAAK;IAACC,QAAQ,EAAE;EAAM;IAAAT,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAkC,KAAE,CAAC;AACzF,CAAC;AAAAG,GAAA,GAFYD,KAAK;AAIlB,OAAO,MAAME,WAAW,GAAG,SAAAA,CAAC5C,KAAe,EAAiE;EAAA,IAA/DqC,SAAuC,GAAA7B,SAAA,CAAA8B,MAAA,QAAA9B,SAAA,QAAA+B,SAAA,GAAA/B,SAAA,MAAG,EAAE;EACrF,oBAAOd,OAAA,CAACyC,eAAe;IAAM,GAAGnC,KAAK;IAAEqC,SAAS;IAAG1B,OAAO,EAAE,IAAK;IAACC,QAAQ,EAAE;EAAK;IAAAT,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAkC,KAAE,CAAC;AACxF,CAAC;AAAAK,GAAA,GAFYD,WAAW;AAIxB,OAAO,MAAME,KAAK,GAAG,SAAAA,CAAC9C,KAAe,EAAiE;EAAA,IAA/DqC,SAAuC,GAAA7B,SAAA,CAAA8B,MAAA,QAAA9B,SAAA,QAAA+B,SAAA,GAAA/B,SAAA,MAAG,EAAE;EAC/E,oBAAOd,OAAA,CAACyC,eAAe;IAAM,GAAGnC,KAAK;IAAEqC,SAAS;IAAG1B,OAAO,EAAE,KAAM;IAACC,QAAQ,EAAE;EAAM;IAAAT,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAkC,KAAE,CAAC;AAC1F,CAAC;AAAAO,GAAA,GAFYD,KAAK;AAAA,IAAAL,EAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAE,GAAA;AAAAC,YAAA,CAAAP,EAAA;AAAAO,YAAA,CAAAL,GAAA;AAAAK,YAAA,CAAAH,GAAA;AAAAG,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}