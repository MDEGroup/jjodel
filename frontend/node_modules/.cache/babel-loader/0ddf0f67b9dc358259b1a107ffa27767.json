{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PackageDeclaration = void 0;\nvar Utils_1 = require(\"../Utils\");\nvar Expression_1 = require(\"./Expression\");\n/**\n * In order to group and organise OCL constraints, packages can be used.\n */\nvar PackageDeclaration = /** @class */function (_super) {\n  __extends(PackageDeclaration, _super);\n  function PackageDeclaration(type, contexts) {\n    var _this = _super.call(this) || this;\n    _this.contexts = contexts;\n    return _this;\n  }\n  PackageDeclaration.prototype.accept = function (visitor) {\n    var labelsToExecute = visitor.getLabelsToExecute();\n    if (labelsToExecute.length === 0 || this.labels.length === 0) {\n      return true;\n    }\n    var anies = Utils_1.Utils.intersect(this.labels, labelsToExecute);\n    return anies.length > 0;\n  };\n  PackageDeclaration.prototype.getContexts = function () {\n    return this.contexts;\n  };\n  PackageDeclaration.prototype.setExecutionLabels = function (labels) {\n    this.labels = labels;\n  };\n  PackageDeclaration.prototype.setRawOclExpression = function (oclExpression) {\n    this.oclExpression = oclExpression;\n  };\n  PackageDeclaration.prototype.getRawOclExpression = function () {\n    return this.oclExpression;\n  };\n  PackageDeclaration.prototype.evaluate = function (visitor) {\n    if (this.accept(visitor)) {\n      var contextsToVisit = this.getContexts().filter(function (ctx) {\n        return ctx.accept(visitor);\n      });\n      var evaluationResult = !contextsToVisit.map(function (ctx) {\n        return ctx.evaluate(visitor);\n      }).some(function (inv) {\n        return inv === false;\n      });\n      visitor.setEvaluationResult(evaluationResult);\n    }\n    return this;\n  };\n  return PackageDeclaration;\n}(Expression_1.Expression);\nexports.PackageDeclaration = PackageDeclaration;","map":{"version":3,"names":["Utils_1","require","Expression_1","PackageDeclaration","_super","__extends","type","contexts","_this","call","prototype","accept","visitor","labelsToExecute","getLabelsToExecute","length","labels","anies","Utils","intersect","getContexts","setExecutionLabels","setRawOclExpression","oclExpression","getRawOclExpression","evaluate","contextsToVisit","filter","ctx","evaluationResult","map","some","inv","setEvaluationResult","Expression","exports"],"sources":["../../../lib/components/expressions/PackageDeclaration.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAAA,OAAA,GAAAC,OAAA;AAGA,IAAAC,YAAA,GAAAD,OAAA;AAEA;;;AAGA,IAAAE,kBAAA,0BAAAC,MAAA;EAAwCC,SAAA,CAAAF,kBAAA,EAAAC,MAAA;EAKpC,SAAAD,mBAAYG,IAAI,EAAEC,QAAkC;IAApD,IAAAC,KAAA,GACIJ,MAAA,CAAAK,IAAA,MAAO;IACPD,KAAI,CAACD,QAAQ,GAAGA,QAAQ;;EAC5B;EAEAJ,kBAAA,CAAAO,SAAA,CAAAC,MAAM,GAAN,UAAOC,OAA4B;IAC/B,IAAMC,eAAe,GAAGD,OAAO,CAACE,kBAAkB,EAAE;IACpD,IAAID,eAAe,CAACE,MAAM,KAAK,CAAC,IAAI,IAAI,CAACC,MAAM,CAACD,MAAM,KAAK,CAAC,EAAE;MAC1D,OAAO,IAAI;;IAGf,IAAME,KAAK,GAAGjB,OAAA,CAAAkB,KAAK,CAACC,SAAS,CAAC,IAAI,CAACH,MAAM,EAAEH,eAAe,CAAC;IAE3D,OAAOI,KAAK,CAACF,MAAM,GAAG,CAAC;EAC3B,CAAC;EAEDZ,kBAAA,CAAAO,SAAA,CAAAU,WAAW,GAAX;IACI,OAAO,IAAI,CAACb,QAAQ;EACxB,CAAC;EAEDJ,kBAAA,CAAAO,SAAA,CAAAW,kBAAkB,GAAlB,UAAmBL,MAAqB;IACpC,IAAI,CAACA,MAAM,GAAGA,MAAM;EACxB,CAAC;EAEDb,kBAAA,CAAAO,SAAA,CAAAY,mBAAmB,GAAnB,UAAoBC,aAAqB;IACrC,IAAI,CAACA,aAAa,GAAGA,aAAa;EACtC,CAAC;EAEDpB,kBAAA,CAAAO,SAAA,CAAAc,mBAAmB,GAAnB;IACI,OAAO,IAAI,CAACD,aAAa;EAC7B,CAAC;EAEDpB,kBAAA,CAAAO,SAAA,CAAAe,QAAQ,GAAR,UAASb,OAA4B;IACjC,IAAI,IAAI,CAACD,MAAM,CAACC,OAAO,CAAC,EAAE;MACtB,IAAMc,eAAe,GAAG,IAAI,CAACN,WAAW,EAAE,CACrCO,MAAM,CAAC,UAAAC,GAAG;QAAI,OAAAA,GAAG,CAACjB,MAAM,CAACC,OAAO,CAAC;MAAnB,CAAmB,CAAC;MAEvC,IAAMiB,gBAAgB,GAAG,CAACH,eAAe,CACpCI,GAAG,CAAC,UAAAF,GAAG;QAAI,OAAAA,GAAG,CAACH,QAAQ,CAACb,OAAO,CAAC;MAArB,CAAqB,CAAC,CACjCmB,IAAI,CAAC,UAAAC,GAAG;QAAI,OAAAA,GAAG,KAAK,KAAK;MAAb,CAAa,CAAC;MAE/BpB,OAAO,CAACqB,mBAAmB,CAACJ,gBAAgB,CAAC;;IAGjD,OAAO,IAAI;EACf,CAAC;EAEL,OAAA1B,kBAAC;AAAD,CAAC,CApDuCD,YAAA,CAAAgC,UAAU;AAArCC,OAAA,CAAAhC,kBAAA,GAAAA,kBAAA","ignoreList":[]},"metadata":{},"sourceType":"script"}