{"ast":null,"code":"import React from'react';import{LPointerTargetable,Select}from'../../../../joiner';import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FieldDataComponent(props){var view=props.view;var readOnly=props.readonly;var dview=view.__raw;var changeFN=function changeFN(evt){var value=evt.target.value;view.forceNodeType=value;// SetFieldAction.new(dview.id, 'forceNodeType', value, '', false);\n};var appliableTo=dview.appliableTo;var preferredDisplay=dview.forceNodeType;switch(appliableTo){case undefined:case'Any':break;case'GraphVertex':if(preferredDisplay!=='Graph'||preferredDisplay!=='Vertex')preferredDisplay=appliableTo;break;default:preferredDisplay=appliableTo;break;}var graphElementOptions=/*#__PURE__*/_jsxs(\"optgroup\",{label:\"Type of GraphElement\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Any\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Graph\"}),/*#__PURE__*/_jsx(\"option\",{children:\"GraphVertex\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Vertex\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Edge\"}),/*#__PURE__*/_jsx(\"option\",{children:\"EdgePoint\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Field\"})]});return/*#__PURE__*/_jsxs(\"section\",{className:'p-3',children:[/*#__PURE__*/_jsx(Select,{data:view,field:'appliableTo',label:\"Appliable to\",options:graphElementOptions,getter:function getter(){return dview.appliableTo||'Any';},setter:function setter(data,field,v){return view.appliableTo=v;}}),false&&(/* already in overview but done better. */!dview.appliableTo||dview.appliableTo==='Any')&&/*#__PURE__*/_jsxs(\"div\",{className:'d-flex p-1',children:[/*#__PURE__*/_jsx(\"label\",{className:'my-auto',children:\"Preferred display (in <DefaultNode />)\"}),/*#__PURE__*/_jsx(\"select\",{className:'my-auto ms-auto select',disabled:readOnly,value:dview.forceNodeType,onChange:changeFN,children:graphElementOptions})]})]});}function mapStateToProps(state,ownProps){var ret={};ret.view=LPointerTargetable.fromPointer(ownProps.viewID);return ret;}function mapDispatchToProps(dispatch){var ret={};return ret;}export var FieldData=connect(mapStateToProps,mapDispatchToProps)(FieldDataComponent);export default FieldData;","map":{"version":3,"names":["React","LPointerTargetable","Select","connect","jsx","_jsx","jsxs","_jsxs","FieldDataComponent","props","view","readOnly","readonly","dview","__raw","changeFN","evt","value","target","forceNodeType","appliableTo","preferredDisplay","undefined","graphElementOptions","label","children","className","data","field","options","getter","setter","v","disabled","onChange","mapStateToProps","state","ownProps","ret","fromPointer","viewID","mapDispatchToProps","dispatch","FieldData"],"sources":["C:/d/Programming/web/jodel-mde/src/components/rightbar/viewsEditor/data/FieldData.tsx"],"sourcesContent":["import React, {Dispatch} from 'react';\r\nimport {\r\n    DState, DV,\r\n    DViewElement,\r\n    GenericInput,\r\n    GObject,\r\n    Info,\r\n    LPointerTargetable,\r\n    LViewElement,\r\n    Pointer,\r\n    Select, SetFieldAction\r\n} from '../../../../joiner';\r\nimport {FakeStateProps} from \"../../../../joiner/types\";\r\nimport {connect} from \"react-redux\";\r\n\r\nfunction FieldDataComponent(props: AllProps) {\r\n    const view = props.view;\r\n    const readOnly = props.readonly;\r\n    let dview = view.__raw;\r\n    const changeFN = (evt: React.ChangeEvent<HTMLSelectElement>) => {\r\n        const value = evt.target.value;\r\n        view.forceNodeType = value;\r\n        // SetFieldAction.new(dview.id, 'forceNodeType', value, '', false);\r\n    }\r\n\r\n    const appliableTo = dview.appliableTo;\r\n    let preferredDisplay: string = dview.forceNodeType as string;\r\n    switch (appliableTo){\r\n        case undefined: case 'Any': break;\r\n        case 'GraphVertex': if (preferredDisplay !== 'Graph' || (preferredDisplay as any) !== 'Vertex') preferredDisplay = appliableTo; break;\r\n        default: preferredDisplay = appliableTo; break;\r\n    }\r\n    let graphElementOptions = <optgroup label={\"Type of GraphElement\"}>\r\n        <option>Any</option>\r\n        <option>Graph</option>\r\n        <option>GraphVertex</option>\r\n        <option>Vertex</option>\r\n        <option>Edge</option>\r\n        <option>EdgePoint</option>\r\n        <option>Field</option>\r\n    </optgroup>\r\n    return(<section className={'p-3'}>\r\n        {/*<h5>Common Options</h5>*/}\r\n        <Select data={view} field={'appliableTo'} label={\"Appliable to\"}\r\n                options={graphElementOptions}\r\n                getter={() => dview.appliableTo || 'Any'}\r\n                setter={(data: DViewElement, field: string, v: string)=>view.appliableTo = v as any} />\r\n\r\n        {false && /* already in overview but done better. */(!dview.appliableTo || dview.appliableTo === 'Any') && <div className={'d-flex p-1'}>\r\n            <label className={'my-auto'}>Preferred display (in &lt;DefaultNode /&gt;)</label>\r\n            <select className={'my-auto ms-auto select'} disabled={readOnly}\r\n                    value={dview.forceNodeType} onChange={changeFN}>{graphElementOptions}\r\n            </select>\r\n        </div>}\r\n\r\n    </section>);\r\n}\r\n\r\ninterface OwnProps {\r\n    viewID: Pointer<DViewElement>;\r\n    readonly : boolean;\r\n}\r\n\r\ninterface StateProps {\r\n    view: LViewElement;\r\n}\r\n\r\ninterface DispatchProps {}\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    ret.view = LPointerTargetable.fromPointer(ownProps.viewID);\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\nexport const FieldData = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(FieldDataComponent);\r\n\r\nexport default FieldData;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAkB,OAAO,CACrC,OAMIC,kBAAkB,CAGlBC,MAAM,KACH,oBAAoB,CAE3B,OAAQC,OAAO,KAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpC,QAAS,CAAAC,kBAAkBA,CAACC,KAAe,CAAE,CACzC,GAAM,CAAAC,IAAI,CAAGD,KAAK,CAACC,IAAI,CACvB,GAAM,CAAAC,QAAQ,CAAGF,KAAK,CAACG,QAAQ,CAC/B,GAAI,CAAAC,KAAK,CAAGH,IAAI,CAACI,KAAK,CACtB,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,GAAyC,CAAK,CAC5D,GAAM,CAAAC,KAAK,CAAGD,GAAG,CAACE,MAAM,CAACD,KAAK,CAC9BP,IAAI,CAACS,aAAa,CAAGF,KAAK,CAC1B;AACJ,CAAC,CAED,GAAM,CAAAG,WAAW,CAAGP,KAAK,CAACO,WAAW,CACrC,GAAI,CAAAC,gBAAwB,CAAGR,KAAK,CAACM,aAAuB,CAC5D,OAAQC,WAAW,EACf,IAAK,CAAAE,SAAS,CAAE,IAAK,KAAK,CAAE,MAC5B,IAAK,aAAa,CAAE,GAAID,gBAAgB,GAAK,OAAO,EAAKA,gBAAgB,GAAa,QAAQ,CAAEA,gBAAgB,CAAGD,WAAW,CAAE,MAChI,QAASC,gBAAgB,CAAGD,WAAW,CAAE,MAC7C,CACA,GAAI,CAAAG,mBAAmB,cAAGhB,KAAA,aAAUiB,KAAK,CAAE,sBAAuB,CAAAC,QAAA,eAC9DpB,IAAA,WAAAoB,QAAA,CAAQ,KAAG,CAAQ,CAAC,cACpBpB,IAAA,WAAAoB,QAAA,CAAQ,OAAK,CAAQ,CAAC,cACtBpB,IAAA,WAAAoB,QAAA,CAAQ,aAAW,CAAQ,CAAC,cAC5BpB,IAAA,WAAAoB,QAAA,CAAQ,QAAM,CAAQ,CAAC,cACvBpB,IAAA,WAAAoB,QAAA,CAAQ,MAAI,CAAQ,CAAC,cACrBpB,IAAA,WAAAoB,QAAA,CAAQ,WAAS,CAAQ,CAAC,cAC1BpB,IAAA,WAAAoB,QAAA,CAAQ,OAAK,CAAQ,CAAC,EAChB,CAAC,CACX,mBAAOlB,KAAA,YAASmB,SAAS,CAAE,KAAM,CAAAD,QAAA,eAE7BpB,IAAA,CAACH,MAAM,EAACyB,IAAI,CAAEjB,IAAK,CAACkB,KAAK,CAAE,aAAc,CAACJ,KAAK,CAAE,cAAe,CACxDK,OAAO,CAAEN,mBAAoB,CAC7BO,MAAM,CAAE,SAAAA,OAAA,QAAM,CAAAjB,KAAK,CAACO,WAAW,EAAI,KAAK,EAAC,CACzCW,MAAM,CAAE,SAAAA,OAACJ,IAAkB,CAAEC,KAAa,CAAEI,CAAS,QAAG,CAAAtB,IAAI,CAACU,WAAW,CAAGY,CAAQ,EAAC,CAAE,CAAC,CAE9F,KAAK,GAAI,0CAA2C,CAACnB,KAAK,CAACO,WAAW,EAAIP,KAAK,CAACO,WAAW,GAAK,KAAK,CAAC,eAAIb,KAAA,QAAKmB,SAAS,CAAE,YAAa,CAAAD,QAAA,eACpIpB,IAAA,UAAOqB,SAAS,CAAE,SAAU,CAAAD,QAAA,CAAC,wCAA4C,CAAO,CAAC,cACjFpB,IAAA,WAAQqB,SAAS,CAAE,wBAAyB,CAACO,QAAQ,CAAEtB,QAAS,CACxDM,KAAK,CAAEJ,KAAK,CAACM,aAAc,CAACe,QAAQ,CAAEnB,QAAS,CAAAU,QAAA,CAAEF,mBAAmB,CACpE,CAAC,EACR,CAAC,EAED,CAAC,CACd,CAcA,QAAS,CAAAY,eAAeA,CAACC,KAAa,CAAEC,QAAkB,CAAc,CACpE,GAAM,CAAAC,GAAe,CAAG,CAAC,CAAmB,CAC5CA,GAAG,CAAC5B,IAAI,CAAGT,kBAAkB,CAACsC,WAAW,CAACF,QAAQ,CAACG,MAAM,CAAC,CAC1D,MAAO,CAAAF,GAAG,CACd,CAEA,QAAS,CAAAG,kBAAkBA,CAACC,QAAuB,CAAiB,CAChE,GAAM,CAAAJ,GAAkB,CAAG,CAAC,CAAC,CAC7B,MAAO,CAAAA,GAAG,CACd,CAEA,MAAO,IAAM,CAAAK,SAAS,CAAGxC,OAAO,CAC5BgC,eAAe,CACfM,kBACJ,CAAC,CAACjC,kBAAkB,CAAC,CAErB,cAAe,CAAAmC,SAAS"},"metadata":{},"sourceType":"module"}