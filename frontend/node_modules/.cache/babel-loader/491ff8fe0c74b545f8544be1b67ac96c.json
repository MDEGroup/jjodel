{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _createClass from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _classCallCheck from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import{OclEngine}from\"@stekoe/ocl.js\";import{RuntimeAccessibleClass}from\"../joiner\";var windoww=window;export var Company=function Company(){var name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'cname';var employee=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var manager=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;_classCallCheck(this,Company);this.name=name;this.employee=employee;this.manager=manager;Company.all.push(this);};Company.all=[];export var Persona=function Persona(){var name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'pname';var age=arguments.length>1&&arguments[1]!==undefined?arguments[1]:18;var isUnemployed=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;_classCallCheck(this,Persona);this.name=name;this.age=age;this.isUnemployed=isUnemployed;Persona.all.push(this);};Persona.all=[];export var OCL=/*#__PURE__*/function(){function OCL(){_classCallCheck(this,OCL);}_createClass(OCL,null,[{key:\"evaluate\",value:function evaluate(obj0,constructor,oclexp){var typeused=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var oclEngine=arguments.length>4?arguments[4]:undefined;windoww.OclEngine=OclEngine;if(!oclEngine){oclEngine=OclEngine.create();var oclResult=null;// let objexp = //\"context Object inv: self.age > 0\" +\nif(!oclexp)oclexp=\"context Persona inv: self.age>0\";var typeregister={};typeregister[constructor.cname||constructor.name]=constructor;var _iterator=_createForOfIteratorHelper(typeused),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var type=_step.value;typeregister[type.cname||type.name]=type;}}catch(err){_iterator.e(err);}finally{_iterator.f();}oclEngine.registerTypes(typeregister);oclEngine.addOclExpression(oclexp);}var obj=obj0;if(!obj){obj=new Persona();obj.age=-55;obj.name={notEmpty:function notEmpty(){console.log('innerfunc');return true;}};obj.f=function(a){console.error('called a',a);return a>0;};obj.name0='';//obj.$$typeof = Persona;\nobj.__asArray=true;}// as you set classname in runtimeaccessible you must set this typeName\n// obj.typeName = constructor.name || constructor;\n// obj = getPath;\n// obj.constructor = Persona;\noclResult=oclEngine.evaluate(obj);return oclResult;}},{key:\"test\",value:function test(me,view,node){if(!me||!view)return false;var condition=view.oclCondition;if(!condition)return true;try{var types=RuntimeAccessibleClass.getAllClasses();return!!OCL.filter(true,'src',[me],condition,types)[0];}catch(e){return false;}}},{key:\"filter\",value:function filter(keepIndex,returnType,obj0,oclexp){var typeused=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];windoww.OclEngine=OclEngine;var oclEngine=OclEngine.create();var oclResult=null;var typeregister={};var _iterator2=_createForOfIteratorHelper(typeused),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var type=_step2.value;typeregister[type.cname||type.name]=type;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}oclEngine.registerTypes(typeregister);if(!oclexp)oclexp=\"context Persona inv: self.age>0\";oclEngine.addOclExpression(oclexp);var obj=obj0;var ret=[];for(var i=0;i<obj.length;i++){var res=void 0;try{res=oclEngine.evaluate(obj[i]);}catch(e){console.error('failed to evalute object:',{e:e});res=null;}if(returnType==='ocl'){ret[i]=res;continue;}var bool=res&&res.getEvaluatedContexts().length>0&&res.getResult();if(returnType==='bool')ret[i]=bool;else ret[i]=bool?obj[i]:null;}if(!keepIndex){ret=ret.filter(function(r){return!!r;});}return ret;}}]);return OCL;}();windoww.OCL=OCL;var oclEngine=OclEngine.create();/*\r\n\r\nlet p = new Persona();\r\np.age = 0;\r\nlet p2 = new Persona();\r\np2.age = 1;\r\nlet p3 = new Persona();\r\np3.age = -5;\r\nlet pp = [p, p2, p3];\r\nOCL.filter(true, 'ocl', pp, undefined, \"context Persona inv: self.age>0\")\r\n\r\n\r\n///\r\n\r\nOCL.filter(true, 'src', Selectors.getAll(DClass, undefined, undefined, true), \"context DClass inv: self.abstract\")\r\n/// works\r\nlet pp = Selectors.getAll(DClass, undefined, undefined, true);\r\nOCL.filter(true, 'src', Selectors.getAll(DClass, undefined, undefined, true), \"context DClass inv: self.name = \\\"class_2\\\"\")\r\n\r\n* */oclEngine.addOclExpression(\"\\n    -- No one should work that long...\\n    context Company inv:\\n        self.employee->forAll(p : Person | p.age <= 65 )\\n\\n    -- If a company has a manager, \\n    -- the company has at least one employee.\\n    context Company\\n        inv: self.manager.isUnemployed = false\\n        inv: self.employee->notEmpty()\\n\");var company=new Company();company.employee.push(new Persona());var oclResult=oclEngine.evaluate(company);windoww.Person=Persona;windoww.Company=Company;windoww.oclEngine=oclEngine;console.log('tests:','\\n'+'oclEngine.addOclExpression(`\\n'+'    -- No one should work that long...\\n'+'    context Company inv:\\n'+'        self.employee->forAll(p : Person | p.age <= 65 )\\n'+'\\n'+'    -- If a company has a manager, \\n'+'    -- the company has at least one employee.\\n'+'    context Company\\n'+'        inv: self.manager.isUnemployed = false\\n'+'        inv: self.employee->notEmpty()\\n'+'`);\\n'+'\\n'+'const customTypes = {\\n'+'  \"Person\": Person, \"Company\": Company \\n'+'}\\n'+'\\n'+'oclEngine.registerTypes(customTypes);'+'let company = new Company();\\n'+'let employee = new Person();\\n'+'let parent = new Person();\\n'+'let child = new Person();\\n'+'child.parents = [parent];\\n'+'parent.parents = [parent];\\n'+'employee.age = 70;\\n'+'company.employee.push(employee);\\n'+'\\n'+'console.log(\\'evaluate company\\', oclEngine.evaluate(company));\\n'+'\\n'+'\\n'+'// parentchild test\\n'+'let oclEnginep = OclEngine.create();\\n'+'oclEnginep.addOclExpression(`\\n'+'    context Person\\n'+'        inv: self.parents->forAll(p | p <> self)\\n'+'`)\\n'+'console.log(\\'evaluate parent\\', oclEnginep.evaluate(parent));\\n'+'console.log(\\'evaluate child\\', oclEnginep.evaluate(child));\\n');","map":{"version":3,"names":["OclEngine","RuntimeAccessibleClass","windoww","window","Company","name","arguments","length","undefined","employee","manager","_classCallCheck","all","push","Persona","age","isUnemployed","OCL","_createClass","key","value","evaluate","obj0","constructor","oclexp","typeused","oclEngine","create","oclResult","typeregister","cname","_iterator","_createForOfIteratorHelper","_step","s","n","done","type","err","e","f","registerTypes","addOclExpression","obj","notEmpty","console","log","a","error","name0","__asArray","test","me","view","node","condition","oclCondition","types","getAllClasses","filter","keepIndex","returnType","_iterator2","_step2","ret","i","res","bool","getEvaluatedContexts","getResult","r","company","Person"],"sources":["C:/d/Programming/web/jodel-mde/src/ocl/ocl.tsx"],"sourcesContent":["import {OclEngine} from \"@stekoe/ocl.js\"\r\nimport {\r\n    Constructor, DGraphElement,\r\n    DModelElement, DViewElement,\r\n    GObject, LGraphElement,\r\n    LModelElement,\r\n    LViewElement,\r\n    RuntimeAccessible,\r\n    RuntimeAccessibleClass, ViewEClassMatch\r\n} from \"../joiner\";\r\nimport {OclResult} from \"@stekoe/ocl.js/dist/components/OclResult\";\r\n\r\nlet windoww = window as any;\r\n\r\nexport class Company {\r\n    static all: Company[] = [];\r\n    constructor(public name: string ='cname', public employee: Persona[]=[], public manager: Persona|null = null) { Company.all.push(this); }\r\n}\r\nexport class Persona {\r\n    static all: Persona[] = [];\r\n    constructor(public name: string='pname', public age: number=18, public isUnemployed: boolean=true){ Persona.all.push(this) }\r\n}\r\n\r\nexport class OCL{\r\n    public static evaluate<T extends GObject>(obj0: T, constructor: Constructor<T>, oclexp: string, typeused: Constructor[]=[], oclEngine?: OclEngine): OclResult {\r\n        windoww.OclEngine = OclEngine;\r\n        if (!oclEngine) {\r\n            oclEngine = OclEngine.create();\r\n            var oclResult = null;\r\n            // let objexp = //\"context Object inv: self.age > 0\" +\r\n            if (!oclexp) oclexp = \"context Persona inv: self.age>0\";\r\n\r\n\r\n            const typeregister: GObject = {};\r\n            typeregister[(constructor as any as typeof RuntimeAccessibleClass).cname || constructor.name] = constructor;\r\n            for (let type of typeused) { typeregister[(type as any as typeof RuntimeAccessibleClass).cname || type.name] = type; }\r\n            oclEngine.registerTypes(typeregister);\r\n            oclEngine.addOclExpression(oclexp);\r\n        }\r\n\r\n        let obj: GObject = obj0;\r\n        if (!obj) {\r\n            obj = new Persona();\r\n            obj.age = -55;\r\n            obj.name = {notEmpty: () => { console.log('innerfunc'); return true} };\r\n            obj.f = (a:any) => { console.error('called a', a); return a>0};\r\n            obj.name0= '';\r\n//obj.$$typeof = Persona;\r\n\r\n            obj.__asArray = true;\r\n        }\r\n        // as you set classname in runtimeaccessible you must set this typeName\r\n        // obj.typeName = constructor.name || constructor;\r\n// obj = getPath;\r\n// obj.constructor = Persona;\r\n        oclResult = oclEngine.evaluate(obj);\r\n        return oclResult;\r\n    }\r\n\r\n    public static test(me: DModelElement | LModelElement | undefined, view: LViewElement | DViewElement | undefined, node?: LGraphElement | DGraphElement): boolean | (typeof ViewEClassMatch)[\"MISMATCH_OCL\"] {\r\n        if (!me || !view) return false;\r\n        const condition = view.oclCondition;\r\n        if (!condition) return true;\r\n        try {\r\n            const types = RuntimeAccessibleClass.getAllClasses();\r\n            return !!OCL.filter(true, 'src', [me], condition, types as any)[0];\r\n        } catch (e) {\r\n            return false\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public static filter<T extends GObject>(keepIndex: boolean, returnType: 'ocl' | 'bool' | 'src', obj0: T[], oclexp: string, typeused: Constructor[]=[]) {\r\n        windoww.OclEngine = OclEngine;\r\n        var oclEngine = OclEngine.create();\r\n        var oclResult = null;\r\n        const typeregister: GObject = {};\r\n        for (let type of typeused) { typeregister[(type as any as typeof RuntimeAccessibleClass).cname || type.name] = type; }\r\n        oclEngine.registerTypes(typeregister);\r\n        if (!oclexp) oclexp = \"context Persona inv: self.age>0\";\r\n        oclEngine.addOclExpression(oclexp);\r\n\r\n        let obj: GObject[] = obj0;\r\n        let ret: ((OclResult | boolean) | (GObject | null))[] = [];\r\n\r\n        for (let i = 0; i < obj.length; i++) {\r\n            let res: OclResult | null;\r\n            try { res = oclEngine.evaluate(obj[i]); }\r\n            catch(e) { console.error('failed to evalute object:', {e}); res = null; }\r\n            if (returnType === 'ocl') {\r\n                ret[i] = res;\r\n                continue; }\r\n            let bool = res && res.getEvaluatedContexts().length > 0 && res.getResult();\r\n            if (returnType === 'bool') ret[i] = bool;\r\n            else ret[i] = bool ? obj[i] : null;\r\n        }\r\n\r\n        if (!keepIndex) {\r\n            ret = (ret).filter((r:any) => !!r) as any;\r\n        }\r\n\r\n        return ret;\r\n    }\r\n}\r\nwindoww.OCL = OCL;\r\nconst oclEngine = OclEngine.create();\r\n\r\n\r\n/*\r\n\r\nlet p = new Persona();\r\np.age = 0;\r\nlet p2 = new Persona();\r\np2.age = 1;\r\nlet p3 = new Persona();\r\np3.age = -5;\r\nlet pp = [p, p2, p3];\r\nOCL.filter(true, 'ocl', pp, undefined, \"context Persona inv: self.age>0\")\r\n\r\n\r\n///\r\n\r\nOCL.filter(true, 'src', Selectors.getAll(DClass, undefined, undefined, true), \"context DClass inv: self.abstract\")\r\n/// works\r\nlet pp = Selectors.getAll(DClass, undefined, undefined, true);\r\nOCL.filter(true, 'src', Selectors.getAll(DClass, undefined, undefined, true), \"context DClass inv: self.name = \\\"class_2\\\"\")\r\n\r\n* */\r\n\r\noclEngine.addOclExpression(`\r\n    -- No one should work that long...\r\n    context Company inv:\r\n        self.employee->forAll(p : Person | p.age <= 65 )\r\n\r\n    -- If a company has a manager, \r\n    -- the company has at least one employee.\r\n    context Company\r\n        inv: self.manager.isUnemployed = false\r\n        inv: self.employee->notEmpty()\r\n`);\r\n\r\nlet company = new Company();\r\ncompany.employee.push(new Persona());\r\n\r\nconst oclResult = oclEngine.evaluate(company);\r\n\r\n\r\n\r\nwindoww.Person = Persona;\r\nwindoww.Company = Company;\r\nwindoww.oclEngine = oclEngine;\r\n\r\nconsole.log('tests:', '\\n' +\r\n    'oclEngine.addOclExpression(`\\n' +\r\n    '    -- No one should work that long...\\n' +\r\n    '    context Company inv:\\n' +\r\n    '        self.employee->forAll(p : Person | p.age <= 65 )\\n' +\r\n    '\\n' +\r\n    '    -- If a company has a manager, \\n' +\r\n    '    -- the company has at least one employee.\\n' +\r\n    '    context Company\\n' +\r\n    '        inv: self.manager.isUnemployed = false\\n' +\r\n    '        inv: self.employee->notEmpty()\\n' +\r\n    '`);\\n' +\r\n    '\\n' +\r\n    'const customTypes = {\\n' +\r\n    '  \"Person\": Person, \"Company\": Company \\n' +\r\n    '}\\n' +\r\n    '\\n' +\r\n    'oclEngine.registerTypes(customTypes);' +\r\n    'let company = new Company();\\n' +\r\n    'let employee = new Person();\\n' +\r\n    'let parent = new Person();\\n' +\r\n    'let child = new Person();\\n' +\r\n    'child.parents = [parent];\\n' +\r\n    'parent.parents = [parent];\\n' +\r\n    'employee.age = 70;\\n' +\r\n    'company.employee.push(employee);\\n' +\r\n    '\\n' +\r\n    'console.log(\\'evaluate company\\', oclEngine.evaluate(company));\\n' +\r\n    '\\n' +\r\n    '\\n' +\r\n    '// parentchild test\\n' +\r\n    'let oclEnginep = OclEngine.create();\\n' +\r\n    'oclEnginep.addOclExpression(`\\n' +\r\n    '    context Person\\n' +\r\n    '        inv: self.parents->forAll(p | p <> self)\\n' +\r\n    '`)\\n' +\r\n    'console.log(\\'evaluate parent\\', oclEnginep.evaluate(parent));\\n' +\r\n    'console.log(\\'evaluate child\\', oclEnginep.evaluate(child));\\n');\r\n"],"mappings":"qdAAA,OAAQA,SAAS,KAAO,gBAAgB,CACxC,OAOIC,sBAAsB,KACnB,WAAW,CAGlB,GAAI,CAAAC,OAAO,CAAGC,MAAa,CAE3B,UAAa,CAAAC,OAAO,CAEhB,SAAAA,QAAA,CAA8G,IAA3F,CAAAC,IAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAE,OAAO,IAAS,CAAAG,QAAmB,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAC,EAAE,IAAS,CAAAI,OAAqB,CAAAJ,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CAAAK,eAAA,MAAAP,OAAA,OAAzFC,IAAY,CAAZA,IAAY,MAAkBI,QAAmB,CAAnBA,QAAmB,MAAYC,OAAqB,CAArBA,OAAqB,CAAWN,OAAO,CAACQ,GAAG,CAACC,IAAI,CAAC,IAAI,CAAC,CAAE,CAAC,CAFhIT,OAAO,CACTQ,GAAG,CAAc,EAAE,CAG9B,UAAa,CAAAE,OAAO,CAEhB,SAAAA,QAAA,CAAkG,IAA/E,CAAAT,IAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAC,OAAO,IAAS,CAAAS,GAAW,CAAAT,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAC,EAAE,IAAS,CAAAU,YAAqB,CAAAV,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAC,IAAI,CAAAK,eAAA,MAAAG,OAAA,OAA9ET,IAAY,CAAZA,IAAY,MAAiBU,GAAW,CAAXA,GAAW,MAAYC,YAAqB,CAArBA,YAAqB,CAAQF,OAAO,CAACF,GAAG,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAFnHC,OAAO,CACTF,GAAG,CAAc,EAAE,CAI9B,UAAa,CAAAK,GAAG,kCAAAA,IAAA,EAAAN,eAAA,MAAAM,GAAA,GAAAC,YAAA,CAAAD,GAAA,QAAAE,GAAA,YAAAC,KAAA,CACZ,SAAAC,SAA0CC,IAAO,CAAEC,WAA2B,CAAEC,MAAc,CAAgE,IAA9D,CAAAC,QAAuB,CAAAnB,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAC,EAAE,IAAE,CAAAoB,SAAqB,CAAApB,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC7IN,OAAO,CAACF,SAAS,CAAGA,SAAS,CAC7B,GAAI,CAAC0B,SAAS,CAAE,CACZA,SAAS,CAAG1B,SAAS,CAAC2B,MAAM,CAAC,CAAC,CAC9B,GAAI,CAAAC,SAAS,CAAG,IAAI,CACpB;AACA,GAAI,CAACJ,MAAM,CAAEA,MAAM,CAAG,iCAAiC,CAGvD,GAAM,CAAAK,YAAqB,CAAG,CAAC,CAAC,CAChCA,YAAY,CAAEN,WAAW,CAA0CO,KAAK,EAAIP,WAAW,CAAClB,IAAI,CAAC,CAAGkB,WAAW,CAAC,IAAAQ,SAAA,CAAAC,0BAAA,CAC3FP,QAAQ,EAAAQ,KAAA,KAAzB,IAAAF,SAAA,CAAAG,CAAA,KAAAD,KAAA,CAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,EAA2B,IAAlB,CAAAC,IAAI,CAAAJ,KAAA,CAAAb,KAAA,CAAgBS,YAAY,CAAEQ,IAAI,CAA0CP,KAAK,EAAIO,IAAI,CAAChC,IAAI,CAAC,CAAGgC,IAAI,CAAE,CAAC,OAAAC,GAAA,EAAAP,SAAA,CAAAQ,CAAA,CAAAD,GAAA,WAAAP,SAAA,CAAAS,CAAA,IACtHd,SAAS,CAACe,aAAa,CAACZ,YAAY,CAAC,CACrCH,SAAS,CAACgB,gBAAgB,CAAClB,MAAM,CAAC,CACtC,CAEA,GAAI,CAAAmB,GAAY,CAAGrB,IAAI,CACvB,GAAI,CAACqB,GAAG,CAAE,CACNA,GAAG,CAAG,GAAI,CAAA7B,OAAO,CAAC,CAAC,CACnB6B,GAAG,CAAC5B,GAAG,CAAG,CAAC,EAAE,CACb4B,GAAG,CAACtC,IAAI,CAAG,CAACuC,QAAQ,CAAE,SAAAA,SAAA,CAAM,CAAEC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC,CAAE,MAAO,KAAI,EAAE,CAAC,CACtEH,GAAG,CAACH,CAAC,CAAG,SAACO,CAAK,CAAK,CAAEF,OAAO,CAACG,KAAK,CAAC,UAAU,CAAED,CAAC,CAAC,CAAE,MAAO,CAAAA,CAAC,CAAC,CAAC,EAAC,CAC9DJ,GAAG,CAACM,KAAK,CAAE,EAAE,CACzB;AAEYN,GAAG,CAACO,SAAS,CAAG,IAAI,CACxB,CACA;AACA;AACR;AACA;AACQtB,SAAS,CAAGF,SAAS,CAACL,QAAQ,CAACsB,GAAG,CAAC,CACnC,MAAO,CAAAf,SAAS,CACpB,CAAC,GAAAT,GAAA,QAAAC,KAAA,CAED,SAAA+B,KAAmBC,EAA6C,CAAEC,IAA6C,CAAEC,IAAoC,CAAsD,CACvM,GAAI,CAACF,EAAE,EAAI,CAACC,IAAI,CAAE,MAAO,MAAK,CAC9B,GAAM,CAAAE,SAAS,CAAGF,IAAI,CAACG,YAAY,CACnC,GAAI,CAACD,SAAS,CAAE,MAAO,KAAI,CAC3B,GAAI,CACA,GAAM,CAAAE,KAAK,CAAGxD,sBAAsB,CAACyD,aAAa,CAAC,CAAC,CACpD,MAAO,CAAC,CAACzC,GAAG,CAAC0C,MAAM,CAAC,IAAI,CAAE,KAAK,CAAE,CAACP,EAAE,CAAC,CAAEG,SAAS,CAAEE,KAAY,CAAC,CAAC,CAAC,CAAC,CACtE,CAAE,MAAOlB,CAAC,CAAE,CACR,MAAO,MAAK,CAChB,CAEJ,CAAC,GAAApB,GAAA,UAAAC,KAAA,CAGD,SAAAuC,OAAwCC,SAAkB,CAAEC,UAAkC,CAAEvC,IAAS,CAAEE,MAAc,CAA8B,IAA5B,CAAAC,QAAuB,CAAAnB,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAC,EAAE,CACjJJ,OAAO,CAACF,SAAS,CAAGA,SAAS,CAC7B,GAAI,CAAA0B,SAAS,CAAG1B,SAAS,CAAC2B,MAAM,CAAC,CAAC,CAClC,GAAI,CAAAC,SAAS,CAAG,IAAI,CACpB,GAAM,CAAAC,YAAqB,CAAG,CAAC,CAAC,CAAC,IAAAiC,UAAA,CAAA9B,0BAAA,CAChBP,QAAQ,EAAAsC,MAAA,KAAzB,IAAAD,UAAA,CAAA5B,CAAA,KAAA6B,MAAA,CAAAD,UAAA,CAAA3B,CAAA,IAAAC,IAAA,EAA2B,IAAlB,CAAAC,IAAI,CAAA0B,MAAA,CAAA3C,KAAA,CAAgBS,YAAY,CAAEQ,IAAI,CAA0CP,KAAK,EAAIO,IAAI,CAAChC,IAAI,CAAC,CAAGgC,IAAI,CAAE,CAAC,OAAAC,GAAA,EAAAwB,UAAA,CAAAvB,CAAA,CAAAD,GAAA,WAAAwB,UAAA,CAAAtB,CAAA,IACtHd,SAAS,CAACe,aAAa,CAACZ,YAAY,CAAC,CACrC,GAAI,CAACL,MAAM,CAAEA,MAAM,CAAG,iCAAiC,CACvDE,SAAS,CAACgB,gBAAgB,CAAClB,MAAM,CAAC,CAElC,GAAI,CAAAmB,GAAc,CAAGrB,IAAI,CACzB,GAAI,CAAA0C,GAAiD,CAAG,EAAE,CAE1D,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGtB,GAAG,CAACpC,MAAM,CAAE0D,CAAC,EAAE,CAAE,CACjC,GAAI,CAAAC,GAAqB,QACzB,GAAI,CAAEA,GAAG,CAAGxC,SAAS,CAACL,QAAQ,CAACsB,GAAG,CAACsB,CAAC,CAAC,CAAC,CAAE,CACxC,MAAM1B,CAAC,CAAE,CAAEM,OAAO,CAACG,KAAK,CAAC,2BAA2B,CAAE,CAACT,CAAC,CAADA,CAAC,CAAC,CAAC,CAAE2B,GAAG,CAAG,IAAI,CAAE,CACxE,GAAIL,UAAU,GAAK,KAAK,CAAE,CACtBG,GAAG,CAACC,CAAC,CAAC,CAAGC,GAAG,CACZ,SAAU,CACd,GAAI,CAAAC,IAAI,CAAGD,GAAG,EAAIA,GAAG,CAACE,oBAAoB,CAAC,CAAC,CAAC7D,MAAM,CAAG,CAAC,EAAI2D,GAAG,CAACG,SAAS,CAAC,CAAC,CAC1E,GAAIR,UAAU,GAAK,MAAM,CAAEG,GAAG,CAACC,CAAC,CAAC,CAAGE,IAAI,CAAC,IACpC,CAAAH,GAAG,CAACC,CAAC,CAAC,CAAGE,IAAI,CAAGxB,GAAG,CAACsB,CAAC,CAAC,CAAG,IAAI,CACtC,CAEA,GAAI,CAACL,SAAS,CAAE,CACZI,GAAG,CAAIA,GAAG,CAAEL,MAAM,CAAC,SAACW,CAAK,QAAK,CAAC,CAACA,CAAC,GAAQ,CAC7C,CAEA,MAAO,CAAAN,GAAG,CACd,CAAC,WAAA/C,GAAA,KAELf,OAAO,CAACe,GAAG,CAAGA,GAAG,CACjB,GAAM,CAAAS,SAAS,CAAG1B,SAAS,CAAC2B,MAAM,CAAC,CAAC,CAGpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAEAD,SAAS,CAACgB,gBAAgB,oUAUzB,CAAC,CAEF,GAAI,CAAA6B,OAAO,CAAG,GAAI,CAAAnE,OAAO,CAAC,CAAC,CAC3BmE,OAAO,CAAC9D,QAAQ,CAACI,IAAI,CAAC,GAAI,CAAAC,OAAO,CAAC,CAAC,CAAC,CAEpC,GAAM,CAAAc,SAAS,CAAGF,SAAS,CAACL,QAAQ,CAACkD,OAAO,CAAC,CAI7CrE,OAAO,CAACsE,MAAM,CAAG1D,OAAO,CACxBZ,OAAO,CAACE,OAAO,CAAGA,OAAO,CACzBF,OAAO,CAACwB,SAAS,CAAGA,SAAS,CAE7BmB,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAE,IAAI,CACtB,gCAAgC,CAChC,0CAA0C,CAC1C,4BAA4B,CAC5B,4DAA4D,CAC5D,IAAI,CACJ,uCAAuC,CACvC,iDAAiD,CACjD,uBAAuB,CACvB,kDAAkD,CAClD,0CAA0C,CAC1C,OAAO,CACP,IAAI,CACJ,yBAAyB,CACzB,2CAA2C,CAC3C,KAAK,CACL,IAAI,CACJ,uCAAuC,CACvC,gCAAgC,CAChC,gCAAgC,CAChC,8BAA8B,CAC9B,6BAA6B,CAC7B,6BAA6B,CAC7B,8BAA8B,CAC9B,sBAAsB,CACtB,oCAAoC,CACpC,IAAI,CACJ,mEAAmE,CACnE,IAAI,CACJ,IAAI,CACJ,uBAAuB,CACvB,wCAAwC,CACxC,iCAAiC,CACjC,sBAAsB,CACtB,oDAAoD,CACpD,MAAM,CACN,kEAAkE,CAClE,gEAAgE,CAAC"},"metadata":{},"sourceType":"module"}