{"ast":null,"code":"import _objectSpread from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _createForOfIteratorHelper from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import React from\"react\";import{DAttribute,DClass,DEnumerator,DReference,LPointerTargetable,LStructuralFeature,LValue,Select,Selectors,SetFieldAction,U}from\"../../../../joiner\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ValueComponent(props){var _lValue$instanceof,_lValue$instanceof2;var lValue=props.value;var dValue=lValue.__raw;var feature=LStructuralFeature.fromPointer((_lValue$instanceof=lValue.instanceof)===null||_lValue$instanceof===void 0?void 0:_lValue$instanceof.id);var field='text';var stepSize=1;var maxLength=524288;var min=-9223372036854775808;var max=9223372036854775807;// for long, todo: aggiusta per tutti gli altri. in switch\nswitch(feature===null||feature===void 0?void 0:feature.type.name){default:field=\"text\";break;case'EChar':maxLength=1;break;case'EInt':case'ELong':case'EShort':case'Byte':field='number';break;case'EFloat':field='number';stepSize=0.1;break;case'EDouble':field='number';stepSize=0.01;break;case'EBoolean':field='checkbox';break;case'EDate':field='date';break;}var upperBound=feature?feature.__raw.upperBound:-1;if(upperBound<0)upperBound=999;var filteredvalues=lValue.getValues(true,false,false,false,true,true);var add=function add(event){// SetFieldAction.new(dValue, 'value', U.initializeValue(feature?.type), '+=', false);\nSetFieldAction.new(dValue,'values',U.initializeValue(feature===null||feature===void 0?void 0:feature.type),'+=',false);};var remove=function remove(index,isPointer){var _filteredvalues$index;if(isPointer===undefined)isPointer=!!((_filteredvalues$index=filteredvalues[index].value)===null||_filteredvalues$index===void 0?void 0:_filteredvalues$index.__isProxy);// Pointers.isPointer\nSetFieldAction.new(dValue,'values',index,'-=',isPointer);/*\r\n        let oldValues = filteredvalues.map( v => v.rawValue);\r\n        let newValues = [...oldValues];\r\n        newValues.splice(index, 1); // removes in place\r\n        console.log(\"removing:\", {oldValues, newValues, index});\r\n        SetFieldAction.new(dValue, 'value', newValues, '=', false);*/};function changeDValue(event,index,isPointer){var inputvalue=field==='checkbox'?event.target.checked:event.target.value;if(inputvalue===\"undefined\")inputvalue=undefined;var result=lValue.setValueAtPosition(index,inputvalue,{isPtr:isPointer});console.log(\"setting DValue\",{inputvalue:inputvalue,result:result,lValue:lValue});}var featureType=feature===null||feature===void 0?void 0:feature.type;var isattr=false,isenum=false,isref=false,isshapeless=false;switch(feature===null||feature===void 0?void 0:feature.className){default:isshapeless=true;break;case DAttribute.cname:if(featureType.className===DClass.cname)isattr=true;else if(featureType.className===DEnumerator.cname)isenum=true;break;case DReference.cname:isref=true;break;}// let pointables: {objects:LObject[], literals: LEnumLiteral[]};\nvar select_options;if(isref){var isContainment=lValue.containment;// todo: move this utility in LClass.instances\nvar containerObjectsID=lValue.fatherList.map(function(lm){return lm.id;});var validObjects=Selectors.getObjects().filter(function(obj){return featureType.isSuperClassOf(obj.instanceof,true);});validObjects=validObjects.filter(function(obj){return!containerObjectsID.includes(obj.id);});// avoiding containment loops damiano todo: put this filter in set_value too\nvar freeObjects=[];var boundObjects=[];var _iterator=_createForOfIteratorHelper(validObjects),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var o=_step.value;// todo: this check of self contain is too simple does not detect loops, would need to use fatherChain\nif(isContainment&&o.id===lValue.father.id)continue;// no self contain\nif(o.isRoot)freeObjects.push(o);else boundObjects.push(o);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var map=function map(object){return/*#__PURE__*/_jsx(\"option\",{value:object.id,children:object.name/*.feature('name')*/},object.id);};select_options=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"optgroup\",{label:\"Free     Objects\",children:freeObjects.map(map)}),/*#__PURE__*/_jsx(\"optgroup\",{label:\"Bound Objects\",children:boundObjects.map(map)})]});}else if(isenum){select_options=/*#__PURE__*/_jsx(\"optgroup\",{label:\"Literals of \"+featureType.name,children:featureType.literals.map(function(literal,i){return/*#__PURE__*/_jsx(\"option\",{value:literal.id,children:literal.name},literal.id);})});}else if(isshapeless){// damiano todo: rewrite entirely this section to separate bound and free objects, copying from if(isref)\n// pointables = {objects: Selectors.getObjects(), literals: LPointerTargetable.fromArr(Selectors.getAllEnumLiterals())};\nvar _isContainment=lValue.containment;var enums=LPointerTargetable.fromArr(Selectors.getAllEnumerators());var classes=LPointerTargetable.fromArr(Selectors.getAllClasses());var shapelessObjects=Selectors.getObjects().filter(function(o){return!o.instanceof;});// console.log(\"select_options\", {enums, classes, shapelessObjects});\nvar classmap={};var shapeless={free:[],bound:[],all:shapelessObjects};var _iterator2=_createForOfIteratorHelper(classes),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value;var row={free:[],bound:[],all:c.instances};classmap[c.name]=row;var _iterator4=_createForOfIteratorHelper(row.all),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _o=_step4.value;// todo: this check of self contain is too simple does not detect loops, would need to use fatherChain\nif(_isContainment&&_o.id===lValue.father.id)continue;// no self contain\nif(_o.isRoot)row.free.push(_o);else row.bound.push(_o);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var _iterator3=_createForOfIteratorHelper(shapelessObjects),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _o2=_step3.value;if(_o2.isRoot)shapeless.free.push(_o2);else shapeless.bound.push(_o2);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}select_options=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:'',children:\"--- Not a Reference ---\"},0),Object.keys(classmap).map(function(cname){return!classmap[cname].all.length?null:/*#__PURE__*/_jsxs(_Fragment,{children:[!classmap[cname].free.length?null:/*#__PURE__*/_jsx(\"optgroup\",{label:\"Free    instances of \"+cname,children:classmap[cname].free.map(function(o){return/*#__PURE__*/_jsx(\"option\",{value:o.id,children:o.name},o.id);})},\"f-\"+cname),!classmap[cname].bound.length?null:/*#__PURE__*/_jsx(\"optgroup\",{label:\"Bound instances of \"+cname,children:classmap[cname].bound.map(function(o){return/*#__PURE__*/_jsx(\"option\",{value:o.id,children:o.name},o.id);})},\"b-\"+cname)]});}),!shapeless.free.length?null:/*#__PURE__*/_jsx(\"optgroup\",{label:\"Free    shapeless objects\",children:shapeless.free.map(function(o){return/*#__PURE__*/_jsx(\"option\",{value:o.id,children:o.name},o.id);})}),!shapeless.bound.length?null:/*#__PURE__*/_jsx(\"optgroup\",{label:\"Bound shapeless objects\",children:shapeless.bound.map(function(o){return/*#__PURE__*/_jsx(\"option\",{value:o.id,children:o.name},o.id);})}),enums.map(function(c){return!c.literals.length?null:/*#__PURE__*/_jsx(\"optgroup\",{label:\"Literals of \"+c.name,children:c.literals.map(function(o){return/*#__PURE__*/_jsx(\"option\",{value:o.id,children:o.name},o.id);})});})]});// console.log(\"select_options post\", {select_options, enums, classes, shapelessObjects});\n}else select_options=null;// let rawvalues: any[] = lValue.__raw.value || [];\n// console.log(\"filtered values\", {filteredvalues});\nvar isPtr=isattr?false:isenum||isref?true:undefined/*for shapeless*/;var valueslist=filteredvalues.map(function(val,index){return val.hidden?null:/*#__PURE__*/_jsxs(\"div\",{className:'mt-1 d-flex ms-4',children:[/*#__PURE__*/_jsx(\"div\",{className:'border border-dark'}),isattr&&/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(evt){changeDValue(evt,index,false);},className:'input m-auto ms-1',value:val.value+'',checked:!!val.value,min:min,max:max,type:field,step:stepSize,maxLength:maxLength,placeholder:\"empty\"}),isenum&&/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(evt){changeDValue(evt,index,true);},className:'m-auto ms-1 select',value:val.rawValue+'',\"data-valuedebug\":val.rawValue,children:[/*#__PURE__*/_jsx(\"option\",{value:'undefined',children:\"-----\"},\"undefined\"),select_options]}),isref&&/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(evt){changeDValue(evt,index,true);},className:'m-auto ms-1 select',value:val.rawValue+'',\"data-valuedebug\":val.rawValue,children:[/*#__PURE__*/_jsx(\"option\",{value:'undefined',children:\"-----\"}),select_options]}),isshapeless&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(evt){changeDValue(evt,index,false);},className:'input m-auto ms-1',value:val.rawValue+'',list:\"objectdatalist\",type:\"text\",placeholder:\"empty\"},\"raw\"+index),/*#__PURE__*/_jsx(\"span\",{className:\"ms-1 my-auto\",children:\"\\u2192\"}),/*#__PURE__*/_jsx(\"select\",{onChange:function onChange(evt){changeDValue(evt,index,undefined);},className:'select m-auto ms-1',value:val.rawValue+'',children:select_options},index)]}),/*#__PURE__*/_jsx(\"button\",{className:'btn btn-danger m-auto ms-2',onClick:function onClick(evt){remove(index,isPtr);},children:/*#__PURE__*/_jsx(\"i\",{className:'p-1 bi bi-trash3-fill'})})]},index);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:'d-flex',children:[/*#__PURE__*/_jsx(\"label\",{className:'ms-1 my-auto',children:\"Values\"}),/*#__PURE__*/_jsx(\"button\",{className:'btn btn-primary ms-auto me-1',disabled:filteredvalues.length>=upperBound,onClick:add,children:/*#__PURE__*/_jsx(\"i\",{className:'p-1 bi bi-plus'})})]}),valueslist,((_lValue$instanceof2=lValue.instanceof)===null||_lValue$instanceof2===void 0?void 0:_lValue$instanceof2.className)==='DAttribute'&&lValue.instanceof.isIoT&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),/*#__PURE__*/_jsx(Select,{data:dValue,field:'topic',label:'Topic',options:/*#__PURE__*/_jsxs(\"optgroup\",{label:'Topics',children:[/*#__PURE__*/_jsx(\"option\",{value:'',children:\"------\"}),U.extractKeys(props.topics).map(function(t){return/*#__PURE__*/_jsx(\"option\",{value:t,children:t},t);})]})}),JSON.stringify(U.extractByKey(props.topics,lValue.topic))]})]});}function mapStateToProps(state,ownProps){var ret={};ret.value=LValue.fromPointer(ownProps.valueID);ret.topics=state.topics;return ret;}function mapDispatchToProps(dispatch){var ret={};return ret;}export var ValueConnected=connect(mapStateToProps,mapDispatchToProps)(ValueComponent);export var Value=function Value(props){var children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return/*#__PURE__*/_jsx(ValueConnected,_objectSpread({},_objectSpread(_objectSpread({},props),{},{children:children})));};export default Value;","map":{"version":3,"names":["React","DAttribute","DClass","DEnumerator","DReference","LPointerTargetable","LStructuralFeature","LValue","Select","Selectors","SetFieldAction","U","connect","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ValueComponent","props","_lValue$instanceof","_lValue$instanceof2","lValue","value","dValue","__raw","feature","fromPointer","instanceof","id","field","stepSize","maxLength","min","max","type","name","upperBound","filteredvalues","getValues","add","event","new","initializeValue","remove","index","isPointer","_filteredvalues$index","undefined","__isProxy","changeDValue","inputvalue","target","checked","result","setValueAtPosition","isPtr","console","log","featureType","isattr","isenum","isref","isshapeless","className","cname","select_options","isContainment","containment","containerObjectsID","fatherList","map","lm","validObjects","getObjects","filter","obj","isSuperClassOf","includes","freeObjects","boundObjects","_iterator","_createForOfIteratorHelper","_step","s","n","done","o","father","isRoot","push","err","e","f","object","children","label","literals","literal","i","enums","fromArr","getAllEnumerators","classes","getAllClasses","shapelessObjects","classmap","shapeless","free","bound","all","_iterator2","_step2","c","row","instances","_iterator4","_step4","_iterator3","_step3","Object","keys","length","valueslist","val","hidden","onChange","evt","step","placeholder","rawValue","list","onClick","disabled","isIoT","data","options","extractKeys","topics","t","JSON","stringify","extractByKey","topic","mapStateToProps","state","ownProps","ret","valueID","mapDispatchToProps","dispatch","ValueConnected","Value","arguments","_objectSpread"],"sources":["C:/d/Programming/web/jodel-mde/src/components/rightbar/structureEditor/editors/Value.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement} from \"react\";\r\nimport type {Dictionary, DocString, LClassifier, LReference, Pointer, ValueDetail} from \"../../../../joiner\";\r\nimport {\r\n    DAttribute,\r\n    DClass,\r\n    DEnumerator,\r\n    DReference,\r\n    DState, DValue,\r\n    LAttribute,\r\n    LClass,\r\n    LEnumerator,\r\n    LGraphElement,\r\n    LModelElement,\r\n    LObject,\r\n    LPointerTargetable,\r\n    LStructuralFeature, LValue,\r\n    LViewElement,\r\n    Select,\r\n    Selectors,\r\n    SetFieldAction,\r\n    U\r\n} from \"../../../../joiner\";\r\nimport {FakeStateProps} from \"../../../../joiner/types\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nfunction ValueComponent(props: AllProps) {\r\n    const lValue = props.value;\r\n    const dValue = lValue.__raw;\r\n    const feature: LStructuralFeature = LStructuralFeature.fromPointer(lValue.instanceof?.id);\r\n    let field = 'text'; let stepSize = 1; let maxLength = 524288;\r\n    let min = -9223372036854775808;\r\n    let max = 9223372036854775807; // for long, todo: aggiusta per tutti gli altri. in switch\r\n    switch (feature?.type.name) {\r\n        default: field=\"text\"; break;\r\n        case 'EChar': maxLength = 1; break;\r\n        case 'EInt':\r\n        case 'ELong':\r\n        case 'EShort':\r\n        case 'Byte': field = 'number'; break;\r\n        case 'EFloat': field = 'number'; stepSize = 0.1; break;\r\n        case 'EDouble': field = 'number'; stepSize = 0.01; break;\r\n        case 'EBoolean': field = 'checkbox'; break;\r\n        case 'EDate': field = 'date'; break;\r\n    }\r\n    let upperBound = feature ? (feature as LReference | LAttribute).__raw.upperBound : -1;\r\n    if (upperBound < 0) upperBound = 999;\r\n    let filteredvalues: ValueDetail[] = lValue.getValues(true, false, false, false, true, true) as any;\r\n\r\n    const add = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        // SetFieldAction.new(dValue, 'value', U.initializeValue(feature?.type), '+=', false);\r\n        SetFieldAction.new(dValue, 'values', U.initializeValue(feature?.type), '+=', false);\r\n    }\r\n    const remove = (index: number, isPointer: boolean | undefined) => {\r\n        if (isPointer === undefined) isPointer = !!(filteredvalues[index].value as any)?.__isProxy; // Pointers.isPointer\r\n        SetFieldAction.new(dValue, 'values', index, '-=', isPointer);\r\n        /*\r\n        let oldValues = filteredvalues.map( v => v.rawValue);\r\n        let newValues = [...oldValues];\r\n        newValues.splice(index, 1); // removes in place\r\n        console.log(\"removing:\", {oldValues, newValues, index});\r\n        SetFieldAction.new(dValue, 'value', newValues, '=', false);*/\r\n    }\r\n    function changeDValue(event: React.ChangeEvent<HTMLInputElement|HTMLSelectElement>, index: number, isPointer: boolean | undefined) {\r\n        let inputvalue: string | boolean = field === 'checkbox' ? (event.target as HTMLInputElement).checked : event.target.value;\r\n        if (inputvalue === \"undefined\") inputvalue = undefined as any;\r\n        let result = lValue.setValueAtPosition(index, inputvalue, {isPtr: isPointer});\r\n        console.log(\"setting DValue\", {inputvalue, result, lValue});\r\n    }\r\n\r\n\r\n    let featureType: LClassifier = feature?.type;\r\n    let isattr = false, isenum = false, isref = false, isshapeless = false;\r\n    switch(feature?.className){\r\n        default: isshapeless = true; break;\r\n        case DAttribute.cname:\r\n            if (featureType.className === DClass.cname) isattr = true; else\r\n            if (featureType.className === DEnumerator.cname) isenum = true;\r\n            break;\r\n        case DReference.cname: isref = true; break;\r\n    }\r\n\r\n    // let pointables: {objects:LObject[], literals: LEnumLiteral[]};\r\n    let select_options: JSX.Element | JSX.Element[] | null;\r\n\r\n\r\n    if (isref) {\r\n        let isContainment: boolean = lValue.containment;\r\n        // todo: move this utility in LClass.instances\r\n        let containerObjectsID: Pointer[] = lValue.fatherList.map( lm => lm.id);\r\n        let validObjects = Selectors.getObjects().filter((obj) => (featureType as LClass).isSuperClassOf(obj.instanceof, true));\r\n        validObjects =  validObjects.filter( obj => !containerObjectsID.includes(obj.id)); // avoiding containment loops damiano todo: put this filter in set_value too\r\n        let freeObjects = [];\r\n        let boundObjects = [];\r\n        for (let o of validObjects) {\r\n            // todo: this check of self contain is too simple does not detect loops, would need to use fatherChain\r\n            if (isContainment && o.id === lValue.father.id) continue; // no self contain\r\n            if (o.isRoot) freeObjects.push(o); else boundObjects.push(o);\r\n        }\r\n        let map = (object: LObject) => <option key={object.id} value={object.id}>{object.name/*.feature('name')*/}</option>;\r\n        select_options = <><optgroup label={\"Free     Objects\"}>{freeObjects.map(map)}</optgroup><optgroup label={\"Bound Objects\"}>{boundObjects.map(map)}</optgroup></>; }\r\n    else if (isenum) {\r\n        select_options = <optgroup label={\"Literals of \" + featureType.name}>{(featureType as LEnumerator).literals.map((literal, i) => <option key={literal.id} value={literal.id}>{literal.name}</option>)}</optgroup>;\r\n    }\r\n    else if (isshapeless) {\r\n        // damiano todo: rewrite entirely this section to separate bound and free objects, copying from if(isref)\r\n        // pointables = {objects: Selectors.getObjects(), literals: LPointerTargetable.fromArr(Selectors.getAllEnumLiterals())};\r\n        let isContainment: boolean = lValue.containment;\r\n        let enums: LEnumerator[] = LPointerTargetable.fromArr(Selectors.getAllEnumerators())\r\n        let classes: LClass[] = LPointerTargetable.fromArr(Selectors.getAllClasses())\r\n        let shapelessObjects: LObject[] = Selectors.getObjects().filter((o) => !o.instanceof);\r\n        // console.log(\"select_options\", {enums, classes, shapelessObjects});\r\n        let classmap: Dictionary<DocString<\"classname\">, {free:LObject[], bound:LObject[], all: LObject[]}> = {};\r\n        let shapeless: {free:LObject[], bound:LObject[], all: LObject[]} = {free:[], bound:[], all: shapelessObjects};\r\n        for (let c of classes) {\r\n            let row: {free:LObject[], bound:LObject[], all: LObject[]} = {free: [], bound:[], all: c.instances};\r\n            classmap[c.name] = row;\r\n            for (let o of row.all) {\r\n                // todo: this check of self contain is too simple does not detect loops, would need to use fatherChain\r\n                if (isContainment && o.id === lValue.father.id) continue; // no self contain\r\n                if (o.isRoot) row.free.push(o); else row.bound.push(o);\r\n            }\r\n        }\r\n        for (let o of shapelessObjects) { if (o.isRoot) shapeless.free.push(o); else shapeless.bound.push(o); }\r\n\r\n        select_options = <>\r\n            <option value={''} key={0}>--- Not a Reference ---</option>\r\n            { Object.keys(classmap).map((cname) => !classmap[cname].all.length ? null :\r\n                <>\r\n                    {!classmap[cname].free.length ? null :\r\n                        <optgroup label={\"Free    instances of \" + cname} key={\"f-\" + cname}>\r\n                            {classmap[cname].free.map((o) => <option value={o.id} key={o.id}>{o.name}</option>)}\r\n                        </optgroup>\r\n                    }\r\n                    {!classmap[cname].bound.length ? null :\r\n                        <optgroup label={\"Bound instances of \" + cname} key={\"b-\" + cname}>\r\n                            {classmap[cname].bound.map((o) => <option value={o.id} key={o.id}>{o.name}</option>)}\r\n                        </optgroup>\r\n                    }\r\n                </>) }\r\n            { !shapeless.free.length ? null : <optgroup label={\"Free    shapeless objects\"}>{shapeless.free.map( (o) => <option value={o.id} key={o.id}>{o.name}</option>)}</optgroup> }\r\n            { !shapeless.bound.length ? null : <optgroup label={\"Bound shapeless objects\"}>{shapeless.bound.map( (o) => <option value={o.id} key={o.id}>{o.name}</option>)}</optgroup> }\r\n            { enums.map((c) => !c.literals.length ? null : <optgroup label={\"Literals of \" + c.name}>{ c.literals.map((o)=> <option value={o.id} key={o.id}>{o.name}</option>)}</optgroup>) }\r\n        </>\r\n        // console.log(\"select_options post\", {select_options, enums, classes, shapelessObjects});\r\n    }\r\n    else select_options = null;\r\n\r\n    // let rawvalues: any[] = lValue.__raw.value || [];\r\n    // console.log(\"filtered values\", {filteredvalues});\r\n    let isPtr = isattr ? false : (isenum || isref ? true : undefined/*for shapeless*/);\r\n    const valueslist = (filteredvalues).map( (val, index) =>\r\n            val.hidden ? null :\r\n            <div className={'mt-1 d-flex ms-4'} key={index}>\r\n                <div className={'border border-dark'}></div>\r\n                { isattr && <input onChange={(evt) => { changeDValue(evt, index, false) }} className={'input m-auto ms-1'} value={val.value + ''}\r\n                                   checked={!!val.value} min={min} max={max} type={field} step={stepSize} maxLength={maxLength} placeholder={\"empty\"}/> }\r\n                { isenum && <select onChange={(evt) => {changeDValue(evt, index, true)}} className={'m-auto ms-1 select'} value={val.rawValue+''} data-valuedebug={val.rawValue}>\r\n                    {<option key=\"undefined\" value={'undefined'}>-----</option>}\r\n                    { select_options }\r\n                </select>}\r\n                {isref && <select onChange={(evt) => {changeDValue(evt, index, true)}} className={'m-auto ms-1 select'} value={val.rawValue+''} data-valuedebug={val.rawValue}>\r\n                    <option value={'undefined'}>-----</option>\r\n                    {select_options}\r\n                </select>}\r\n                { isshapeless && <>\r\n                    { <input key={\"raw\"+index} onChange={(evt) => {changeDValue(evt, index, false)}} className={'input m-auto ms-1'} value={val.rawValue+''} list={\"objectdatalist\"} type={\"text\"} placeholder={\"empty\"}/> }\r\n                    <span className={\"ms-1 my-auto\"}>→</span>\r\n                    { <select key={index} onChange={(evt) => {changeDValue(evt, index, undefined)}} className={'select m-auto ms-1'} value={val.rawValue+''}>{select_options}</select> }\r\n                    { /*(val as LObject)?.id && <span>points to {val}</span> */}\r\n                </>\r\n                }\r\n                <button className={'btn btn-danger m-auto ms-2'} onClick={(evt) => {remove(index, isPtr)}}>\r\n                    <i className={'p-1 bi bi-trash3-fill'}></i>\r\n                </button>\r\n        </div>);\r\n\r\n    return(<div>\r\n        <div className={'d-flex'}>\r\n            <label className={'ms-1 my-auto'}>Values</label>\r\n            <button className={'btn btn-primary ms-auto me-1'} disabled={filteredvalues.length >= upperBound} onClick={add}>\r\n                <i className={'p-1 bi bi-plus'}></i>\r\n            </button>\r\n        </div>\r\n        {valueslist}\r\n        {lValue.instanceof?.className === 'DAttribute' && (lValue.instanceof as LAttribute).isIoT && <>\r\n            <hr className={\"my-3\"} />\r\n            <Select data={dValue} field={'topic'} label={'Topic'} options={<optgroup label={'Topics'}>\r\n                <option value={''}>------</option>\r\n                {U.extractKeys(props.topics).map(t => <option key={t} value={t}>{t}</option>)}\r\n            </optgroup>} />\r\n            {JSON.stringify(U.extractByKey(props.topics, lValue.topic))}\r\n        </>}\r\n    </div>)\r\n}\r\n\r\ninterface OwnProps {valueID: Pointer<DValue>}\r\ninterface StateProps {value: LValue, topics: DState['topics']}\r\ninterface DispatchProps {}\r\n\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    ret.value = LValue.fromPointer(ownProps.valueID);\r\n    ret.topics = state.topics;\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {} as any;\r\n    return ret;\r\n}\r\n\r\n\r\nexport const ValueConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(ValueComponent);\r\n\r\nexport const Value = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <ValueConnected {...{...props, children}} />;\r\n}\r\nexport default Value;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}