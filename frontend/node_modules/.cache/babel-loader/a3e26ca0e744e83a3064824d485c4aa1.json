{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\editors\\\\NodeEditor.tsx\",\n  _this = this;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { L, Input, GenericInput, SetRootFieldAction } from '../../joiner';\nimport './editors.scss';\nimport './node-editor.scss';\nimport { Empty } from \"./Empty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction NodeEditorComponent(props) {\n  var _node$father, _node$father2;\n  const selected = props.selected;\n  const editable = true;\n  if (!(selected === null || selected === void 0 ? void 0 : selected.node)) return /*#__PURE__*/_jsxDEV(Empty, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 33\n  }, this);\n  const node = selected.node;\n  const dnode = node.__raw || node;\n  let cname = dnode.className;\n  let isGraph = ['DGraph', 'DGraphVertex'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DGraph');\n  let isVertex = ['DVoidVertex', 'DVertex', 'DEdgePoint'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidVertex');\n  let isEdge = ['DVoidEdge', 'DEdge'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidEdge');\n  let isField = !isGraph && !isVertex && !isEdge;\n  console.log('Style editor', {\n    cname,\n    isVertex,\n    isGraph,\n    isEdge,\n    selected\n  });\n  let asGraph = isGraph && node;\n  let asVertex = isVertex && node;\n  let asEdge = isEdge && node;\n  let asField = isField && node;\n  function openNode(id) {\n    SetRootFieldAction.new('_lastSelected.node', id, '', false);\n  }\n  function getNodeLabel(node) {\n    var _node$model;\n    if (!node) return 'error';\n    let model = (_node$model = node.model) === null || _node$model === void 0 ? void 0 : _node$model.__raw;\n    if (!model) return node.className;\n    return node.className + ' - ' + (model.name || model.className);\n  }\n  function getEdgeLabel(edge) {\n    var _edge$start, _edge$start$model, _edge$end, _edge$end$model;\n    let s = edge === null || edge === void 0 ? void 0 : (_edge$start = edge.start) === null || _edge$start === void 0 ? void 0 : (_edge$start$model = _edge$start.model) === null || _edge$start$model === void 0 ? void 0 : _edge$start$model.__raw;\n    let e = edge === null || edge === void 0 ? void 0 : (_edge$end = edge.end) === null || _edge$end === void 0 ? void 0 : (_edge$end$model = _edge$end.model) === null || _edge$end$model === void 0 ? void 0 : _edge$end$model.__raw;\n    return [s ? s.name || s.className : /*#__PURE__*/_jsxDEV(\"i\", {\n      style: {\n        color: 'orange'\n      },\n      children: \"empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 42\n    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n      className: 'bi bi-arrow-right ms-1 me-1'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), e ? e.name || e.className : /*#__PURE__*/_jsxDEV(\"i\", {\n      style: {\n        color: 'orange'\n      },\n      children: \"empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 42\n    }, this)];\n  }\n  const clickableStyle = {\n    cursor: 'pointer',\n    color: 'gray'\n  };\n  const headerStyle = {\n    marginBottom: 0,\n    marginTop: '0.5em'\n  };\n  const edgeStart = asEdge && asEdge.start;\n  const edgeEnd = asEdge && asEdge.end;\n  const notFoundStyle = {\n    color: 'orange',\n    cursor: 'not-allowed'\n  };\n  const subElements = node.subElements;\n  let edgesIn = !isEdge && node.edgesIn || [];\n  let edgesOut = !isEdge && node.edgesOut || [];\n  let stackingOrder = /*#__PURE__*/_jsxDEV(Input, {\n    data: node,\n    field: 'zIndex',\n    label: 'Stacking order',\n    type: 'number',\n    readonly: !editable\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'p-3',\n    children: [asGraph && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Graph\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asGraph,\n        field: 'zoom'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asGraph,\n        field: 'offset'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), asVertex && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Vertex\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 24\n      }, this), stackingOrder, /*#__PURE__*/_jsxDEV(Input, {\n        data: asVertex,\n        field: 'x',\n        label: 'X Position',\n        type: 'number',\n        readonly: !editable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        data: asVertex,\n        field: 'y',\n        label: 'Y Position',\n        type: 'number',\n        readonly: !editable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        data: asVertex,\n        field: 'width',\n        label: 'Width',\n        type: 'number',\n        readonly: !editable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        data: asVertex,\n        field: 'height',\n        label: 'Height',\n        type: 'number',\n        readonly: !editable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), asEdge && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Edge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 22\n      }, this), stackingOrder, /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: 'longestLabel',\n        placeholder: '(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' + '\\n\\t// a complex example. The label can be either a function like this or a simple string.' + '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' + '\\n}'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: 'labels',\n        placeholder: '(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' + '\\n\\t// a complex example. The label can be either a function like this or a simple string.' + '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' + '\\n}'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: \"anchorStart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: \"anchorEnd\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), asField && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Field\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 23\n      }, this), stackingOrder]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1em',\n        marginBottom: '1em',\n        borderBottom: '1px solid gray'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: [\"Super element: \", ((_node$father = node.father) === null || _node$father === void 0 ? void 0 : _node$father.className) ? /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: e => dnode.father && openNode(dnode.father),\n          style: clickableStyle,\n          children: [(_node$father2 = node.father) === null || _node$father2 === void 0 ? void 0 : _node$father2.className, /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'ms-1 bi bi-arrow-up'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 47\n          }, this)]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"Not contained\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), asEdge && [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        style: headerStyle,\n        children: [\"Edge start:\", edgeStart ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: 'ms-2',\n          onClick: e => openNode(edgeStart.id),\n          style: clickableStyle,\n          children: [getNodeLabel(edgeStart), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'ms-1 bi bi-arrow-right'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"Missing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        style: headerStyle,\n        children: [\"Edge End:\", edgeEnd ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: 'ms-2',\n          onClick: e => openNode(edgeEnd.id),\n          style: clickableStyle,\n          children: [getNodeLabel(edgeEnd), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'ms-1 bi bi-arrow-left'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"Missing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this)], /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        style: headerStyle,\n        children: [\"Sub elements\", subElements.length ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: 'ms-1 bi bi-arrow-down'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 47\n        }, this) : [': ', /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"None\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 97\n        }, this)]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 14\n      }, this), subElements.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'w-100 ms-2',\n        onClick: e => openNode(n.id),\n        style: clickableStyle,\n        children: getNodeLabel(n)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 18\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this), !asEdge && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          style: headerStyle,\n          children: [\"Outgoing Edges\", edgesOut.length === 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\": \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: notFoundStyle,\n              children: \"None\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 86\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 18\n        }, this), edgesOut.length && edgesOut.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'w-100 ms-2',\n          onClick: e => openNode(n.id),\n          style: clickableStyle,\n          children: getEdgeLabel(n)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 22\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          style: headerStyle,\n          children: [\"Incoming Edges\", edgesIn.length === 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\": \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: notFoundStyle,\n              children: \"None\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 85\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 18\n        }, this), edgesIn.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'w-100 ms-2',\n          onClick: e => openNode(n.id),\n          style: clickableStyle,\n          children: getEdgeLabel(n)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 22\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"h6\", {\n      style: headerStyle,\n      children: [\"Node state:\", Object.keys(dnode._state).length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: notFoundStyle,\n        children: \" Empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 87\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: Object.keys(dnode._state).length ? JSON.stringify(dnode._state, null, '\\t') : undefined\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 12\n  }, this);\n}\n_c = NodeEditorComponent;\nfunction mapStateToProps(state, ownProps) {\n  let ret = {};\n  const selected = state._lastSelected;\n  if (selected) {\n    var _state$_lastSelected, _state$_lastSelected2, _state$_lastSelected3;\n    const modelElement = (_state$_lastSelected = state._lastSelected) === null || _state$_lastSelected === void 0 ? void 0 : _state$_lastSelected.modelElement;\n    const node = (_state$_lastSelected2 = state._lastSelected) === null || _state$_lastSelected2 === void 0 ? void 0 : _state$_lastSelected2.node;\n    const view = (_state$_lastSelected3 = state._lastSelected) === null || _state$_lastSelected3 === void 0 ? void 0 : _state$_lastSelected3.view;\n    if (node && view) {\n      ret.selected = {\n        node: L.fromPointer(node),\n        view: L.fromPointer(node),\n        modelElement: modelElement ? L.fromPointer(modelElement) : undefined\n      };\n    }\n  }\n  return ret;\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nexport const NodeEditorConnected = connect(mapStateToProps, mapDispatchToProps)(NodeEditorComponent);\nexport const NodeEditor = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(NodeEditorConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 12\n  }, _this);\n};\n_c2 = NodeEditor;\nexport default NodeEditor;\nvar _c, _c2;\n$RefreshReg$(_c, \"NodeEditorComponent\");\n$RefreshReg$(_c2, \"NodeEditor\");","map":{"version":3,"names":["React","connect","L","Input","GenericInput","SetRootFieldAction","Empty","jsxDEV","_jsxDEV","Fragment","_Fragment","NodeEditorComponent","props","_node$father","_node$father2","selected","editable","node","fileName","_jsxFileName","lineNumber","columnNumber","dnode","__raw","cname","className","isGraph","includes","isVertex","isEdge","isField","console","log","asGraph","asVertex","asEdge","asField","openNode","id","new","getNodeLabel","_node$model","model","name","getEdgeLabel","edge","_edge$start","_edge$start$model","_edge$end","_edge$end$model","s","start","e","end","style","color","children","clickableStyle","cursor","headerStyle","marginBottom","marginTop","edgeStart","edgeEnd","notFoundStyle","subElements","edgesIn","edgesOut","stackingOrder","data","field","label","type","readonly","placeholder","borderBottom","father","onClick","length","map","n","Object","keys","_state","JSON","stringify","undefined","_c","mapStateToProps","state","ownProps","ret","_lastSelected","_state$_lastSelected","_state$_lastSelected2","_state$_lastSelected3","modelElement","view","fromPointer","mapDispatchToProps","dispatch","NodeEditorConnected","NodeEditor","arguments","_this","_c2","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/components/editors/NodeEditor.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {DState} from '../../redux/store';\r\nimport type {\r\n    LModelElement,\r\n    LViewElement,\r\n    LGraphElement,\r\n    LVoidVertex,\r\n    LVoidEdge, LGraph,Pointer, DGraphElement,\r\n    DNamedElement, LNamedElement} from '../../joiner';\r\nimport {\r\n    LPointerTargetable,\r\n    L,\r\n    Input,\r\n    GenericInput,\r\n    TextArea,\r\n    RuntimeAccessibleClass,\r\n    SetRootFieldAction,\r\n} from '../../joiner';\r\nimport './editors.scss';\r\nimport './node-editor.scss';\r\nimport {Empty} from \"./Empty\";\r\n\r\nfunction NodeEditorComponent(props: AllProps) {\r\n    const selected = props.selected;\r\n    const editable = true;\r\n    if (!selected?.node) return <Empty />;\r\n    const node = selected.node;\r\n    const dnode = (node.__raw || node) as DGraphElement\r\n    let cname = dnode.className;\r\n    let isGraph = ['DGraph', 'DGraphVertex'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DGraph');\r\n    let isVertex = ['DVoidVertex', 'DVertex', 'DEdgePoint'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidVertex');\r\n    let isEdge = ['DVoidEdge', 'DEdge'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidEdge');\r\n    let isField = (!isGraph && !isVertex && !isEdge);\r\n    console.log('Style editor', {cname, isVertex, isGraph, isEdge, selected});\r\n    let asGraph: LGraph | undefined = isGraph && node as any;\r\n    let asVertex: LVoidVertex | undefined  = isVertex && node as any;\r\n    let asEdge: LVoidEdge | undefined = isEdge && node as any;\r\n    let asField: LVoidEdge | undefined = isField && node as any;\r\n    function openNode(id: Pointer<DGraphElement>) {\r\n        SetRootFieldAction.new('_lastSelected.node', id, '', false);\r\n    }\r\n\r\n    function getNodeLabel(node: LGraphElement){\r\n        if (!node) return 'error';\r\n        let model: DNamedElement | undefined = node.model?.__raw as any;\r\n        if (!model) return node.className;\r\n        return node.className + ' - ' +(model.name || model.className)\r\n    }\r\n    function getEdgeLabel(edge: LVoidEdge){\r\n        let s: DNamedElement | undefined = edge?.start?.model?.__raw as any;\r\n        let e: DNamedElement | undefined = edge?.end?.model?.__raw as any;\r\n        return [\r\n            (s ? s.name || s.className : <i style={{color: 'orange'}}>empty</i>),\r\n            <i className={'bi bi-arrow-right ms-1 me-1'} />,\r\n            (e ? e.name || e.className : <i style={{color: 'orange'}}>empty</i>)\r\n        ];\r\n\r\n    }\r\n    const clickableStyle = {cursor:'pointer', color: 'gray'};\r\n    const headerStyle = {marginBottom:0, marginTop: '0.5em'};\r\n    const edgeStart: LGraphElement | undefined = asEdge && asEdge.start;\r\n    const edgeEnd: LGraphElement | undefined = asEdge && asEdge.end;\r\n    const notFoundStyle = {color: 'orange', cursor:'not-allowed'};\r\n    const subElements = node.subElements;\r\n    let edgesIn = !isEdge && node.edgesIn || [];\r\n    let edgesOut = !isEdge && node.edgesOut || [];\r\n    let stackingOrder = <Input data={node} field={'zIndex'} label={'Stacking order'} type={'number'} readonly={!editable} />;\r\n    return(<div className={'p-3'}>\r\n        {/*<Input obj={selected.node} field={'id'} label={'ID'} type={'text'} readonly={true}/>*/}\r\n        {asGraph && <><h3>Graph</h3>\r\n            <GenericInput data={asGraph} field={'zoom'} />\r\n            <GenericInput data={asGraph} field={'offset'} />\r\n            {/*graphSize readonly on LGraph but not on DGraph, = internal graph size. put it for info.*/ }\r\n        </>}\r\n        {asVertex && <><h3>Vertex</h3>\r\n            {stackingOrder}\r\n            <Input data={asVertex} field={'x'} label={'X Position'} type={'number'} readonly={!editable} />\r\n            <Input data={asVertex} field={'y'} label={'Y Position'} type={'number'} readonly={!editable} />\r\n            <Input data={asVertex} field={'width'} label={'Width'} type={'number'} readonly={!editable} />\r\n            <Input data={asVertex} field={'height'} label={'Height'} type={'number'} readonly={!editable} />\r\n        </>}\r\n        {asEdge && <><h3>Edge</h3>\r\n            {stackingOrder}\r\n            <GenericInput data={asEdge} field={'longestLabel'}\r\n                          placeholder={'(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' +\r\n                              '\\n\\t// a complex example. The label can be either a function like this or a simple string.' +\r\n                              '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' +\r\n                              '\\n}'}/>\r\n            <GenericInput data={asEdge} field={'labels'}\r\n                          placeholder={'(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' +\r\n                            '\\n\\t// a complex example. The label can be either a function like this or a simple string.' +\r\n                            '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' +\r\n                            '\\n}'}/>\r\n            <GenericInput data={asEdge} field={\"anchorStart\"}/>\r\n            <GenericInput data={asEdge} field={\"anchorEnd\"}/>\r\n        </>}\r\n        {asField && <><h3>Field</h3>\r\n            {stackingOrder}\r\n        </>}\r\n\r\n        <div style={{marginTop:'1em', marginBottom:'1em', borderBottom:'1px solid gray'}}/>\r\n        <div><h6>Super element: {\r\n            node.father?.className ?\r\n                <span onClick={(e)=> dnode.father && openNode(dnode.father)} style={clickableStyle}>\r\n                    {[node.father?.className, <i className={'ms-1 bi bi-arrow-up'}/>]}\r\n                </span>\r\n                :\r\n                <span style={notFoundStyle}>Not contained</span>\r\n        }\r\n        </h6></div>\r\n\r\n        {asEdge && [\r\n            <div><h6 style={headerStyle}>Edge start:{\r\n                edgeStart ?\r\n                    <span className={'ms-2'} onClick={(e)=> openNode(edgeStart.id)} style={clickableStyle}>\r\n                        {getNodeLabel(edgeStart)}<i className={'ms-1 bi bi-arrow-right'}/>\r\n                    </span>\r\n                    : <span style={notFoundStyle}>Missing</span>\r\n            }</h6></div>,\r\n            <div><h6 style={headerStyle}>Edge End:{\r\n                edgeEnd ?\r\n                    <span className={'ms-2'} onClick={(e)=> openNode(edgeEnd.id)} style={clickableStyle}>\r\n                        {getNodeLabel(edgeEnd)}<i className={'ms-1 bi bi-arrow-left'}/>\r\n                    </span>\r\n                    : <span style={notFoundStyle}>Missing</span>\r\n            }</h6></div>\r\n        ]}\r\n        <div><h6 style={headerStyle}>\r\n            Sub elements{subElements.length ? <i className={'ms-1 bi bi-arrow-down'}/> : [': ', <span style={notFoundStyle}>None</span>]}\r\n        </h6>{subElements.map(\r\n            n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getNodeLabel(n)}</div>\r\n        )}</div>\r\n        {!asEdge && <>\r\n            <div><h6 style={headerStyle}>Outgoing Edges{edgesOut.length === 0 && <>: <span style={notFoundStyle}>None</span></>}</h6>{edgesOut.length && edgesOut.map(\r\n                n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>\r\n            )}</div>\r\n            <div><h6 style={headerStyle}>Incoming Edges{edgesIn.length === 0 && <>: <span style={notFoundStyle}>None</span></>}</h6>{edgesIn.map(\r\n                n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>\r\n            )}</div>\r\n        </>}\r\n\r\n\r\n        <h6 style={headerStyle}>Node state:{Object.keys(dnode._state).length === 0 && <span style={notFoundStyle}> Empty</span>}</h6>\r\n        <pre>{Object.keys(dnode._state).length ? JSON.stringify(dnode._state, null, '\\t') : undefined}</pre>\r\n\r\n    </div>);\r\n\r\n}\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    selected?: {\r\n        node: LGraphElement;\r\n        view: LViewElement;\r\n        modelElement?: LModelElement;\r\n    };\r\n}\r\ninterface DispatchProps {}\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    let ret: StateProps = {};\r\n    const selected = state._lastSelected;\r\n    if(selected) {\r\n        const modelElement = state._lastSelected?.modelElement;\r\n        const node = state._lastSelected?.node;\r\n        const view = state._lastSelected?.view;\r\n        if(node && view) {\r\n            ret.selected = {\r\n                node: L.fromPointer(node),\r\n                view: L.fromPointer(node),\r\n                modelElement: (modelElement) ? L.fromPointer(modelElement) : undefined\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\n\r\nexport const NodeEditorConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(NodeEditorComponent);\r\n\r\nexport const NodeEditor = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <NodeEditorConnected {...{...props, children}} />;\r\n}\r\nexport default NodeEditor;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}