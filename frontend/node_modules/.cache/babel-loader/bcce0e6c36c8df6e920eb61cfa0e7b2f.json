{"ast":null,"code":"var _jsxFileName = \"C:\\\\0Programmi\\\\Dev\\\\projects\\\\frontend\\\\jjodel\\\\src\\\\graph\\\\defaultNode\\\\DefaultNode.tsx\",\n  _dec,\n  _class,\n  _this = this;\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { DV, GraphElementComponent, GraphElementDispatchProps, GraphElementOwnProps, GraphElementReduxStateProps, GraphElementStatee, Log, RuntimeAccessibleClass, SetRootFieldAction, windoww, Field, Graph, GraphVertex, Vertex, VoidVertex, RuntimeAccessible, LPointerTargetable, transientProperties } from \"../../joiner\";\nimport { GraphElements } from \"../../joiner/components\";\n// import {Field, Graph, GraphVertex} from \"../vertex/Vertex\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst superclass = RuntimeAccessibleClass.classes.GraphElementComponent;\n\n// private\nclass DefaultNodeStatee extends GraphElementStatee {}\n\n// from ownstateprops function getVertexID(props: AllPropss): Pointer<DVoidVertex, 0, 1, LVoidVertex> { return props.vertex?.id; }\n\n// Giordano: add ignore for webpack\nexport let DefaultNodeComponent = (_dec = RuntimeAccessible('DefaultNodeComponent'), _dec(_class = class DefaultNodeComponent extends superclass {\n  static mapStateToProps(state, ownProps) {\n    let ret = {}; // NB: cannot use a constructor, must be pojo\n    // GraphElementComponent.mapLModelStuff(state, ownProps, ret); // not necessary either?\n    // GraphElementComponent.mapLGraphElementStuff(state, ownProps, ret, dGraphDataClass); not necessary, it's demanded to sub-components\n    /*        ret.data = LPointerTargetable.wrap(ownProps.data);\r\n            ret.node = undefined as any; // because DefaultNode is all about determining the correct node to create, so there is no node yet.\r\n            ret.nodeid = ownProps.nodeid as Pointer<DGraphElement>; // but nodeid exists, passed from the parent along graphid and parentview\r\n    */\n    // try{\n    ret.data = LPointerTargetable.wrap(ownProps.data);\n    ret.dataid = ownProps.data ? typeof ownProps.data === \"string\" ? ownProps.data : ownProps.data.id : undefined;\n    // if node does not exist yet it's fine, don't create it. let Vertex or Graph or Edge make it with appropriate constructor according fo first matching view on model.\n    // problem: what kind of node to make / initial view assign on shapeless objects? they have both data and node undefined at first render.\n    ret.node = LPointerTargetable.wrap(ownProps.nodeid);\n    if (ret.dataid) {\n      // set up transient model-> node map\n      if (!transientProperties.modelElement[ret.dataid]) transientProperties.modelElement[ret.dataid] = {\n        nodes: {}\n      };\n      transientProperties.modelElement[ret.dataid].nodes[ownProps.nodeid] = ret.node;\n      transientProperties.modelElement[ret.dataid].node = ret.node;\n    }\n    GraphElementComponent.mapViewStuff(state, ret, ownProps);\n\n    // GraphElementComponent.mapViewStuff(state, ret, ownProps);\n    ret.skiparenderforloading = false;\n    //} catch(e) {\n    //(ret as any).skiparenderforloading = true; // model id is updated, but he's still trying to load old model which got replaced and is not in state.\n    /* crashes on loading because old model and new model have different timestamps? looks by id of old model with same number and diffferent timestamp*/\n    // Log.eDev(!ret.data, \"can't find model data:\", {state, ret, ownpropsdata:ownProps.data, ownProps});\n    // Log.eDevv(\"cannot map state to props:\", {e, state, ret, ownpropsdata:ownProps.data, ownProps});\n    //}\n    return ret;\n  }\n  constructor(props, context) {\n    super(props, context);\n  }\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\n    // i want to avoid double check on this and Vertex or graph.\n    // actually should not use this and avoid double mapstatetoprops execution too\n    return true;\n  }\n  render() {\n    var _this$props$node;\n    if (this.props.skiparenderforloading) {\n      windoww.bugged = this;\n      console.log(\"realoading render: \", {\n        thiss: this,\n        data: this.props.data\n      });\n      SetRootFieldAction.new(\"rerenderforloading\", new Date().getTime());\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 88\n      }, this);\n    }\n    const view = this.props.view;\n    const modelElement = this.props.data;\n    if (!view) {\n      Log.exx(\"cannot find view in DefaultNode\", {\n        props: this.props,\n        thiss: this\n      });\n    }\n    // if (!view) { SetRootFieldAction.new(\"uselessrefresh_afterload\", new Date().getTime()); return <div>Loading...</div>; }\n\n    let componentMap = windoww.components;\n    let dmodelMap = RuntimeAccessibleClass.classes;\n    let serializableProps = {\n      ...this.props,\n      data: this.props.data,\n      view: this.props.view,\n      views: this.props.views\n    };\n    // let serializableProps = {...this.props, data: this.props.data?.id, view: this.props.view?.id, views: this.props.views?.map( v => v.id )};\n\n    // console.log('dnode render', {props: {...this.props}, serializableProps});\n    let componentfunction = null;\n    let forceNodeType = view.forceNodeType;\n    if (forceNodeType && forceNodeType !== \"Any\") {\n      componentfunction = GraphElements[forceNodeType];\n      Log.exDev(!componentfunction, 'unrecognized View.forceNodeType:' + view.forceNodeType, {\n        view,\n        modelElement,\n        nt: forceNodeType,\n        GraphElements\n      });\n      // console.log(\"force node type\", {requested:view.forceNodeType, G:  windoww.GraphComponent.name, GE: windoww.GraphElementComponent.name, GV: windoww.GraphVertexComponent.name, V: windoww.VertexComponent.name, F:windoww.FieldComponent.name})\n      return componentfunction(serializableProps, this.props.children);\n    }\n    if (modelElement === null || modelElement === void 0 ? void 0 : modelElement.className) switch (modelElement.className) {\n      case \"DModel\":\n        componentfunction = Graph;\n        break;\n      case \"DPackage\":\n        componentfunction = GraphVertex;\n        break;\n      case \"DClassifier\":\n      case \"DEnumerator\":\n      case \"DObject\":\n      case \"DClass\":\n        componentfunction = Vertex;\n        break;\n      case \"DAnnotation\":\n      case \"DAttribute\":\n      case \"DOperation\":\n      case \"DParameter\":\n      case \"DReference\":\n      case \"DEnumLiteral\":\n      case \"DValue\":\n      case \"DModelElement\":\n        componentfunction = Field;\n        break;\n      default:\n        Log.exDevv('invalid model class, add a case in the switch', {\n          modelElement,\n          view,\n          dmodelMap,\n          componentMap\n        });\n      // const dmodel: typeof DModelElement = dmodelMap[modelElement.className];\n      // Log.exDev(!dmodel || !dmodel.defaultComponent, 'invalid model class:', {dmodel, modelElement, view, dmodelMap, componentMap});\n      // return dmodel.defaultComponent(serializableProps, this.props.children);\n    } else componentfunction = VoidVertex; // model-less, VoidVertex\n\n    if (componentfunction) return componentfunction(serializableProps, this.props.children);\n    // errore: questoon passa gli id correttamente al sottoelemento vertex o field\n    return DV.errorView(\"DefaultNode is missing both view and model, please state node type explicitly: Graph, GraphVertex, Vertex or Field\", '', 'DefaultNode', modelElement === null || modelElement === void 0 ? void 0 : modelElement.__raw, (_this$props$node = this.props.node) === null || _this$props$node === void 0 ? void 0 : _this$props$node.__raw, view === null || view === void 0 ? void 0 : view.__raw);\n  }\n}) || _class);\n\n// private\nclass DefaultNodeOwnProps extends GraphElementOwnProps {}\nclass DefaultNodeReduxStateProps extends GraphElementReduxStateProps {}\nclass DefaultNodeDispatchProps extends GraphElementDispatchProps {}\nconst DefaultNodeConnected = connect(DefaultNodeComponent.mapStateToProps, DefaultNodeComponent.mapDispatchToProps)(DefaultNodeComponent);\n// export const Vertex = VertexConnected;\n\nexport const DefaultNode = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(DefaultNodeConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 12\n  }, _this);\n};\n_c = DefaultNode;\nDefaultNodeComponent.cname = \"DefaultNodeComponent\";\nDefaultNodeConnected.cname = \"DefaultNodeConnected\";\nDefaultNode.cname = \"DefaultNode\";\nvar _c;\n$RefreshReg$(_c, \"DefaultNode\");","map":{"version":3,"names":["React","connect","DV","GraphElementComponent","GraphElementDispatchProps","GraphElementOwnProps","GraphElementReduxStateProps","GraphElementStatee","Log","RuntimeAccessibleClass","SetRootFieldAction","windoww","Field","Graph","GraphVertex","Vertex","VoidVertex","RuntimeAccessible","LPointerTargetable","transientProperties","GraphElements","jsxDEV","_jsxDEV","superclass","classes","DefaultNodeStatee","DefaultNodeComponent","_dec","_class","mapStateToProps","state","ownProps","ret","data","wrap","dataid","id","undefined","node","nodeid","modelElement","nodes","mapViewStuff","skiparenderforloading","constructor","props","context","shouldComponentUpdate","nextProps","nextState","nextContext","render","_this$props$node","bugged","console","log","thiss","new","Date","getTime","children","fileName","_jsxFileName","lineNumber","columnNumber","view","exx","componentMap","components","dmodelMap","serializableProps","views","componentfunction","forceNodeType","exDev","nt","className","exDevv","errorView","__raw","DefaultNodeOwnProps","DefaultNodeReduxStateProps","DefaultNodeDispatchProps","DefaultNodeConnected","mapDispatchToProps","DefaultNode","arguments","length","_this","_c","cname","$RefreshReg$"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/graph/defaultNode/DefaultNode.tsx"],"sourcesContent":["import React, {ReactElement, ReactNode} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    DClassifier,\r\n    DEnumerator,\r\n    Dictionary,\r\n    DModel,\r\n    DModelElement,\r\n    DPackage,\r\n    DV,\r\n    GObject,\r\n    GraphElementComponent,\r\n    GraphElementDispatchProps,\r\n    GraphElementOwnProps,\r\n    GraphElementReduxStateProps,\r\n    GraphElementStatee,\r\n    DState,\r\n    LModelElement,\r\n    Log,\r\n    LViewElement,\r\n    RuntimeAccessibleClass,\r\n    SetRootFieldAction,\r\n    windoww,\r\n    Field,\r\n    Graph,\r\n    GraphVertex,\r\n    Vertex,\r\n    VoidVertex,\r\n    RuntimeAccessible,\r\n    Polygon,\r\n    Circle,\r\n    Cross,\r\n    Decagon,\r\n    Asterisk,\r\n    Ellipse,\r\n    Enneagon,\r\n    Hexagon,\r\n    Nonagon,\r\n    Octagon,\r\n    Heptagon,\r\n    Pentagon,\r\n    Rectangle,\r\n    Septagon,\r\n    Square,\r\n    Star,\r\n    SimpleStar,\r\n    DecoratedStar,\r\n    Trapezoid,\r\n    Triangle,\r\n    Selectors,\r\n    LPointerTargetable,\r\n    Pointer,\r\n    DGraphElement,\r\n    DPointerTargetable, LGraphElement, transientProperties\r\n} from \"../../joiner\";\r\nimport { GraphElements } from \"../../joiner/components\";\r\n// import {Field, Graph, GraphVertex} from \"../vertex/Vertex\";\r\n\r\nconst superclass: typeof GraphElementComponent = RuntimeAccessibleClass.classes.GraphElementComponent as any as typeof GraphElementComponent;\r\n\r\n// private\r\nclass DefaultNodeStatee extends GraphElementStatee { }\r\n\r\n// from ownstateprops function getVertexID(props: AllPropss): Pointer<DVoidVertex, 0, 1, LVoidVertex> { return props.vertex?.id; }\r\n\r\n// Giordano: add ignore for webpack\r\n@RuntimeAccessible('DefaultNodeComponent')\r\n//@ts-ignore\r\nexport class DefaultNodeComponent<AllProps extends AllPropss = AllPropss, NodeState = DefaultNodeStatee> extends superclass<AllProps, NodeState>{\r\n\r\n    static mapStateToProps(state: DState, ownProps: GraphElementOwnProps): GraphElementReduxStateProps {\r\n        let ret: GraphElementReduxStateProps = {} as GraphElementReduxStateProps; // NB: cannot use a constructor, must be pojo\r\n        // GraphElementComponent.mapLModelStuff(state, ownProps, ret); // not necessary either?\r\n        // GraphElementComponent.mapLGraphElementStuff(state, ownProps, ret, dGraphDataClass); not necessary, it's demanded to sub-components\r\n/*        ret.data = LPointerTargetable.wrap(ownProps.data);\r\n        ret.node = undefined as any; // because DefaultNode is all about determining the correct node to create, so there is no node yet.\r\n        ret.nodeid = ownProps.nodeid as Pointer<DGraphElement>; // but nodeid exists, passed from the parent along graphid and parentview\r\n*/\r\n        // try{\r\n        ret.data = LPointerTargetable.wrap(ownProps.data);\r\n        ret.dataid = ownProps.data ? (typeof ownProps.data === \"string\" ? ownProps.data : ownProps.data.id) : undefined;\r\n        // if node does not exist yet it's fine, don't create it. let Vertex or Graph or Edge make it with appropriate constructor according fo first matching view on model.\r\n        // problem: what kind of node to make / initial view assign on shapeless objects? they have both data and node undefined at first render.\r\n        ret.node = LPointerTargetable.wrap(ownProps.nodeid) as LGraphElement;\r\n        if (ret.dataid) {\r\n            // set up transient model-> node map\r\n            if (!transientProperties.modelElement[ret.dataid]) transientProperties.modelElement[ret.dataid] = {nodes: {}} as any;\r\n            transientProperties.modelElement[ret.dataid].nodes[ownProps.nodeid as string] = ret.node;\r\n            transientProperties.modelElement[ret.dataid].node = ret.node;\r\n        }\r\n\r\n        GraphElementComponent.mapViewStuff(state, ret, ownProps);\r\n\r\n            // GraphElementComponent.mapViewStuff(state, ret, ownProps);\r\n            (ret as any).skiparenderforloading = false;\r\n        //} catch(e) {\r\n            //(ret as any).skiparenderforloading = true; // model id is updated, but he's still trying to load old model which got replaced and is not in state.\r\n            /* crashes on loading because old model and new model have different timestamps? looks by id of old model with same number and diffferent timestamp*/\r\n            // Log.eDev(!ret.data, \"can't find model data:\", {state, ret, ownpropsdata:ownProps.data, ownProps});\r\n            // Log.eDevv(\"cannot map state to props:\", {e, state, ret, ownpropsdata:ownProps.data, ownProps});\r\n        //}\r\n        return ret; }\r\n\r\n    constructor(props: AllProps, context: any) { super(props, context); }\r\n\r\n    shouldComponentUpdate(nextProps: Readonly<AllProps>, nextState: Readonly<NodeState>, nextContext: any): boolean {\r\n        // i want to avoid double check on this and Vertex or graph.\r\n        // actually should not use this and avoid double mapstatetoprops execution too\r\n        return true;\r\n    }\r\n\r\n    render(): ReactNode {\r\n        if ((this.props as any).skiparenderforloading) {\r\n            windoww.bugged = this;\r\n            console.log(\"realoading render: \", {thiss:this, data:this.props.data});\r\n            SetRootFieldAction.new(\"rerenderforloading\", new Date().getTime()); return <div>loading...</div>;}\r\n        const view: LViewElement = this.props.view;\r\n        const modelElement: LModelElement | undefined = this.props.data;\r\n        if (!view) { Log.exx(\"cannot find view in DefaultNode\", {props: this.props, thiss:this}); }\r\n        // if (!view) { SetRootFieldAction.new(\"uselessrefresh_afterload\", new Date().getTime()); return <div>Loading...</div>; }\r\n\r\n        let componentMap: Dictionary<string, (props: GObject, children?: (string | React.Component)[]) => ReactElement> = windoww.components;\r\n        let dmodelMap: Dictionary<string, typeof DModelElement> = RuntimeAccessibleClass.classes as any;\r\n\r\n        let serializableProps = {...this.props, data: this.props.data, view: this.props.view, views: this.props.views};\r\n        // let serializableProps = {...this.props, data: this.props.data?.id, view: this.props.view?.id, views: this.props.views?.map( v => v.id )};\r\n\r\n        // console.log('dnode render', {props: {...this.props}, serializableProps});\r\n        let componentfunction: typeof Graph = null as any;\r\n        let forceNodeType = view.forceNodeType;\r\n        if (forceNodeType && forceNodeType !== \"Any\") {\r\n            componentfunction = GraphElements[forceNodeType] as any;\r\n            Log.exDev(!componentfunction, 'unrecognized View.forceNodeType:' + view.forceNodeType, {view, modelElement, nt: forceNodeType, GraphElements, });\r\n            // console.log(\"force node type\", {requested:view.forceNodeType, G:  windoww.GraphComponent.name, GE: windoww.GraphElementComponent.name, GV: windoww.GraphVertexComponent.name, V: windoww.VertexComponent.name, F:windoww.FieldComponent.name})\r\n            return componentfunction(serializableProps, this.props.children); }\r\n\r\n        if (modelElement?.className) switch(modelElement.className) {\r\n            case \"DModel\": componentfunction = Graph; break;\r\n            case \"DPackage\": componentfunction = GraphVertex; break;\r\n            case \"DClassifier\":\r\n            case \"DEnumerator\":\r\n            case \"DObject\":\r\n            case \"DClass\": componentfunction = Vertex; break;\r\n            case \"DAnnotation\":\r\n            case \"DAttribute\":\r\n            case \"DOperation\":\r\n            case \"DParameter\":\r\n            case \"DReference\":\r\n            case \"DEnumLiteral\":\r\n            case \"DValue\":\r\n            case \"DModelElement\": componentfunction = Field; break;\r\n            default:\r\n                Log.exDevv('invalid model class, add a case in the switch', {modelElement, view, dmodelMap, componentMap});\r\n                // const dmodel: typeof DModelElement = dmodelMap[modelElement.className];\r\n                // Log.exDev(!dmodel || !dmodel.defaultComponent, 'invalid model class:', {dmodel, modelElement, view, dmodelMap, componentMap});\r\n                // return dmodel.defaultComponent(serializableProps, this.props.children);\r\n        } else componentfunction = VoidVertex; // model-less, VoidVertex\r\n\r\n        if (componentfunction) return componentfunction(serializableProps, this.props.children);\r\n        // errore: questoon passa gli id correttamente al sottoelemento vertex o field\r\n        return DV.errorView(\"DefaultNode is missing both view and model, please state node type explicitly: Graph, GraphVertex, Vertex or Field\",\r\n            '', 'DefaultNode', modelElement?.__raw, this.props.node?.__raw, view?.__raw);\r\n    }\r\n\r\n}\r\n\r\n// private\r\nclass DefaultNodeOwnProps extends GraphElementOwnProps {}\r\nclass DefaultNodeReduxStateProps  extends GraphElementReduxStateProps {}\r\nclass DefaultNodeDispatchProps extends GraphElementDispatchProps {}\r\ntype AllPropss = DefaultNodeOwnProps & DefaultNodeReduxStateProps & DefaultNodeDispatchProps;\r\n\r\n\r\nconst DefaultNodeConnected = connect<DefaultNodeReduxStateProps, DefaultNodeDispatchProps, DefaultNodeOwnProps, DState>(\r\n    DefaultNodeComponent.mapStateToProps,\r\n    DefaultNodeComponent.mapDispatchToProps\r\n)(DefaultNodeComponent as any);\r\n// export const Vertex = VertexConnected;\r\n\r\n\r\nexport const DefaultNode = (props: DefaultNodeOwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <DefaultNodeConnected {...{...props, children}} />; }\r\n\r\n\r\nDefaultNodeComponent.cname = \"DefaultNodeComponent\";\r\nDefaultNodeConnected.cname = \"DefaultNodeConnected\";\r\nDefaultNode.cname = \"DefaultNode\";\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}