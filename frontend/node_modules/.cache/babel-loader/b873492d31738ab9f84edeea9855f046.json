{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\rightbar\\\\viewsEditor\\\\data\\\\PaletteData.tsx\",\n  _s = $RefreshSig$(),\n  _this = this;\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { useStateIfMounted } from \"use-state-if-mounted\";\nimport tinycolor from \"tinycolor2\";\nimport Editor from \"@monaco-editor/react\";\nimport DropDownButton from \"smart-webcomponents-react/dropdownbutton\";\nimport 'smart-webcomponents-react/source/styles/smart.default.css';\nimport { EdgeHead, Input, Keystrokes, Log, LViewElement, U } from '../../../../joiner';\nimport { CSS_Units } from '../../../../view/viewElement/view';\nimport { Color } from '../../../forEndUser/Color';\nimport { CommandBar, Btn } from '../../../commandbar/CommandBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction makeNumericInput(prefix, number, setNumber, setText, readOnly) {\n  let min;\n  let max;\n  let step = undefined;\n  switch (number.unit) {\n    case '':\n    case 'px':\n      min = 0;\n      max = 300;\n      break;\n    case 'pt':\n      break;\n    // 1pt = 1.33 px; 1px = 0.75pt\n    case 'cm':\n    case 'mm':\n      min = 0;\n      max = 200;\n      break;\n    // 1mm = 3.7px\n    case 'ch':\n    case 'ex':\n    case 'em':\n    case 'rem':\n    case 'in': // 1in = 96px\n    case 'pc': // 2px = 0.125 picas; 18.75pc = 300px\n    case 'fr':\n      min = 0;\n      max = 20;\n      step = 0.5;\n      break;\n    case \"%\":\n    case \"vh\":\n    case \"vw\":\n    case \"vmax\":\n    case \"vmin\":\n      min = 0;\n      max = 100;\n      break;\n  }\n  let roundedValue0 = Math.round(((number.value || 0) - (typeof step === \"number\" ? number.value % step : number.value % 0.1)) * 10000) / 10000; // % works on decimals right.\n  let roundedValue = typeof step === \"number\" ? Math.round((number.value || 0) * (1 / step)) * step : Math.round(number.value * 100) / 100; // % works on decimals right.\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"value\",\n      placeholder: \"value\",\n      type: \"range\",\n      disabled: readOnly,\n      defaultValue: number.value,\n      min: min,\n      max: max,\n      step: \"any\",\n      onBlur: e => {\n        setNumber(e, prefix);\n      },\n      onMouseUp: e => {\n        setNumber(e, prefix);\n      }\n    }, \"s\" + number.value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"spinner\",\n      placeholder: \"value\",\n      type: \"number\",\n      disabled: readOnly,\n      defaultValue: roundedValue,\n      \"data-dv\": roundedValue,\n      \"data-dv2\": number.value,\n      step: step,\n      onBlur: e => {\n        setNumber(e, prefix);\n      },\n      onKeyDown: e => {\n        if (e.key === Keystrokes.enter) setNumber(e, prefix);\n        if (e.key === Keystrokes.escape) e.target.value = '' + number.value;\n      }\n    }, roundedValue, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n// delete button <button className=\"btn btn-danger ms-1\"><i className=\"p-1 bi bi-trash3-fill\"/></button>\nfunction PaletteDataComponent(props) {\n  _s();\n  const view = props.view;\n  const readOnly = props.readonly;\n  let palette = {\n    ...view.palette\n  };\n  let tmp = undefined;\n  const [css, setCss] = useStateIfMounted(view.css);\n  const change = value => {\n    if (value !== undefined) setCss(value);\n  }; // save in local state for frequent changes.\n  const blur = () => view.css = css; // confirm in redux state for final state\n\n  const addControl = type => {\n    if (readOnly) return;\n    let i;\n    let prefix0; //= 'palette_' + i + '-';\n    switch (type) {\n      default:\n        Log.exDevv(\"unexpected case in addControl:\" + type);\n        return;\n      case 'path':\n        i = Object.values(palette).filter(o => o.type === \"path\").length + 1;\n        prefix0 = 'path_';\n        break;\n      case 'text':\n        i = Object.values(palette).filter(o => o.type === \"text\").length + 1;\n        prefix0 = 'text_';\n        break;\n      case 'number':\n        i = Object.values(palette).filter(o => o.type === \"number\").length + 1;\n        prefix0 = 'numeric_';\n        break;\n      case 'palette':\n        i = Object.values(palette).filter(o => Array.isArray(o)).length + 1;\n        prefix0 = 'palette_';\n        break;\n    }\n    let prefix;\n    while (true) {\n      prefix = prefix0 + i++;\n      if (prefix in palette) continue;\n      break;\n    }\n    switch (type) {\n      default:\n        Log.exDevv(\"unexpected case in addControl:\" + type);\n        return;\n      case 'path':\n        const agglabel = \"◇ Aggregation / Composition\";\n        const extendlabel = \"△ \" + EdgeHead.extend;\n        const asslabel = \"Λ \" + EdgeHead.reference;\n        let headdict = {\n          [asslabel]: 'M 0 0   L x y/2   L 0 y',\n          [extendlabel]: 'M 0 0   L x y/2   L 0 y   Z',\n          [agglabel]: 'M 0 y/2   L x/2 0   L x y/2   L x/2 y   Z'\n        };\n        let predefinedPaths = Object.entries(headdict).map(e => ({\n          k: e[0],\n          v: e[1]\n        }));\n        tmp = {\n          ...palette\n        };\n        tmp[prefix] = {\n          type: 'path',\n          value: '',\n          x: 'edgeHeadSize.x',\n          y: 'edgeHeadSize.y',\n          options: predefinedPaths\n        };\n        break;\n      case 'text':\n        tmp = {\n          ...palette\n        };\n        tmp[prefix] = {\n          type: 'text',\n          value: ''\n        };\n        break;\n      case 'number':\n        tmp = {\n          ...palette\n        };\n        tmp[prefix] = {\n          type: 'number',\n          value: 0,\n          unit: 'px'\n        };\n        break;\n      case 'palette':\n        tmp = {\n          ...palette\n        };\n        tmp[prefix] = {\n          type: 'color',\n          value: []\n        };\n        break;\n    }\n    view.palette = palette = tmp;\n  };\n  const setGeneric = (e, prefix, key) => {\n    const val = e.target.value;\n    if (readOnly || palette[prefix][key] === val) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix][key] = val;\n    view.palette = palette = tmp;\n  };\n  const setText = (e, prefix) => {\n    const val = e.target.value;\n    if (readOnly || palette[prefix].value === val) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix].value = val;\n    view.palette = palette = tmp;\n  };\n  const setNumber = (e, prefix) => {\n    const val = +e.target.value || 0;\n    if (readOnly || palette[prefix].value === val) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix].value = val;\n    view.palette = palette = tmp;\n  };\n  const setUnit = (e, prefix) => {\n    const val = e.target.value === undefined ? 'px' : e.target.value;\n    if (readOnly || val === palette[prefix].unit) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix].unit = val;\n    view.palette = palette = tmp;\n  };\n  const changePrefix = (oldPrefix, newPrefix) => {\n    newPrefix = newPrefix.replaceAll(/[^\\w\\-]/g, '-'); // /^[^a-zA-Z0-9_\\-]*$/, '-');\n    if (readOnly || palette[newPrefix]) return; // refuse to overwrite existing palette name (2 different palettes with same name)\n    tmp = {\n      ...palette\n    };\n    tmp[newPrefix] = palette[oldPrefix];\n    delete tmp[oldPrefix];\n    view.palette = palette = tmp;\n  };\n  const removeControl = prefix => {\n    if (readOnly || !palette[prefix]) return;\n    tmp = {\n      ...palette\n    };\n    delete tmp[prefix];\n    view.palette = palette = tmp;\n  };\n  const addColor = function (prefix, colors) {\n    let index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n    let skipFirst = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    if (readOnly) return;\n    if (!Array.isArray(colors)) {\n      colors = [colors];\n      skipFirst = false;\n    }\n    let tmp = {\n      ...palette\n    };\n    let lastAdded = undefined;\n    for (let i = colors.length - 1; i >= (skipFirst ? 1 : 0); i--) {\n      let color = colors[i];\n      let rgba = color.toRgb();\n      console.log(\"addingColor:\", {\n        rgba,\n        lastAdded,\n        color\n      });\n      if (rgba === lastAdded) continue;\n      lastAdded = rgba;\n      if (!tmp[prefix]) tmp[prefix] = {\n        type: 'color',\n        value: []\n      };else tmp[prefix] = {\n        ...tmp[prefix]\n      };\n      tmp[prefix].value = [...tmp[prefix].value];\n      if (index >= 0) tmp[prefix].value.splice(index + 1, 0, rgba);else tmp[prefix].value.push(rgba);\n    }\n    view.palette = palette = tmp;\n  };\n  const setColor = (prefix, index, hex, alpha) => {\n    let tmp = {\n      ...palette\n    };\n    if (readOnly || !tmp[prefix]) tmp[prefix] = {\n      type: 'color',\n      value: []\n    };else tmp[prefix] = {\n      ...tmp[prefix]\n    };\n    let oldColor = tmp[prefix].value[index];\n    if (hex) {\n      let color = tinycolor(hex);\n      if (alpha !== undefined) color.setAlpha(alpha);\n      let rgba = color.toRgb();\n      if (oldColor && oldColor.a !== undefined) rgba.a = oldColor.a;\n      tmp[prefix].value[index] = oldColor = rgba;\n      view.palette = palette = tmp;\n    }\n    if (alpha !== undefined) tmp[prefix].value[index] = {\n      ...oldColor,\n      a: alpha\n    };\n  };\n  const transparencyColor = (prefix, index, color, alpha) => {\n    if (readOnly || !palette[prefix]) return;\n    let tmp = {\n      ...palette\n    };\n    if (!alpha && alpha !== 0) alpha = 1;\n    tmp[prefix] = {\n      ...tmp[prefix]\n    };\n    tmp[prefix].value = [...tmp[prefix].value];\n    tmp[prefix].value[index] = {\n      ...tmp[prefix].value[index]\n    };\n    tmp[prefix].value[index].a = alpha;\n    color.setAlpha(alpha);\n    console.log(\"set transparency\", {\n      color,\n      tinycolor,\n      oldcolor: tmp[prefix].value[index]\n    });\n    view.palette = palette = tmp;\n  };\n  const removeColor = (prefix, index) => {\n    if (readOnly || !palette[prefix]) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix].value = [...tmp[prefix].value];\n    tmp[prefix].value = tmp[prefix].value.filter((c, i) => i !== index);\n    view.palette = palette = tmp;\n  };\n  const cssIsGlobal = view.cssIsGlobal;\n  let a;\n  let dropDownButton = {\n    current: null\n  };\n  function addcss(color) {\n    let ret = {};\n    ret.background = color.toRgbString();\n    // ret.opacity = color.getAlpha();\n    return ret;\n  }\n  function invert(color) {\n    let transformGrays = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.2;\n    transformGrays = transformGrays * 128;\n    let {\n      r,\n      g,\n      b,\n      a\n    } = color.toRgb();\n    r = Math.abs(r - 128) <= transformGrays ? r >= 128 ? 0 : 255 : 255 - r;\n    g = Math.abs(g - 128) <= transformGrays ? g >= 128 ? 0 : 255 : 255 - g;\n    b = Math.abs(b - 128) <= transformGrays ? b >= 128 ? 0 : 255 : 255 - b;\n    if (a || a === 0) a = 255 - a;\n    return tinycolor({\n      r,\n      g,\n      b,\n      a\n    }).toRgbString();\n  }\n  function style(c) {\n    return {\n      backgroundColor: c.toRgbString(),\n      color: invert(c)\n    };\n  }\n  let palettes = U.paletteSplit(palette);\n  function palettewrap(prefix, node) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"palette-row-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"prefix\",\n        style: {\n          maxHeight: 'var(--input-height)',\n          borderRadius: 'var(--radius)'\n        },\n        placeholder: \"variable name\",\n        value: prefix,\n        onChange: e => changePrefix(prefix, e.target.value),\n        disabled: readOnly\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this), node]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }, this);\n  }\n  const vcss = view.css;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: 'p-3',\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      style: {\n        position: 'relative',\n        zIndex: 2\n      },\n      children: [Object.entries(palettes.color).map((entry, index, entries) => {\n        let prefix = entry[0];\n        let paletteobj = entry[1];\n        let colors = paletteobj.value.map(v => tinycolor(v));\n        let suggestions = [tinycolor('#ffaaaa')]; // todo: compute according to current row \"colors\"\n        return palettewrap(prefix, /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"palette-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"color-container\",\n              style: {\n                maxHeight: 'var(--input-height)',\n                borderRadius: 'var(--radius)'\n              },\n              children: colors.map((color, i) => /*#__PURE__*/_jsxDEV(Color, {\n                readonly: readOnly,\n                data: view,\n                field: 'palette',\n                canDelete: !readOnly,\n                getter: () => colors[i].toHexString(),\n                setter: newVal => {\n                  setColor(prefix, i, newVal);\n                },\n                style: {\n                  background: 'white'\n                },\n                inputStyle: {\n                  opacity: color.getAlpha()\n                },\n                childrenn: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"content suggestions\",\n                  style: {\n                    backgroundColor: \"inherit\"\n                  },\n                  onClick: e => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                  },\n                  children: [(() => {\n                    return /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        title: \"Alter current color transparency\",\n                        children: \"Opacity\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        style: {\n                          width: \"auto\",\n                          marginLeft: \"1em\",\n                          marginRight: \"1em\"\n                        },\n                        type: \"range\",\n                        min: 0,\n                        max: 1,\n                        step: \"any\",\n                        value: color.getAlpha(),\n                        onChange: e => {\n                          transparencyColor(prefix, i, color, +e.target.value);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        title: \"Add all the colors\",\n                        children: [/*#__PURE__*/_jsxDEV(CommandBar, {\n                          style: {\n                            float: 'left',\n                            paddingRight: '8px'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(Btn, {\n                            icon: 'add',\n                            size: 'x-small',\n                            action: () => addColor(prefix, color.analogous(7, 30 / 1.5), i),\n                            theme: 'dark'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 309,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 308,\n                          columnNumber: 77\n                        }, this), \"Analogous\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: color.analogous(7, 30 / 1.5).map((c, ii) => ii === 0 ? undefined : /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(c),\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          className: \"btn color-suggestion\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            style: style(c),\n                            className: \"bi bi-plus-lg\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 316,\n                            columnNumber: 179\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 316,\n                          columnNumber: 81\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 314,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        title: \"Add all the colors\",\n                        children: [/*#__PURE__*/_jsxDEV(CommandBar, {\n                          style: {\n                            float: 'left',\n                            paddingRight: '8px'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(Btn, {\n                            icon: 'add',\n                            size: 'x-small',\n                            theme: 'dark',\n                            action: () => addColor(prefix, [1 / 12, 2 / 12, 3 / 12, 4 / 12, 5 / 12, 6 / 12].map(n => color.clone().lighten(n * 100)), i, false)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 326,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 325,\n                          columnNumber: 77\n                        }, this), \"Lighten\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: [1 / 12, 2 / 12, 3 / 12, 4 / 12, 5 / 12, 6 / 12].map(n => color.clone().lighten(n * 100)).map((c, ii) => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(c),\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            style: style(c),\n                            className: \"bi bi-plus-lg\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 334,\n                            columnNumber: 144\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 333,\n                          columnNumber: 96\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        title: \"Add all the colors\",\n                        children: [/*#__PURE__*/_jsxDEV(CommandBar, {\n                          style: {\n                            float: 'left',\n                            paddingRight: '8px'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(Btn, {\n                            icon: 'add',\n                            theme: 'dark',\n                            size: 'x-small',\n                            action: () => addColor(prefix, [6 / 12, 5 / 12, 4 / 12, 3 / 12, 2 / 12, 1 / 12].map(n => color.clone().darken(n * 100)), i, false)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 339,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 338,\n                          columnNumber: 77\n                        }, this), \"Darken\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 337,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: [6 / 12, 5 / 12, 4 / 12, 3 / 12, 2 / 12, 1 / 12].map(n => color.clone().darken(n * 100)).map((c, ii) => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(c),\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            style: style(c),\n                            className: \"bi bi-plus-lg\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 348,\n                            columnNumber: 144\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 347,\n                          columnNumber: 96\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        title: \"Add all the colors\",\n                        children: [/*#__PURE__*/_jsxDEV(CommandBar, {\n                          style: {\n                            float: 'left',\n                            paddingRight: '8px'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(Btn, {\n                            icon: 'add',\n                            theme: 'dark',\n                            size: 'x-small',\n                            action: () => addColor(prefix, [color.complement(), tinycolor(invert(color))], i, false)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 353,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 352,\n                          columnNumber: 77\n                        }, this), \"Complementary / Opposite\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 351,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(color.complement()),\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, color.complement(), i);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            style: style(color.complement()),\n                            className: \"bi bi-plus-lg\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 360,\n                            columnNumber: 142\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 359,\n                          columnNumber: 77\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(color),\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, tinycolor(invert(color)), i);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            style: style(color),\n                            className: \"bi bi-plus-lg\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 362,\n                            columnNumber: 148\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 361,\n                          columnNumber: 77\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 358,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        title: \"Add all the colors\",\n                        children: [/*#__PURE__*/_jsxDEV(CommandBar, {\n                          style: {\n                            float: 'left',\n                            paddingRight: '8px'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(Btn, {\n                            icon: 'add',\n                            theme: 'dark',\n                            size: 'x-small',\n                            action: () => addColor(prefix, color.splitcomplement(), i)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 367,\n                            columnNumber: 77\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 366,\n                          columnNumber: 73\n                        }, this), \"Split Complementary\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 365,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: color.splitcomplement().map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: {\n                            ...style(c)\n                          },\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            style: style(c),\n                            className: \"bi bi-plus-lg\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 374,\n                            columnNumber: 161\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 373,\n                          columnNumber: 113\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        title: \"Add all the colors\",\n                        children: [/*#__PURE__*/_jsxDEV(CommandBar, {\n                          style: {\n                            float: 'left',\n                            paddingRight: '8px'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(Btn, {\n                            icon: 'add',\n                            theme: 'dark',\n                            size: 'x-small',\n                            action: () => addColor(prefix, color.triad(), i)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 379,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 378,\n                          columnNumber: 73\n                        }, this), \"Triadic\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: color.triad().map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: {\n                            ...style(c)\n                          },\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            style: style(c),\n                            className: \"bi bi-plus-lg\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 386,\n                            columnNumber: 153\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 385,\n                          columnNumber: 105\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 384,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        title: \"Add all the colors\",\n                        children: [/*#__PURE__*/_jsxDEV(CommandBar, {\n                          style: {\n                            float: 'left',\n                            paddingRight: '8px'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(Btn, {\n                            icon: 'add',\n                            theme: 'dark',\n                            size: 'x-small',\n                            action: () => addColor(prefix, color.tetrad(), i)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 391,\n                            columnNumber: 81\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 390,\n                          columnNumber: 73\n                        }, this), \"Tetradic\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 389,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: color.tetrad().map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: {\n                            ...style(c)\n                          },\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            style: style(c),\n                            className: \"bi bi-plus-lg\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 397,\n                            columnNumber: 154\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 396,\n                          columnNumber: 106\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 395,\n                        columnNumber: 73\n                      }, this)]\n                    }, void 0, true);\n                  })(), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: 'btn btn-danger content delete-color mt-2 jj-delete',\n                    onClick: () => removeColor(prefix, i),\n                    disabled: readOnly,\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi p-1 bi-trash-fill\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 73\n                    }, this), \" Delete\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 69\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 65\n                }, this)\n              }, prefix + i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 54\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestion-container\",\n              children: suggestions.map((c, i) => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-1\",\n                children: /*#__PURE__*/_jsxDEV(CommandBar, {\n                  children: [/*#__PURE__*/_jsxDEV(Btn, {\n                    icon: 'add',\n                    tip: 'Add color to palette',\n                    action: () => addColor(prefix, c)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Btn, {\n                    icon: 'delete',\n                    tip: 'Remove color from palette',\n                    action: () => removeControl(prefix)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 55\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 21\n          }, this)\n        }, void 0, false));\n      }), Object.entries(palettes.path).map((entry, index, entries) => {\n        let prefix = entry[0];\n        let path = entry[1];\n        return palettewrap(prefix, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"palette-row path\",\n          title: \"todo: proper tooltip.\\nedgeHeadSize is in the \\\"Options\\\" tab and determines the position of the head.\\nBasic math operators are allowed, but the minus and plus must have spaces around them or they will be traated as unary operators.\\nx and y are variables local to this path used to scale his shape.\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"value hoverable\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex w-100\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"value w-100 my-auto\",\n                placeholder: \"svg path [d]\",\n                defaultValue: path.value,\n                onBlur: e => {\n                  setText(e, prefix);\n                },\n                disabled: readOnly,\n                onKeyDown: e => {\n                  if (e.key === Keystrokes.enter) setText(e, prefix);\n                  if (e.key === Keystrokes.escape) e.target.value = path.value;\n                }\n              }, path.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content d-flex\",\n              style: {\n                backgroundColor: 'whitesmoke'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"spacer w-100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mx-auto\",\n                children: [\"x:\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"x\",\n                  placeholder: \"x\",\n                  defaultValue: path.x,\n                  disabled: readOnly,\n                  onChange: e => setGeneric(e, prefix, \"x\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 74\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mx-auto\",\n                children: [\"y:\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"y\",\n                  placeholder: \"y\",\n                  defaultValue: path.y,\n                  disabled: readOnly,\n                  onChange: e => setGeneric(e, prefix, \"y\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 74\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: path.value,\n            disabled: readOnly,\n            onChange: e => setText(e, prefix),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              style: {\n                fontStyle: 'italic',\n                color: 'gray'\n              },\n              value: \"\",\n              children: \"Custom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 35\n            }, this), path.options.map(e => {\n              let k = e.k;\n              let v = e.v;\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: v,\n                children: k\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 40\n              }, this);\n            })]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 25\n        }, this));\n      }), Object.entries(palettes.number).map((entry, index, entries) => {\n        let prefix = entry[0];\n        let number = entry[1];\n        return palettewrap(prefix, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"palette-row numeric\",\n          children: [makeNumericInput(prefix, number, setNumber, setText, readOnly), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"unit\",\n            placeholder: \"unit\",\n            value: number.unit,\n            pattern: CSS_Units.pattern,\n            disabled: readOnly,\n            list: \"__jodel_CSS_units\",\n            onChange: e => {\n              setUnit(e, prefix);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 25\n        }, this));\n      }), Object.entries(palettes.text).map((entry, index, entries) => {\n        let prefix = entry[0];\n        let string = entry[1];\n        return palettewrap(prefix, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"palette-row textual\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"value\",\n            placeholder: \"value\",\n            defaultValue: string.value,\n            onBlur: e => {\n              setText(e, prefix);\n            },\n            disabled: readOnly,\n            onKeyDown: e => {\n              if (e.key === Keystrokes.enter) setText(e, prefix);\n              if (e.key === Keystrokes.escape) e.target.value = string.value;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 25\n        }, this));\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-100\",\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(10, 1fr)',\n        position: 'relative',\n        zIndex: 1\n      },\n      onMouseEnter: e => {\n        var _dropDownButton$curre;\n        (_dropDownButton$curre = dropDownButton.current) === null || _dropDownButton$curre === void 0 ? void 0 : _dropDownButton$curre.open();\n      },\n      onMouseLeave: e => {\n        var _dropDownButton$curre2;\n        (_dropDownButton$curre2 = dropDownButton.current) === null || _dropDownButton$curre2 === void 0 ? void 0 : _dropDownButton$curre2.close();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        style: {\n          flexBasis: 0,\n          flexGrow: 9,\n          gridArea: '1 / 1 / 1 / 1',\n          zIndex: 2,\n          minWidth: 'calc(1000% - var(--smart-editor-addon-width))'\n        },\n        onClick: () => addControl('palette'),\n        children: \"+ Palette\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DropDownButton, {\n        ref: dropDownButton,\n        style: {\n          flexBasis: 0,\n          flexGrow: 1,\n          minWidth: 0,\n          gridArea: '1 / 1 / 1 / 11',\n          zIndex: 1,\n          transform: 'scaleX(-1)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: e => {\n            var _dropDownButton$curre3;\n            return (_dropDownButton$curre3 = dropDownButton.current) === null || _dropDownButton$curre3 === void 0 ? void 0 : _dropDownButton$curre3.close();\n          },\n          style: {\n            transform: 'scaleX(-1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-100 btn btn-outline-success\",\n            style: {\n              height: 'var(--smart-editor-height)'\n            },\n            onClick: () => addControl('number'),\n            children: \"+ Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-100 btn btn-outline-success\",\n            style: {\n              height: 'var(--smart-editor-height)'\n            },\n            onClick: () => addControl('text'),\n            children: \"+ Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-100 btn btn-outline-success\",\n            style: {\n              height: 'var(--smart-editor-height)'\n            },\n            onClick: () => addControl('path'),\n            children: \"+ Path\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      data: view,\n      field: 'cssIsGlobal',\n      type: \"checkbox\",\n      jsxLabel: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          width: '80%',\n          display: 'inline-block'\n        },\n        children: [cssIsGlobal ? /*#__PURE__*/_jsxDEV(\"b\", {\n          style: {\n            color: 'inherit',\n            fontWeight: 'bold'\n          },\n          children: \"Global\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 32\n        }, this) : /*#__PURE__*/_jsxDEV(\"b\", {\n          style: {\n            color: 'inherit'\n          },\n          children: \"Local\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 94\n        }, this), ' CSS & LESS Editor ', cssIsGlobal ? /*#__PURE__*/_jsxDEV(\"b\", {\n          style: {\n            color: 'red',\n            fontSize: '0.7em',\n            fontWeight: 'bold'\n          },\n          children: \"Use with caution\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 32\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 9\n    }, this), vcss.indexOf('//') >= 0 && /*#__PURE__*/_jsxDEV(\"b\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: \"Warning:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 40\n      }, this), \" Inline comments // are not supported by our compiler.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 137\n      }, this), \"Please replace them with /* block comments */\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 37\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"monaco-editor-wrapper\",\n      style: {\n        minHeight: '20ùpx',\n        height: '200px' /*there is a bug of height 100% on childrens not working if parent have only minHeight*/,\n        resize: 'vertical',\n        overflow: 'hidden'\n      },\n      onBlur: blur,\n      children: /*#__PURE__*/_jsxDEV(Editor, {\n        className: 'mx-1',\n        options: {\n          fontSize: 12,\n          scrollbar: {\n            vertical: 'hidden',\n            horizontalScrollbarSize: 5\n          },\n          minimap: {\n            enabled: false\n          },\n          readOnly: readOnly\n        },\n        defaultLanguage: 'less',\n        value: vcss,\n        onChange: change\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debug\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          whiteSpace: 'pre'\n        },\n        children: view.compiled_css\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 34\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 285,\n    columnNumber: 12\n  }, this);\n}\n_s(PaletteDataComponent, \"KNCH7HtDUv8cyF1FQgcYu2CBC3E=\", false, function () {\n  return [useStateIfMounted];\n});\n_c = PaletteDataComponent;\nfunction mapStateToProps(state, ownProps) {\n  const view = LViewElement.fromPointer(ownProps.viewID);\n  return {\n    view\n  };\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nexport const PaletteDataConnected = connect(mapStateToProps, mapDispatchToProps)(PaletteDataComponent);\nexport const PaletteData = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(PaletteDataConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 558,\n    columnNumber: 12\n  }, _this);\n};\n_c2 = PaletteData;\nexport default PaletteData;\nvar _c, _c2;\n$RefreshReg$(_c, \"PaletteDataComponent\");\n$RefreshReg$(_c2, \"PaletteData\");","map":{"version":3,"names":["React","connect","useStateIfMounted","tinycolor","Editor","DropDownButton","EdgeHead","Input","Keystrokes","Log","LViewElement","U","CSS_Units","Color","CommandBar","Btn","jsxDEV","_jsxDEV","Fragment","_Fragment","makeNumericInput","prefix","number","setNumber","setText","readOnly","min","max","step","undefined","unit","roundedValue0","Math","round","value","roundedValue","children","className","placeholder","type","disabled","defaultValue","onBlur","e","onMouseUp","fileName","_jsxFileName","lineNumber","columnNumber","onKeyDown","key","enter","escape","target","PaletteDataComponent","props","_s","view","readonly","palette","tmp","css","setCss","change","blur","addControl","i","prefix0","exDevv","Object","values","filter","o","length","Array","isArray","agglabel","extendlabel","extend","asslabel","reference","headdict","predefinedPaths","entries","map","k","v","x","y","options","setGeneric","val","setUnit","changePrefix","oldPrefix","newPrefix","replaceAll","removeControl","addColor","colors","index","arguments","skipFirst","lastAdded","color","rgba","toRgb","console","log","splice","push","setColor","hex","alpha","oldColor","setAlpha","a","transparencyColor","oldcolor","removeColor","c","cssIsGlobal","dropDownButton","current","addcss","ret","background","toRgbString","invert","transformGrays","r","g","b","abs","style","backgroundColor","palettes","paletteSplit","palettewrap","node","maxHeight","borderRadius","onChange","vcss","position","zIndex","entry","paletteobj","suggestions","data","field","canDelete","getter","toHexString","setter","newVal","inputStyle","opacity","getAlpha","childrenn","onClick","preventDefault","stopPropagation","title","width","marginLeft","marginRight","float","paddingRight","icon","size","action","analogous","theme","ii","n","clone","lighten","darken","complement","splitcomplement","triad","tetrad","tip","path","fontStyle","pattern","list","text","string","display","gridTemplateColumns","onMouseEnter","_dropDownButton$curre","open","onMouseLeave","_dropDownButton$curre2","close","flexBasis","flexGrow","gridArea","minWidth","ref","transform","_dropDownButton$curre3","height","jsxLabel","fontWeight","fontSize","indexOf","minHeight","resize","overflow","scrollbar","vertical","horizontalScrollbarSize","minimap","enabled","defaultLanguage","whiteSpace","compiled_css","_c","mapStateToProps","state","ownProps","fromPointer","viewID","mapDispatchToProps","dispatch","PaletteDataConnected","PaletteData","_this","_c2","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/components/rightbar/viewsEditor/data/PaletteData.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement, ReactNode, Ref, RefObject, SyntheticEvent} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {useStateIfMounted} from \"use-state-if-mounted\";\r\nimport tinycolor, {Instance} from \"tinycolor2\";\r\nimport Editor from \"@monaco-editor/react\";\r\nimport DropDownButton from \"smart-webcomponents-react/dropdownbutton\";\r\nimport 'smart-webcomponents-react/source/styles/smart.default.css';\r\nimport type {\r\n    Dictionary,\r\n    GObject,\r\n    Pointer,\r\n} from '../../../../joiner';\r\nimport type {\r\n    PaletteControl,\r\n    NumberControl,\r\n    StringControl,\r\n    PaletteType,\r\n    PathControl\r\n} from '../../../../view/viewElement/view';\r\nimport {\r\n    DState,\r\n    DViewElement, EdgeHead,\r\n    Input,\r\n    Keystrokes,\r\n    Log,\r\n    LViewElement,\r\n    U,\r\n} from '../../../../joiner';\r\nimport{CSS_Units} from '../../../../view/viewElement/view';\r\nimport {Function} from \"../../../forEndUser/FunctionComponent\";\r\nimport { Color } from '../../../forEndUser/Color';\r\n\r\nimport { CommandBar, Btn } from '../../../commandbar/CommandBar';\r\n\r\n\r\nfunction makeNumericInput(prefix: string, number: NumberControl,\r\n                          setNumber: (e: React.FocusEvent<HTMLInputElement>, prefix: string) => void,\r\n                          setText: (e: React.FocusEvent<HTMLInputElement>, prefix: string) => void, readOnly: boolean) {\r\n    let min: number | undefined;\r\n    let max: number | undefined;\r\n    let step: number | undefined = undefined;\r\n    switch (number.unit) {\r\n        case '':\r\n        case 'px': min = 0; max = 300; break;\r\n        case 'pt': break; // 1pt = 1.33 px; 1px = 0.75pt\r\n        case 'cm':\r\n        case 'mm': min = 0; max = 200; break; // 1mm = 3.7px\r\n        case 'ch':\r\n        case 'ex':\r\n        case 'em':\r\n        case 'rem':\r\n        case 'in': // 1in = 96px\r\n        case 'pc': // 2px = 0.125 picas; 18.75pc = 300px\r\n        case 'fr': min=0; max=20; step = 0.5; break;\r\n        case \"%\": case \"vh\": case \"vw\": case \"vmax\": case \"vmin\":\r\n            min = 0;\r\n            max = 100;\r\n            break;\r\n    }\r\n    let roundedValue0 = Math.round(((number.value || 0) - (typeof step === \"number\" ? number.value % step : number.value % 0.1))*10000)/10000; // % works on decimals right.\r\n    let roundedValue = typeof step === \"number\" ? Math.round(((number.value || 0)  * (1/step))) * step : Math.round(number.value*100)/100; // % works on decimals right.\r\n    return <>\r\n        <input className={\"value\"} placeholder={\"value\"} type={\"range\"} disabled={readOnly}\r\n            key={\"s\"+number.value} defaultValue={number.value}\r\n            min={min}\r\n            max={max}\r\n            step={\"any\"}\r\n            onBlur={e => {setNumber(e as any, prefix)}}\r\n            onMouseUp={e => { setNumber(e as any, prefix); }} />\r\n        <input className={\"spinner\"} placeholder={\"value\"} type={\"number\"} disabled={readOnly}\r\n            key={roundedValue} defaultValue={roundedValue} data-dv={roundedValue} data-dv2={number.value}\r\n            step={step}\r\n            onBlur={e => {setNumber(e as any, prefix)}}\r\n            onKeyDown={e => {\r\n               if (e.key === Keystrokes.enter) setNumber(e as any, prefix);\r\n               if (e.key === Keystrokes.escape) (e.target as HTMLInputElement).value = '' + number.value; }} />\r\n    </>\r\n}\r\n\r\n// delete button <button className=\"btn btn-danger ms-1\"><i className=\"p-1 bi bi-trash3-fill\"/></button>\r\nfunction PaletteDataComponent(props: AllProps) {\r\n    const view = props.view;\r\n    const readOnly = props.readonly;\r\n    let palette: Readonly<PaletteType> = {...view.palette};\r\n    let tmp: PaletteType = undefined as any;\r\n    const [css, setCss] = useStateIfMounted(view.css);\r\n\r\n    const change = (value: string|undefined) => { if(value !== undefined) setCss(value); } // save in local state for frequent changes.\r\n    const blur = () => view.css = css; // confirm in redux state for final state\r\n\r\n    const addControl = (type: 'palette' | 'number' | 'text' | 'path') => {\r\n        if (readOnly) return;\r\n        let i: number;\r\n        let prefix0: string;//= 'palette_' + i + '-';\r\n        switch (type){\r\n            default: Log.exDevv(\"unexpected case in addControl:\" + type); return;\r\n            case 'path':\r\n                i = Object.values(palette).filter( o => (o as PathControl).type === \"path\").length + 1;\r\n                prefix0 = 'path_';\r\n                break;\r\n            case 'text':\r\n                i = Object.values(palette).filter( o => (o as StringControl).type === \"text\").length + 1;\r\n                prefix0 = 'text_';\r\n                break;\r\n            case 'number':\r\n                i = Object.values(palette).filter( o => (o as NumberControl).type === \"number\").length + 1;\r\n                prefix0 = 'numeric_';\r\n                break;\r\n            case 'palette':\r\n                i = Object.values(palette).filter( o => Array.isArray(o as any)).length + 1;\r\n                prefix0 = 'palette_';\r\n                break;\r\n        }\r\n        let prefix: string;\r\n        while (true){\r\n            prefix = prefix0 + i++;\r\n            if (prefix in palette) continue;\r\n            break;\r\n        }\r\n        switch (type){\r\n            default: Log.exDevv(\"unexpected case in addControl:\" + type); return;\r\n            case 'path':\r\n                const agglabel = \"◇ Aggregation / Composition\";\r\n                const extendlabel = \"△ \"+EdgeHead.extend;\r\n                const asslabel = \"Λ \"+EdgeHead.reference;\r\n                let headdict: Dictionary<string, string> = {\r\n                    [asslabel]: 'M 0 0   L x y/2   L 0 y',\r\n                    [extendlabel]: 'M 0 0   L x y/2   L 0 y   Z',\r\n                    [agglabel]: 'M 0 y/2   L x/2 0   L x y/2   L x/2 y   Z',\r\n                };\r\n                let predefinedPaths: {k:string, v:string}[] = Object.entries(headdict).map((e)=>({k:e[0], v:e[1]}));\r\n\r\n                tmp = {...palette};\r\n                tmp[prefix] = {type: 'path', value: '', x:'edgeHeadSize.x', y:'edgeHeadSize.y', options: predefinedPaths};\r\n                break;\r\n            case 'text':\r\n                tmp = {...palette};\r\n                tmp[prefix] = {type: 'text', value: ''};\r\n                break;\r\n            case 'number':\r\n                tmp = {...palette};\r\n                tmp[prefix] = {type: 'number', value: 0, unit: 'px'};\r\n                break;\r\n            case 'palette':\r\n                tmp = {...palette};\r\n                tmp[prefix] = {type:'color', value:[]};\r\n                break;\r\n        }\r\n        view.palette = palette = tmp;\r\n    }\r\n    const setGeneric = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>, prefix: string, key: string) => {\r\n        const val: string = e.target.value;\r\n        if (readOnly || (palette[prefix] as any)[key] === val) return;\r\n        let tmp: Dictionary<string, StringControl> = {...palette} as any;\r\n        (tmp[prefix] as any)[key] = val;\r\n        view.palette = palette = tmp; }\r\n    const setText = (e: React.FocusEvent<HTMLInputElement | HTMLSelectElement>, prefix: string) => {\r\n        const val: string = e.target.value;\r\n        if (readOnly || (palette[prefix] as StringControl).value === val) return;\r\n        let tmp: Dictionary<string, StringControl> = {...palette} as any;\r\n        tmp[prefix].value = val;\r\n        view.palette = palette = tmp; }\r\n    const setNumber = (e: React.FocusEvent<HTMLInputElement>, prefix: string) => {\r\n        const val: number = +e.target.value || 0;\r\n        if (readOnly || (palette[prefix] as NumberControl).value === val) return;\r\n        let tmp: Dictionary<string, NumberControl> = {...palette} as any;\r\n        tmp[prefix].value = val;\r\n        view.palette = palette = tmp; }\r\n    const setUnit = (e: React.FocusEvent<HTMLInputElement>, prefix: string) => {\r\n        const val: string = e.target.value === undefined ? 'px' : e.target.value;\r\n        if (readOnly || val === (palette[prefix] as NumberControl).unit) return;\r\n        let tmp: Dictionary<string, NumberControl> = {...palette} as any;\r\n        tmp[prefix].unit = val;\r\n        view.palette = palette = tmp; }\r\n    const changePrefix = (oldPrefix: string, newPrefix: string) => {\r\n        newPrefix = newPrefix.replaceAll(/[^\\w\\-]/g,'-'); // /^[^a-zA-Z0-9_\\-]*$/, '-');\r\n        if (readOnly || palette[newPrefix]) return; // refuse to overwrite existing palette name (2 different palettes with same name)\r\n        tmp = {...palette};\r\n        tmp[newPrefix] = palette[oldPrefix];\r\n        delete tmp[oldPrefix];\r\n        view.palette = palette = tmp;\r\n    }\r\n    const removeControl = (prefix: string) => {\r\n        if (readOnly || !palette[prefix]) return;\r\n        tmp = {...palette};\r\n        delete tmp[prefix];\r\n        view.palette = palette = tmp;\r\n    }\r\n\r\n    const addColor = (prefix: string, colors: Instance[] | Instance, index: number = -1, skipFirst: boolean = true) => {\r\n        if (readOnly) return;\r\n        if (!Array.isArray(colors)) {\r\n            colors = [colors as Instance];\r\n            skipFirst = false;\r\n        }\r\n        let tmp: Dictionary<string, PaletteControl> = {...palette} as GObject;\r\n        let lastAdded: tinycolor.ColorFormats.RGBA = undefined as any;\r\n        for (let i = colors.length-1; i >= (skipFirst ? 1 : 0); i--) {\r\n            let color: Instance = colors[i];\r\n            let rgba = color.toRgb();\r\n            console.log(\"addingColor:\", {rgba, lastAdded, color});\r\n            if (rgba === lastAdded) continue;\r\n            lastAdded = rgba;\r\n            if (!tmp[prefix]) tmp[prefix] = {type:'color', value:[]};\r\n            else tmp[prefix] = {...tmp[prefix]};\r\n            tmp[prefix].value = [...tmp[prefix].value];\r\n            if (index >= 0) tmp[prefix].value.splice(index + 1, 0, rgba);\r\n            else tmp[prefix].value.push(rgba);\r\n        }\r\n        view.palette = palette = tmp;\r\n    }\r\n\r\n    const setColor = (prefix: string, index: number, hex?: string, alpha?: number) => {\r\n        let tmp: Dictionary<string, PaletteControl> = {...palette} as any;\r\n        if (readOnly || !tmp[prefix]) tmp[prefix] = {type:'color', value:[]};\r\n        else tmp[prefix] = {...tmp[prefix]};\r\n        let oldColor = tmp[prefix].value[index];\r\n        if (hex) {\r\n            let color = tinycolor(hex);\r\n            if (alpha !== undefined) color.setAlpha(alpha);\r\n            let rgba = color.toRgb();\r\n            if (oldColor && oldColor.a !== undefined) rgba.a = oldColor.a;\r\n            tmp[prefix].value[index] = oldColor = rgba;\r\n            view.palette = palette = tmp;\r\n        }\r\n        if (alpha !== undefined) tmp[prefix].value[index] = {...oldColor, a:alpha};\r\n    }\r\n    const transparencyColor = (prefix: string, index: number, color: tinycolor.Instance, alpha: number) => {\r\n        if (readOnly || !palette[prefix]) return;\r\n        let tmp: Dictionary<string, PaletteControl> = {...palette} as any;\r\n        if (!alpha && alpha !== 0) alpha = 1;\r\n        tmp[prefix] = {...tmp[prefix]};\r\n        tmp[prefix].value = [...tmp[prefix].value];\r\n        tmp[prefix].value[index] = {...tmp[prefix].value[index]};\r\n        tmp[prefix].value[index].a = alpha;\r\n        color.setAlpha(alpha);\r\n        console.log(\"set transparency\", {color, tinycolor, oldcolor: tmp[prefix].value[index]});\r\n        view.palette = palette = tmp;\r\n    }\r\n    const removeColor = (prefix: string, index: number) => {\r\n        if (readOnly || !palette[prefix]) return;\r\n        let tmp: Dictionary<string, PaletteControl> = {...palette} as any;\r\n        tmp[prefix].value = [...tmp[prefix].value];\r\n        tmp[prefix].value = tmp[prefix].value.filter((c, i) => i !== index);\r\n        view.palette = palette = tmp;\r\n    }\r\n\r\n    const cssIsGlobal = view.cssIsGlobal;\r\n    let a: DropDownButton;\r\n    let dropDownButton: RefObject<DropDownButton> = {current: null};\r\n    function addcss(color: Instance): GObject {\r\n        let ret: GObject = {};\r\n        ret.background = color.toRgbString();\r\n        // ret.opacity = color.getAlpha();\r\n        return ret;\r\n    }\r\n    function invert(color: Instance, transformGrays: number = 0.2): string {\r\n        transformGrays = transformGrays * 128;\r\n        let {r, g, b, a} = color.toRgb();\r\n        r = Math.abs(r-128) <= transformGrays ? (r >= 128 ? 0 : 255) : 255 - r;\r\n        g = Math.abs(g-128) <= transformGrays ? (g >= 128 ? 0 : 255) : 255 - g;\r\n        b = Math.abs(b-128) <= transformGrays ? (b >= 128 ? 0 : 255) : 255 - b;\r\n        if (a || a === 0) a = 255 - a;\r\n        return (tinycolor({r, g, b, a})).toRgbString();\r\n    }\r\n    function style(c: Instance): GObject{\r\n        return {backgroundColor: c.toRgbString(), color:invert(c)};\r\n    }\r\n\r\n    let palettes = U.paletteSplit(palette);\r\n    function palettewrap(prefix: string, node: ReactNode): ReactNode{\r\n        return (\r\n            <div className=\"palette-row-container\">\r\n                {/* <button className=\"btn btn-danger me-1\" onClick={()=>removeControl(prefix)} disabled={readOnly}><i className=\"p-1 bi bi-trash3-fill\"/></button>*/}\r\n\r\n                {/* <CommandBar>\r\n                    <Btn icon={'delete'} size={'large'} action={()=>removeControl(prefix)} />\r\n        </CommandBar>*/}\r\n                <input className={\"prefix\"} style={{maxHeight: 'var(--input-height)', borderRadius: 'var(--radius)'}} placeholder={\"variable name\"} value={prefix} onChange={(e)=> changePrefix(prefix, e.target.value)} disabled={readOnly} />\r\n                {node}\r\n            </div>)\r\n    }\r\n    const vcss = view.css;\r\n\r\n    return(<section className={'p-3'}>\r\n        <div className={\"controls\"} style={{position:'relative', zIndex:2}}>\r\n            {Object.entries(palettes.color).map((entry, index, entries)=>{\r\n                let prefix = entry[0];\r\n                let paletteobj: PaletteControl = entry[1] as PaletteControl;\r\n                let colors: Instance[] = paletteobj.value.map(v=> tinycolor(v));\r\n                let suggestions = [tinycolor('#ffaaaa')]; // todo: compute according to current row \"colors\"\r\n                return palettewrap(prefix, <>\r\n                    <div className=\"palette-row\">\r\n                        <div className=\"color-container\" style={{maxHeight: 'var(--input-height)', borderRadius: 'var(--radius)'}}>{\r\n                            colors.map((color, i) => <Color key={prefix+i} readonly={readOnly}\r\n                                                            data={view} field={'palette'} canDelete={!readOnly}\r\n                                                            getter={()=>colors[i].toHexString()} setter={(newVal) => { setColor(prefix, i, newVal) }}\r\n                                                            style ={{background: 'white'}}\r\n                                                            inputStyle ={{opacity: color.getAlpha()}}\r\n                                                            childrenn={\r\n                                                                <div className={\"content suggestions\"} style={{backgroundColor: \"inherit\"}} onClick={(e) => {e.preventDefault(); e.stopPropagation();}}>\r\n                                                                    {(()=>{ return <>\r\n                                                                        <h6 title={\"Alter current color transparency\"}>Opacity</h6>\r\n                                                                        \r\n                                                                        <input style={{width: \"auto\", marginLeft:\"1em\", marginRight:\"1em\"}} type={\"range\"} min={0} max={1} step={\"any\"} value={color.getAlpha()} onChange={(e)=>{ transparencyColor(prefix, i, color, +e.target.value) }} />\r\n                                                                        \r\n                                                                        <h6 title={\"Add all the colors\"}>\r\n                                                                            <CommandBar style={{float: 'left', paddingRight: '8px'}}>\r\n                                                                                <Btn icon={'add'} size={'x-small'}  action={()=>addColor(prefix, color.analogous(7, 30/1.5), i)} theme={'dark'} />\r\n                                                                            </CommandBar>\r\n                                                                            Analogous\r\n                                                                        </h6>\r\n                                                                        \r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {color.analogous(7, 30/1.5).map((c,ii) => ii===0?undefined:\r\n                                                                                <button style={style(c)} onClick={(e)=>{addColor(prefix, c, i)}} className=\"btn color-suggestion\"><i style={style(c)} className=\"bi bi-plus-lg\"></i></button>\r\n                                                                            )}\r\n                                                                        </div>{/*\r\n                                    <h6 onClick={()=>addColor(prefix, color.monochromatic(7), i)} title={\"Add all the colors\"}>Monochromatic</h6>\r\n                                    <div className={\"roww\"}>\r\n                                        {color.monochromatic(7).map((c,ii) => ii===0?undefined: <button style={style(c)}\r\n                                                                                                        onClick={(e)=>{addColor(prefix, c, i)}} className=\"btn color-suggestion\">+</button>)}\r\n                                    </div>{/*[6/12, 5/12, 4/12, 3/12, 2/12, 1/12]*/}\r\n                                                                        <h6 title={\"Add all the colors\"}>\r\n                                                                            <CommandBar style={{float: 'left', paddingRight: '8px'}}>\r\n                                                                                <Btn icon={'add'} size={'x-small'} theme={'dark'} action={()=>addColor(prefix, [1/12, 2/12, 3/12, 4/12, 5/12, 6/12].map(n=>color.clone().lighten(n*100)), i, false)}/>\r\n                                                                            </CommandBar>\r\n                                                                            Lighten\r\n                                                                        </h6>\r\n                                                                        \r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {[1/12, 2/12, 3/12, 4/12, 5/12, 6/12].map(n=>color.clone().lighten(n*100))\r\n                                                                                .map((c,ii) => <button style={style(c)} className=\"btn color-suggestion\"\r\n                                                                                                       onClick={(e)=>{addColor(prefix, c, i)}}><i style={style(c)} className=\"bi bi-plus-lg\"></i></button>)}\r\n                                                                        </div>\r\n\r\n                                                                        <h6 title={\"Add all the colors\"}>\r\n                                                                            <CommandBar style={{float: 'left', paddingRight: '8px'}}>\r\n                                                                                <Btn icon={'add'} theme={'dark'} size={'x-small'} action={()=>addColor(prefix, [6/12, 5/12, 4/12, 3/12, 2/12, 1/12].map(n=>color.clone().darken(n*100)), i, false)}/>\r\n                                                                            </CommandBar>\r\n                                                                            Darken\r\n                                                                            \r\n                                                                        </h6>\r\n\r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {[6/12, 5/12, 4/12, 3/12, 2/12, 1/12].map(n=>color.clone().darken(n*100))\r\n                                                                                .map((c,ii) => <button style={style(c)} className=\"btn color-suggestion\"\r\n                                                                                                       onClick={(e)=>{addColor(prefix, c, i)}}><i style={style(c)} className=\"bi bi-plus-lg\"></i></button>)}\r\n                                                                        </div>\r\n                                                                        \r\n                                                                        <h6 title={\"Add all the colors\"}>\r\n                                                                            <CommandBar style={{float: 'left', paddingRight: '8px'}}>\r\n                                                                                <Btn icon={'add'} theme={'dark'} size={'x-small'} action={()=>addColor(prefix, [color.complement(), tinycolor(invert(color))], i, false)}/>\r\n                                                                            </CommandBar>\r\n                                                                            Complementary / Opposite\r\n                                                                        </h6>\r\n                                                                        \r\n                                                                        <div className={\"roww\"}>\r\n                                                                            <button style={style(color.complement())} className=\"btn color-suggestion\"\r\n                                                                                    onClick={(e)=>{addColor(prefix, color.complement(), i)}}><i style={style(color.complement())} className=\"bi bi-plus-lg\"></i></button>\r\n                                                                            <button style={style(color)} className=\"btn color-suggestion\"\r\n                                                                                    onClick={(e)=>{addColor(prefix, tinycolor(invert(color)), i)}}><i style={style(color)} className=\"bi bi-plus-lg\"></i></button>\r\n                                                                        </div>\r\n                                                                        \r\n                                                                        <h6 title={\"Add all the colors\"}>\r\n                                                                        <CommandBar style={{float: 'left', paddingRight: '8px'}}>\r\n                                                                            <Btn icon={'add'} theme={'dark'} size={'x-small'} action={()=>addColor(prefix, color.splitcomplement(), i)}/>\r\n                                                                        </CommandBar>\r\n                                                                        Split Complementary\r\n                                                                        </h6>\r\n                                                                        \r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {color.splitcomplement().map((c) => <button style={{...style(c)}} className=\"btn color-suggestion\"\r\n                                                                                                                        onClick={(e)=>{addColor(prefix, c, i)}}><i style={style(c)} className=\"bi bi-plus-lg\"></i></button>)}\r\n                                                                        </div>\r\n                                                                        \r\n                                                                        <h6 title={\"Add all the colors\"}>\r\n                                                                        <CommandBar style={{float: 'left', paddingRight: '8px'}}>\r\n                                                                                <Btn icon={'add'} theme={'dark'} size={'x-small'} action={()=>addColor(prefix, color.triad(), i)}/>\r\n                                                                            </CommandBar>\r\n                                                                            Triadic\r\n                                                                        </h6>\r\n                                                                        \r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {color.triad().map ( (c) => <button style={{...style(c)}} className=\"btn color-suggestion\"\r\n                                                                                                                onClick={(e)=>{addColor(prefix, c, i)}}><i style={style(c)} className=\"bi bi-plus-lg\"></i></button>)}\r\n                                                                        </div>\r\n                                                                        \r\n                                                                        <h6 title={\"Add all the colors\"}>\r\n                                                                        <CommandBar style={{float: 'left', paddingRight: '8px'}}>\r\n                                                                                <Btn icon={'add'} theme={'dark'} size={'x-small'} action={()=>addColor(prefix, color.tetrad(), i)}/>\r\n                                                                            </CommandBar>\r\n                                                                            Tetradic\r\n                                                                        </h6>\r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {color.tetrad().map ( (c) => <button style={{...style(c)}} className=\"btn color-suggestion\"\r\n                                                                                                                 onClick={(e)=>{addColor(prefix, c, i)}}><i style={style(c)} className=\"bi bi-plus-lg\"></i></button>)}\r\n                                                                        </div>\r\n                                                                    </>})()}\r\n                                                                    \r\n                                                                        {/* <CommandBar style={{marginTop: '20px', width: '100%'}}>\r\n                                                                            <Btn icon={'delete2'} theme={'dark'} action={()=>removeColor(prefix, i)} />\r\n                                                                    </CommandBar>*/ }\r\n\r\n                                                                    <button \r\n                                                                        className={'btn btn-danger content delete-color mt-2 jj-delete'} \r\n                                                                        onClick={()=>removeColor(prefix, i)} \r\n                                                                        disabled={readOnly}\r\n                                                                    >\r\n                                                                        <i className=\"bi p-1 bi-trash-fill\"/> Delete\r\n                                                                    </button>\r\n                                                                </div>\r\n                                                            }\r\n                            />)\r\n                        }\r\n                        </div>\r\n                        <div className=\"suggestion-container\">{\r\n                            suggestions.map((c, i) => <label className=\"p-1\">\r\n                                <CommandBar>\r\n                                    <Btn icon={'add'} tip={'Add color to palette'} action={() => addColor(prefix, c)} />\r\n                                    <Btn icon={'delete'} tip={'Remove color from palette'} action={()=>removeControl(prefix)} />\r\n                                </CommandBar>\r\n                                {/* <button className=\"btn color-suggestion\" style={style(c)} onClick={()=>{addColor(prefix, c)}} disabled={readOnly}>+</button>*/}\r\n                            </label>)\r\n                        }</div>\r\n                    </div>\r\n                </>); })\r\n            }\r\n            {Object.entries(palettes.path).map((entry, index, entries)=>{\r\n                    let prefix = entry[0];\r\n                    let path: PathControl = entry[1] as any;\r\n                    return palettewrap(prefix,\r\n                        <div className=\"palette-row path\" title={\"todo: proper tooltip.\\nedgeHeadSize is in the \\\"Options\\\" tab and determines the position of the head.\\nBasic math operators are allowed, but the minus and plus must have spaces around them or they will be traated as unary operators.\\nx and y are variables local to this path used to scale his shape.\"}>\r\n                            <div className={\"value hoverable\"}>\r\n                                <div className={\"d-flex w-100\"}>\r\n                                    <input className={\"value w-100 my-auto\"} placeholder={\"svg path [d]\"} defaultValue={path.value} key={path.value} onBlur={e => {setText(e as any, prefix)}} disabled={readOnly}\r\n                                           onKeyDown={e => {\r\n                                               if (e.key === Keystrokes.enter) setText(e as any, prefix);\r\n                                               if (e.key === Keystrokes.escape) (e.target as HTMLInputElement).value = path.value; }} />\r\n                                </div>\r\n                                <div className={\"content d-flex\"} style={{backgroundColor: 'whitesmoke'}}>\r\n                                    <input className={\"spacer w-100\"}/>\r\n                                    <label className={\"mx-auto\"}>x:&nbsp;<input className=\"x\" placeholder={\"x\"} defaultValue={path.x} disabled={readOnly} onChange={(e)=>setGeneric(e, prefix, \"x\")}/></label>\r\n                                    <label className={\"mx-auto\"}>y:&nbsp;<input className=\"y\" placeholder={\"y\"} defaultValue={path.y} disabled={readOnly} onChange={(e)=>setGeneric(e, prefix, \"y\")}/></label>\r\n                                </div>\r\n                            </div>\r\n                            <select value={path.value} disabled={readOnly} onChange={(e)=>setText(e as any, prefix)}>\r\n                                {[<option style={{fontStyle:'italic', color:'gray'}} value={\"\"}>Custom</option>, path.options.map((e)=>{\r\n                                let k = e.k;\r\n                                let v = e.v;\r\n                                return <option value={v}>{k}</option>\r\n                            })]}</select>\r\n                        </div>)\r\n                }\r\n            )}\r\n            {Object.entries(palettes.number).map((entry, index, entries)=>{\r\n                    let prefix = entry[0];\r\n                    let number: NumberControl = entry[1] as any;\r\n                    return palettewrap(prefix,\r\n                        <div className=\"palette-row numeric\">\r\n                            {makeNumericInput(prefix, number, setNumber, setText, readOnly)}\r\n                            <input className={\"unit\"} placeholder={\"unit\"} value={number.unit} pattern={CSS_Units.pattern} disabled={readOnly}\r\n                                   list={\"__jodel_CSS_units\"} onChange={e => {setUnit(e as any, prefix)}} />\r\n                        </div>)\r\n                }\r\n            )}\r\n            {Object.entries(palettes.text).map((entry, index, entries)=>{\r\n                    let prefix = entry[0];\r\n                    let string: StringControl = entry[1] as any;\r\n                    return palettewrap(prefix,\r\n                        <div className={\"palette-row textual\"}>\r\n                            <input className={\"value\"} placeholder={\"value\"} defaultValue={string.value} onBlur={e => {setText(e as any, prefix)}} disabled={readOnly}\r\n                                   onKeyDown={e => {\r\n                                       if (e.key === Keystrokes.enter) setText(e as any, prefix);\r\n                                       if (e.key === Keystrokes.escape) (e.target as HTMLInputElement).value = string.value; }} />\r\n                        </div>)\r\n                }\r\n            )}\r\n        </div>\r\n\r\n        <div className={\"w-100\"} style={{display: 'grid', gridTemplateColumns: 'repeat(10, 1fr)', position: 'relative', zIndex:1}}\r\n             onMouseEnter={(e)=>{ dropDownButton.current?.open()}}\r\n             onMouseLeave={(e)=>{ dropDownButton.current?.close()}}\r\n        >\r\n            <button className=\"btn btn-success\" style={{flexBasis:0, flexGrow:9, gridArea: '1 / 1 / 1 / 1', zIndex: 2, minWidth: 'calc(1000% - var(--smart-editor-addon-width))'}} onClick={()=>addControl('palette')}>+ Palette</button>\r\n            <DropDownButton ref={dropDownButton} style={{flexBasis:0, flexGrow:1, minWidth:0, gridArea: '1 / 1 / 1 / 11', zIndex:1, transform: 'scaleX(-1)'}}>\r\n                <div onClick={(e)=> dropDownButton.current?.close()} style={{transform: 'scaleX(-1)'}}>\r\n                    <button className={\"w-100 btn btn-outline-success\"} style={{height: 'var(--smart-editor-height)'}}\r\n                            onClick={()=>addControl('number')}>+ Number</button>\r\n                    <button className={\"w-100 btn btn-outline-success\"} style={{height: 'var(--smart-editor-height)'}}\r\n                            onClick={()=>addControl('text')}>+ Text</button>\r\n                    <button className={\"w-100 btn btn-outline-success\"} style={{height: 'var(--smart-editor-height)'}}\r\n                            onClick={()=>addControl('path')}>+ Path</button>\r\n                </div>\r\n            </DropDownButton>\r\n        </div>\r\n\r\n        <hr/>\r\n        <Input data={view} field={'cssIsGlobal'} type={\"checkbox\"} jsxLabel={\r\n            <span style={{width:'80%', display:'inline-block'}}>\r\n                {cssIsGlobal ? <b style={{color: 'inherit', fontWeight:'bold'}}>Global</b> : <b style={{color: 'inherit'}}>Local</b>}\r\n                {' CSS & LESS Editor '}\r\n                {cssIsGlobal ? <b style={{color: 'red', fontSize:'0.7em', fontWeight:'bold'}}>Use with caution</b> : ''}\r\n            </span>\r\n        } />\r\n        {/*<label className={'ms-1 mb-1'}>{view.cssIsGlobal ? 'Global' : 'Local'} CSS Editor</label>*/}\r\n        {vcss.indexOf('//') >= 0 && <b><span style={{color:'red'}}>Warning:</span> Inline comments // are not supported by our compiler.<br/>\r\n            Please replace them with /* block comments */</b>}\r\n\r\n            <div className={\"monaco-editor-wrapper\"} style={{\r\n            minHeight: '20ùpx', height:'200px'/*there is a bug of height 100% on childrens not working if parent have only minHeight*/,\r\n            resize: 'vertical', overflow:'hidden'}} onBlur={blur}>\r\n            <Editor className={'mx-1'}\r\n                    options={{fontSize: 12, scrollbar: {vertical: 'hidden', horizontalScrollbarSize: 5}, minimap: {enabled: false}, readOnly: readOnly}}\r\n                    defaultLanguage={'less'} value={vcss} onChange={change}/>\r\n        </div>\r\n        <div className={\"debug\"}><div style={{whiteSpace:'pre'}}>{view.compiled_css}</div></div>\r\n        {/*<textarea>\r\n            '[data-viewid=\"'+view.id+'\"]{\\n' +\r\n            Object.entries(palette).flatMap((entry, index, entries)=>{\r\n                let prefix = entry[0];\r\n                let colors = entry[1];\r\n                return colors.map((color, i)=> \"\\t--\" + prefix + i + \": \" + color + \";\\n\");\r\n            }).join('')+'\\n' + (cssISGlobal ? '}\\n' : '\\n') +\r\n            '/ *** custom css area *** /\\n' + view.css + (!cssISGlobal ? '}\\n' : '\\n')\r\n            view.css\r\n        </textarea>*/}\r\n        {\r\n            // todo: if row have only 1 color can be accessed both as palette prefix-1 or as palett prefix without number, so i can name colors.\r\n        }\r\n\r\n    </section>);\r\n}\r\n\r\ninterface OwnProps {viewID: Pointer<DViewElement, 1, 1, LViewElement>, readonly: boolean}\r\ninterface StateProps {view: LViewElement}\r\ninterface DispatchProps { }\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const view = LViewElement.fromPointer(ownProps.viewID);\r\n    return {view};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\n\r\nexport const PaletteDataConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(PaletteDataComponent);\r\n\r\nexport const PaletteData = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <PaletteDataConnected {...{...props, children}} />;\r\n}\r\nexport default PaletteData;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}