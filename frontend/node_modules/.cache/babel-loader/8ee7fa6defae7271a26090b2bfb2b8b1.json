{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\pages\\\\components\\\\popups\\\\Model.tsx\",\n  _s = $RefreshSig$();\nimport { DModel, LModel } from '../../../joiner';\nimport TabDataMaker from '../../../components/abstract/tabs/TabDataMaker';\nimport DockManager from '../../../components/abstract/DockManager';\nimport './style.scss';\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ModelPopup(props) {\n  _s();\n  const {\n    metamodels,\n    project,\n    setClicked\n  } = props;\n  const [name, setName] = useState('');\n  const [metamodel, setMetamodel] = useState('');\n  const createM1 = async () => {\n    const dModel = DModel.new(name, metamodel, false, true);\n    const lModel = LModel.fromD(dModel);\n    project.models = [...project.models, lModel];\n    project.graphs = [...project.graphs, lModel.node];\n    const tab = TabDataMaker.model(dModel);\n    await DockManager.open('models', tab);\n    setClicked('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'popup-container',\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'popup',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'close-container',\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          onClick: e => setClicked(''),\n          className: 'bi bi-x-lg text-danger close'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: 'px-3',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'input-container',\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            className: 'me-2',\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: 'input',\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'input-container',\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            className: 'me-2',\n            children: \"Metamodel:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: 'select',\n            onChange: e => setMetamodel(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: '',\n              children: \"----------\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 25\n            }, this), metamodels.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: m.id,\n              children: m.name\n            }, m.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 46\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: createM1,\n          disabled: !name || !metamodel,\n          className: 'btn btn-success d-block w-100 mt-3',\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 12\n  }, this);\n}\n_s(ModelPopup, \"XyprTpfbH2ZQT15oMEuEJX0ZC/k=\");\n_c = ModelPopup;\nexport { ModelPopup };\nvar _c;\n$RefreshReg$(_c, \"ModelPopup\");","map":{"version":3,"names":["DModel","LModel","TabDataMaker","DockManager","React","useState","jsxDEV","_jsxDEV","ModelPopup","props","_s","metamodels","project","setClicked","name","setName","metamodel","setMetamodel","createM1","dModel","new","lModel","fromD","models","graphs","node","tab","model","open","className","children","onClick","e","fileName","_jsxFileName","lineNumber","columnNumber","onChange","target","value","map","m","id","disabled","_c","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/pages/components/popups/Model.tsx"],"sourcesContent":["import {DModel, Input, LGraph, LModel, LPackage, LProject, Pointer, Selectors, U} from '../../../joiner';\r\nimport TabDataMaker from '../../../components/abstract/tabs/TabDataMaker';\r\nimport DockManager from '../../../components/abstract/DockManager';\r\nimport './style.scss';\r\nimport React, {Dispatch, SetStateAction, useState} from 'react';\r\n\r\ntype Props = {metamodels: LModel[], project: LProject, setClicked: Dispatch<SetStateAction<string>>};\r\nfunction ModelPopup(props: Props): JSX.Element {\r\n    const {metamodels, project, setClicked} = props;\r\n    const [name, setName] = useState('');\r\n    const [metamodel, setMetamodel] = useState<Pointer>('');\r\n\r\n    const createM1 = async() => {\r\n        const dModel: DModel = DModel.new(name, metamodel as Pointer<DModel, 1, 1, LModel>, false, true);\r\n        const lModel: LModel = LModel.fromD(dModel);\r\n        project.models = [...project.models, lModel];\r\n        project.graphs = [...project.graphs, lModel.node as LGraph];\r\n        const tab = TabDataMaker.model(dModel);\r\n        await DockManager.open('models', tab);\r\n        setClicked('');\r\n    }\r\n\r\n    return(<div className={'popup-container'}>\r\n        <div className={'popup'}>\r\n            <div className={'close-container'}>\r\n                <i onClick={e => setClicked('')} className={'bi bi-x-lg text-danger close'} />\r\n            </div>\r\n            <section className={'px-3'}>\r\n                <div className={'input-container'}>\r\n                    <b className={'me-2'}>Name:</b>\r\n                    <input className={'input'} onChange={e => setName(e.target.value)} />\r\n                </div>\r\n                <div className={'input-container'}>\r\n                    <b className={'me-2'}>Metamodel:</b>\r\n                    <select className={'select'} onChange={e => setMetamodel(e.target.value)}>\r\n                        <option value={''}>----------</option>\r\n                        {metamodels.map(m => <option key={m.id} value={m.id}>{m.name}</option>)}\r\n                    </select>\r\n                </div>\r\n                <button onClick={createM1} disabled={!name || !metamodel} className={'btn btn-success d-block w-100 mt-3'}>\r\n                        Create\r\n                </button>\r\n            </section>\r\n        </div>\r\n    </div>);\r\n}\r\n\r\nexport {ModelPopup};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}