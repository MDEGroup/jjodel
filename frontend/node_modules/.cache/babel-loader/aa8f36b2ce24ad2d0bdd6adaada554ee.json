{"ast":null,"code":"import React,{useState}from\"react\";import'./commandbar.scss';import{Tooltip}from\"../forEndUser/Tooltip\";import{U}from\"../../joiner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const Btn=props=>{const[askingConfirm,setConfirm]=useState(false);const mode=props.mode?props.mode:'normal';let needConfirm=props.needConfirm||props.icon==='delete'&&!props.disabled;let i_classes=(props.className||'')+\" bi tab-btn commandbar-btn \".concat(askingConfirm?'bi-question-square-fill question':props.icon,\" \").concat(props.theme?props.theme:'light',\" \").concat(props.size||'',\" \").concat(mode,\" \").concat(props.disabled?'disabled ':'');let action=e=>{console.log('commandbar action',{disabled:props.disabled,action:props.action,askingConfirm,needConfirm});if(props.disabled||!props.action)return;if(!askingConfirm&&needConfirm){setConfirm(true);U.clickedOutside(e,()=>{console.log('clicked outside remove confirm');setConfirm(false);});return;}props.action(e);e.stopPropagation();};let icon=null;switch(props.icon){case'delete2':icon=/*#__PURE__*/_jsx(\"div\",{className:\"delete2 \".concat(props.theme?props.theme:'light'),children:\"Delete\"});break;case'delete':icon=/*#__PURE__*/_jsx(Tooltip,{tooltip:askingConfirm?'Are you sure?':props.tip,inline:true,position:'top',offsetY:10,children:/*#__PURE__*/_jsx(\"i\",{onClick:action,style:props.style,className:i_classes})});break;default:icon=/*#__PURE__*/_jsx(Tooltip,{tooltip:props.tip,inline:true,position:'top',offsetY:10,children:/*#__PURE__*/_jsx(\"i\",{className:i_classes,onClick:action,style:props.style})});break;}if(props.icon===\"space\"||props.icon===\"minispace\")return/*#__PURE__*/_jsx(\"span\",{style:{display:'block',width:\"\".concat(props.icon==='space'?'24px':'4px')}});return/*#__PURE__*/_jsx(\"div\",{className:'btn-component '+(props.active?'active':''),children:icon});};export const Sep=style=>{return/*#__PURE__*/_jsx(_Fragment,{children:style?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:'tab-btn sep'})}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:'tab-btn sep',style:style})})});};export const CommandBar=props=>{let style=props.style;let noBorder=props.noBorder?props.noBorder:false;return/*#__PURE__*/_jsx(_Fragment,{children:props.style?/*#__PURE__*/_jsx(\"div\",{className:\"command-bar \".concat(props.className&&props.className,\" \").concat(noBorder&&'no-border'),style:props.style,children:props.children}):/*#__PURE__*/_jsx(\"div\",{className:\"command-bar \".concat(props.className&&props.className,\" \").concat(noBorder&&'no-border'),children:props.children})});};","map":{"version":3,"names":["React","useState","Tooltip","U","jsx","_jsx","Fragment","_Fragment","Btn","props","askingConfirm","setConfirm","mode","needConfirm","icon","disabled","i_classes","className","concat","theme","size","action","e","console","log","clickedOutside","stopPropagation","children","tooltip","tip","inline","position","offsetY","onClick","style","display","width","active","Sep","CommandBar","noBorder"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/components/commandbar/CommandBar.tsx"],"sourcesContent":["import React, {MouseEventHandler, ClassAttributes, useState, useRef, useEffect, ReactElement, ReactNode} from \"react\";\r\nimport './commandbar.scss';\r\nimport { inherits } from \"util\";\r\nimport { Tooltip } from \"../forEndUser/Tooltip\";\r\nimport { U } from \"../../joiner\";\r\n\r\ntype BtnProps = {\r\n    disabled?: boolean;\r\n    active?: boolean;\r\n    icon: \"up\"\r\n        | \"down\"\r\n        | \"back\"\r\n        | \"fwd\"\r\n        | \"add\"\r\n        | \"add2\"\r\n        | \"delete\"\r\n        | \"delete2\"\r\n        | \"open\"\r\n        | \"edit\"\r\n        | \"favorite\"\r\n        | \"shrink\"\r\n        | \"expand\"\r\n        | \"space\"\r\n        | \"minispace\"\r\n        | \"sep\"\r\n        | \"check\"\r\n        | \"copy\"\r\n        | \"close\"\r\n        | \"info\"\r\n        | \"show\"\r\n        | \"open-down\"\r\n        | \"close-up\"\r\n        | \"settings\"\r\n        | \"download\";\r\n\r\n    tip?: string | ReactNode;\r\n    label?: string;\r\n    theme?: \"dark\" | \"light\",\r\n    action?: MouseEventHandler,\r\n    size?: \"x-small\" | \"small\" | \"medium\" | \"large\",\r\n    style?: React.CSSProperties,\r\n    mode?: 'normal' | 'negative'\r\n    className?: string;\r\n    needConfirm?:boolean;\r\n}\r\n\r\n\r\nexport const Btn = (props: BtnProps) => {\r\n    const [askingConfirm, setConfirm] = useState(false);\r\n    const mode = (props.mode ? props.mode : 'normal');\r\n    let needConfirm = props.needConfirm || props.icon === 'delete' && !props.disabled;\r\n    let i_classes = (props.className||'') + ` bi tab-btn commandbar-btn ${askingConfirm ? 'bi-question-square-fill question': props.icon} ${props.theme ? props.theme : 'light'} ${props.size||''} ${mode} ${props.disabled ? 'disabled ' : ''}`\r\n    let action = (e: React.MouseEvent<any,any>) => {\r\n        console.log('commandbar action', {disabled: props.disabled, action:props.action, askingConfirm, needConfirm});\r\n        if (props.disabled || !props.action) return;\r\n        if (!askingConfirm && needConfirm) {\r\n            setConfirm(true);\r\n            U.clickedOutside(e, ()=> {\r\n                console.log('clicked outside remove confirm');\r\n                setConfirm(false)\r\n            });\r\n            return;\r\n        }\r\n        props.action(e);\r\n        e.stopPropagation();\r\n    }\r\n    let icon: ReactNode = null;\r\n\r\n    switch (props.icon){\r\n        case 'delete2':\r\n            icon = <div className={`delete2 ${props.theme ? props.theme : 'light'}`}>Delete</div>; break;\r\n\r\n        case 'delete':\r\n            icon = <Tooltip tooltip={askingConfirm ? 'Are you sure?' : props.tip} inline={true} position={'top'} offsetY={10} >\r\n                <i onClick={action} style={props.style} className={i_classes} />\r\n            </Tooltip>; break;\r\n\r\n        default:\r\n            icon = <Tooltip tooltip={props.tip} inline={true} position={'top'} offsetY={10}>\r\n                <i className={i_classes} onClick={action} style={props.style}/>\r\n            </Tooltip>; break;\r\n    }\r\n\r\n    if (props.icon === \"space\" || props.icon === \"minispace\") return <span style={{display: 'block', width: `${props.icon === 'space' ? '24px' : '4px'}`}} />;\r\n    return <div className={'btn-component '+(props.active ? 'active' : '')}>{icon}</div>;\r\n}\r\n\r\n\r\n\r\nexport const Sep = (style?: any) => {\r\n\r\n    return (<>\r\n            {style ?\r\n                <div>\r\n                    <div className={'tab-btn sep'}></div>\r\n                </div>\r\n            :\r\n                <div>\r\n                    <div className={'tab-btn sep'} style={style}></div>\r\n                </div>\r\n            }\r\n\r\n    </>);\r\n}\r\n\r\n\r\ntype CommandProps = {\r\n    children: any,\r\n    style?: React.CSSProperties,\r\n    className?: string,\r\n    noBorder?: boolean;\r\n}\r\n\r\nexport const CommandBar = (props: CommandProps) => {\r\n\r\n    let style = props.style;\r\n\r\n    let noBorder = (props.noBorder ? props.noBorder: false);\r\n\r\n    return(<>\r\n        {props.style ?\r\n            <div className={`command-bar ${props.className && props.className} ${noBorder && 'no-border'}`} style={props.style}>\r\n                {props.children}\r\n            </div>\r\n            :\r\n            <div className={`command-bar ${props.className && props.className} ${noBorder && 'no-border'}`} >\r\n                {props.children}\r\n            </div>\r\n        }\r\n\r\n    </>);\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}