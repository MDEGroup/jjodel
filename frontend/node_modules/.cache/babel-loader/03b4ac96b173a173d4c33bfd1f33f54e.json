{"ast":null,"code":"var _jsxFileName = \"C:\\\\0Programmi\\\\Dev\\\\projects\\\\frontend\\\\jjodel\\\\src\\\\pages\\\\AllProjects.tsx\",\n  _this = this;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { LProject, Try, U } from '../joiner';\nimport { Dashboard, Project } from './components';\nimport Storage from \"../data/storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AllProjectsComponent(props) {\n  const {\n    projects\n  } = props;\n  const reader = new FileReader();\n  reader.onload = async e => {\n    var _e$target;\n    /* Import Project File */\n    const content = String((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result);\n    if (!content) return;\n    try {\n      const project = JSON.parse(content);\n      const projects = Storage.read('projects') || [];\n      const filtered = projects.filter(p => p.id !== project.id);\n      filtered.push(project);\n      Storage.write('projects', filtered);\n      U.refresh();\n    } catch (e) {\n      alert('Invalid File.');\n    }\n  };\n  const importProject = async e => {\n    const files = e.target.files || [];\n    if (!files.length) return;\n    const file = files[0];\n    reader.readAsText(file);\n  };\n  return /*#__PURE__*/_jsxDEV(Try, {\n    children: /*#__PURE__*/_jsxDEV(Dashboard, {\n      active: 'All',\n      version: props.version,\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'ms-2 p-1 bg-primary w-25 rounded me-auto',\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            className: 'd-block text-center text-gray',\n            children: \"Do you want to import a project?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: 'form-control w-100',\n            type: 'file',\n            onChange: async e => await importProject(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: projects.length > 0 ? 'flex' : 'none',\n            overflow: 'scroll'\n          },\n          className: 'flex-wrap',\n          children: projects.map(p => /*#__PURE__*/_jsxDEV(Project, {\n            data: p\n          }, p.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 40\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 12\n  }, this);\n}\n_c = AllProjectsComponent;\nfunction mapStateToProps(state, ownProps) {\n  const ret = {};\n  ret.projects = LProject.fromArr(state.projects);\n  ret.version = state.version;\n  return ret;\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nconst AllProjectsConnected = connect(mapStateToProps, mapDispatchToProps)(AllProjectsComponent);\nconst AllProjectsPage = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(AllProjectsConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 12\n  }, _this);\n};\n_c2 = AllProjectsPage;\nexport { AllProjectsPage };\nvar _c, _c2;\n$RefreshReg$(_c, \"AllProjectsComponent\");\n$RefreshReg$(_c2, \"AllProjectsPage\");","map":{"version":3,"names":["React","connect","LProject","Try","U","Dashboard","Project","Storage","jsxDEV","_jsxDEV","AllProjectsComponent","props","projects","reader","FileReader","onload","e","_e$target","content","String","target","result","project","JSON","parse","read","filtered","filter","p","id","push","write","refresh","alert","importProject","files","length","file","readAsText","children","active","version","className","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","style","display","overflow","map","data","_c","mapStateToProps","state","ownProps","ret","fromArr","mapDispatchToProps","dispatch","AllProjectsConnected","AllProjectsPage","arguments","undefined","_this","_c2","$RefreshReg$"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/pages/AllProjects.tsx"],"sourcesContent":["import React, {ChangeEvent, Component, Dispatch, ReactElement} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {DProject, DState, LProject, Try, U} from '../joiner';\r\nimport {FakeStateProps} from '../joiner/types';\r\nimport {Dashboard, Project} from './components';\r\nimport Storage from \"../data/storage\";\r\n\r\n\r\nfunction AllProjectsComponent(props: AllProps): JSX.Element {\r\n    const {projects} = props;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = async e => {\r\n        /* Import Project File */\r\n        const content = String(e.target?.result);\r\n        if(!content) return;\r\n        try {\r\n            const project = JSON.parse(content) as DProject;\r\n            const projects = Storage.read<DProject[]>('projects') || [];\r\n            const filtered = projects.filter(p => p.id !== project.id);\r\n            filtered.push(project);\r\n            Storage.write('projects', filtered);\r\n            U.refresh();\r\n        } catch (e) {alert('Invalid File.')}\r\n    }\r\n    const importProject = async(e: ChangeEvent<HTMLInputElement>) => {\r\n        const files = e.target.files || [];\r\n        if(!files.length) return;\r\n        const file = files[0];\r\n        reader.readAsText(file);\r\n    }\r\n\r\n    return(<Try>\r\n        <Dashboard active={'All'} version={props.version}>\r\n            <section>\r\n                <div className={'ms-2 p-1 bg-primary w-25 rounded me-auto'}>\r\n                    <b className={'d-block text-center text-gray'}>Do you want to import a project?</b>\r\n                    <input className={'form-control w-100'} type={'file'} onChange={async e => await importProject(e)} />\r\n                </div>\r\n                <div style={{display: (projects.length > 0) ? 'flex' : 'none', overflow: 'scroll'}} className={'flex-wrap'}>\r\n                    {projects.map(p => <Project key={p.id} data={p} />)}\r\n                </div>\r\n            </section>\r\n        </Dashboard>\r\n    </Try>);\r\n}\r\n\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    projects: LProject[];\r\n    version: DState[\"version\"];\r\n}\r\ninterface DispatchProps {}\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    ret.projects = LProject.fromArr(state.projects);\r\n    ret.version = state.version;\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\nconst AllProjectsConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(AllProjectsComponent);\r\n\r\nconst AllProjectsPage = (props: OwnProps, children: (string | Component)[] = []): ReactElement => {\r\n    return <AllProjectsConnected {...{...props, children}} />;\r\n}\r\n\r\nexport {AllProjectsPage};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}