{"ast":null,"code":"export class GestureState {\n  constructor(event, component) {\n    let init = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    this.dx1 = 0;\n    this.dy1 = 0;\n    this.dx2 = 0;\n    this.dy2 = 0;\n    this.scale = 1;\n    this.rotate = 0;\n    this.dx = 0;\n    this.dy = 0;\n    this.event = event;\n    this.component = component;\n    this._init = init;\n    if (event) {\n      if (event.touches.length === 2) {\n        let touch1 = event.touches[0];\n        let touch2 = event.touches[1];\n        this.dx1 = (touch1.pageX - component.baseX) * component.scaleX;\n        this.dy1 = (touch1.pageY - component.baseY) * component.scaleY;\n        this.dx2 = (touch2.pageX - component.baseX2) * component.scaleX;\n        this.dy2 = (touch2.pageY - component.baseY2) * component.scaleY;\n        if (this.dx1 * this.dx2 >= 0) {\n          this.dx = (this.dx1 + this.dx2) / 2;\n        }\n        if (this.dy1 * this.dy2 >= 0) {\n          this.dy = (this.dy1 + this.dy2) / 2;\n        }\n        this.scale = Math.sqrt(Math.pow(touch2.pageX - touch1.pageX, 2) + Math.pow(touch2.pageY - touch1.pageY, 2)) / component.baseDis;\n        this.rotate = Math.atan2(touch2.pageY - touch1.pageY, touch2.pageX - touch1.pageX) - component.baseAng;\n        if (this.rotate > Math.PI) {\n          this.rotate -= Math.PI * 2;\n        } else if (this.rotate < -Math.PI) {\n          this.rotate += Math.PI * 2;\n        }\n      }\n    }\n  }\n  moved() {\n    return Math.max(Math.abs(this.dx1), Math.abs(this.dx2), Math.abs(this.dy1), Math.abs(this.dy2));\n  }\n  pageCenter() {\n    let touch1 = this.event.touches[0];\n    let touch2 = this.event.touches[1];\n    return [(touch1.pageX + touch2.pageX) / 2, (touch1.pageY + touch2.pageY) / 2];\n  }\n  clientCenter() {\n    let touch1 = this.event.touches[0];\n    let touch2 = this.event.touches[1];\n    return [(touch1.clientX + touch2.clientX) / 2, (touch1.clientY + touch2.clientY) / 2];\n  }\n}","map":{"version":3,"names":["GestureState","constructor","event","component","init","arguments","length","undefined","dx1","dy1","dx2","dy2","scale","rotate","dx","dy","_init","touches","touch1","touch2","pageX","baseX","scaleX","pageY","baseY","scaleY","baseX2","baseY2","Math","sqrt","pow","baseDis","atan2","baseAng","PI","moved","max","abs","pageCenter","clientCenter","clientX","clientY"],"sources":["C:/d/Programming/web/jodel-mde/node_modules/rc-dock/es/dragdrop/GestureManager.js"],"sourcesContent":["export class GestureState {\n    constructor(event, component, init = false) {\n        this.dx1 = 0;\n        this.dy1 = 0;\n        this.dx2 = 0;\n        this.dy2 = 0;\n        this.scale = 1;\n        this.rotate = 0;\n        this.dx = 0;\n        this.dy = 0;\n        this.event = event;\n        this.component = component;\n        this._init = init;\n        if (event) {\n            if (event.touches.length === 2) {\n                let touch1 = event.touches[0];\n                let touch2 = event.touches[1];\n                this.dx1 = (touch1.pageX - component.baseX) * component.scaleX;\n                this.dy1 = (touch1.pageY - component.baseY) * component.scaleY;\n                this.dx2 = (touch2.pageX - component.baseX2) * component.scaleX;\n                this.dy2 = (touch2.pageY - component.baseY2) * component.scaleY;\n                if (this.dx1 * this.dx2 >= 0) {\n                    this.dx = (this.dx1 + this.dx2) / 2;\n                }\n                if (this.dy1 * this.dy2 >= 0) {\n                    this.dy = (this.dy1 + this.dy2) / 2;\n                }\n                this.scale = Math.sqrt(Math.pow(touch2.pageX - touch1.pageX, 2) + Math.pow(touch2.pageY - touch1.pageY, 2)) / component.baseDis;\n                this.rotate = Math.atan2(touch2.pageY - touch1.pageY, touch2.pageX - touch1.pageX) - component.baseAng;\n                if (this.rotate > Math.PI) {\n                    this.rotate -= Math.PI * 2;\n                }\n                else if (this.rotate < -Math.PI) {\n                    this.rotate += Math.PI * 2;\n                }\n            }\n        }\n    }\n    moved() {\n        return Math.max(Math.abs(this.dx1), Math.abs(this.dx2), Math.abs(this.dy1), Math.abs(this.dy2));\n    }\n    pageCenter() {\n        let touch1 = this.event.touches[0];\n        let touch2 = this.event.touches[1];\n        return [(touch1.pageX + touch2.pageX) / 2, (touch1.pageY + touch2.pageY) / 2];\n    }\n    clientCenter() {\n        let touch1 = this.event.touches[0];\n        let touch2 = this.event.touches[1];\n        return [(touch1.clientX + touch2.clientX) / 2, (touch1.clientY + touch2.clientY) / 2];\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}