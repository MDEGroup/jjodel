{"ast":null,"code":"import Axios from'axios';import Storage from\"./storage\";class Api{static headers(){return{'auth-token':Storage.read('token')||''};}static async get(path){try{const response=await Axios.get(path,{headers:this.headers()});return{code:response.status,data:response.data};}catch(e){return{code:400,data:null};}}static async post(path,obj){try{const response=await Axios.post(path,obj,{headers:this.headers()});return{code:response.status,data:response.data};}catch(e){return{code:400,data:null};}}static async patch(path,obj){try{const response=await Axios.patch(path,obj,{headers:this.headers()});return{code:response.status,data:response.data};}catch(e){return{code:400,data:null};}}static async delete(path){try{const response=await Axios.delete(path,{headers:this.headers()});return{code:response.status,data:response.data};}catch(e){return{code:400,data:null};}}}Api.persistance=\"\".concat(process.env['REACT_APP_PERSISTANCE'],\"/persistance\");Api.memorec=\"\".concat(process.env['REACT_APP_MEMOREC'],\"/memorec\");export default Api;","map":{"version":3,"names":["Axios","Storage","Api","headers","read","get","path","response","code","status","data","e","post","obj","patch","delete","persistance","concat","process","env","memorec"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/data/api.ts"],"sourcesContent":["import Axios from 'axios';\r\nimport {Json} from '../joiner';\r\nimport Storage from \"./storage\";\r\nimport Settings from \"../settings/Settings\";\r\n\r\nexport type Response = {code: number, data: Json|null}\r\nclass Api {\r\n    static persistance = `${process.env['REACT_APP_PERSISTANCE']}/persistance`;\r\n    static memorec = `${process.env['REACT_APP_MEMOREC']}/memorec`;\r\n\r\n    private static headers(): {'auth-token': string} {\r\n        return {'auth-token': Storage.read('token') || ''};\r\n    }\r\n    static async get(path: string): Promise<Response> {\r\n        try {\r\n            const response = await Axios.get(path, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async post(path: string, obj: Json): Promise<Response> {\r\n        try {\r\n            const response = await Axios.post(path, obj, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async patch(path: string, obj: Json): Promise<Response> {\r\n        try {\r\n            const response = await Axios.patch(path, obj, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async delete(path: string): Promise<Response> {\r\n        try {\r\n            const response = await Axios.delete(path, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n}\r\n\r\nexport default Api;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,CAAAC,OAAO,KAAM,WAAW,CAI/B,KAAM,CAAAC,GAAI,CAIN,MAAe,CAAAC,OAAOA,CAAA,CAA2B,CAC7C,MAAO,CAAC,YAAY,CAAEF,OAAO,CAACG,IAAI,CAAC,OAAO,CAAC,EAAI,EAAE,CAAC,CACtD,CACA,YAAa,CAAAC,GAAGA,CAACC,IAAY,CAAqB,CAC9C,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACK,GAAG,CAACC,IAAI,CAAE,CAACH,OAAO,CAAE,IAAI,CAACA,OAAO,CAAC,CAAC,CAAC,CAAC,CACjE,MAAO,CAACK,IAAI,CAAED,QAAQ,CAACE,MAAM,CAAEC,IAAI,CAAEH,QAAQ,CAACG,IAAI,CAAC,CACvD,CAAE,MAAOC,CAAC,CAAE,CACR,MAAO,CAACH,IAAI,CAAE,GAAG,CAAEE,IAAI,CAAE,IAAI,CAAC,CAClC,CACJ,CACA,YAAa,CAAAE,IAAIA,CAACN,IAAY,CAAEO,GAAS,CAAqB,CAC1D,GAAI,CACA,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACY,IAAI,CAACN,IAAI,CAAEO,GAAG,CAAE,CAACV,OAAO,CAAE,IAAI,CAACA,OAAO,CAAC,CAAC,CAAC,CAAC,CACvE,MAAO,CAACK,IAAI,CAAED,QAAQ,CAACE,MAAM,CAAEC,IAAI,CAAEH,QAAQ,CAACG,IAAI,CAAC,CACvD,CAAE,MAAOC,CAAC,CAAE,CACR,MAAO,CAACH,IAAI,CAAE,GAAG,CAAEE,IAAI,CAAE,IAAI,CAAC,CAClC,CACJ,CACA,YAAa,CAAAI,KAAKA,CAACR,IAAY,CAAEO,GAAS,CAAqB,CAC3D,GAAI,CACA,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACc,KAAK,CAACR,IAAI,CAAEO,GAAG,CAAE,CAACV,OAAO,CAAE,IAAI,CAACA,OAAO,CAAC,CAAC,CAAC,CAAC,CACxE,MAAO,CAACK,IAAI,CAAED,QAAQ,CAACE,MAAM,CAAEC,IAAI,CAAEH,QAAQ,CAACG,IAAI,CAAC,CACvD,CAAE,MAAOC,CAAC,CAAE,CACR,MAAO,CAACH,IAAI,CAAE,GAAG,CAAEE,IAAI,CAAE,IAAI,CAAC,CAClC,CACJ,CACA,YAAa,CAAAK,MAAMA,CAACT,IAAY,CAAqB,CACjD,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACe,MAAM,CAACT,IAAI,CAAE,CAACH,OAAO,CAAE,IAAI,CAACA,OAAO,CAAC,CAAC,CAAC,CAAC,CACpE,MAAO,CAACK,IAAI,CAAED,QAAQ,CAACE,MAAM,CAAEC,IAAI,CAAEH,QAAQ,CAACG,IAAI,CAAC,CACvD,CAAE,MAAOC,CAAC,CAAE,CACR,MAAO,CAACH,IAAI,CAAE,GAAG,CAAEE,IAAI,CAAE,IAAI,CAAC,CAClC,CACJ,CACJ,CAvCMR,GAAG,CACEc,WAAW,IAAAC,MAAA,CAAMC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC,iBAD1DjB,GAAG,CAEEkB,OAAO,IAAAH,MAAA,CAAMC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,aAuCxD,cAAe,CAAAjB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}