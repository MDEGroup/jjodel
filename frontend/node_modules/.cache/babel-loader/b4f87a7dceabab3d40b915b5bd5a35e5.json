{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\rightbar\\\\viewsEditor\\\\data\\\\PaletteData.tsx\",\n  _s = $RefreshSig$(),\n  _this = this;\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { useStateIfMounted } from \"use-state-if-mounted\";\nimport tinycolor from \"tinycolor2\";\nimport Editor from \"@monaco-editor/react\";\nimport DropDownButton from \"smart-webcomponents-react/dropdownbutton\";\nimport 'smart-webcomponents-react/source/styles/smart.default.css';\nimport { EdgeHead, Input, Keystrokes, Log, LViewElement, U } from '../../../../joiner';\nimport { Color } from '../../../forEndUser/Color';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction makeNumericInput(prefix, number, setNumber, setText, readOnly) {\n  let type;\n  let min;\n  let max;\n  let step = undefined;\n  switch (number.unit) {\n    case '':\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"value\",\n        placeholder: \"value\",\n        type: \"text\",\n        defaultValue: number.value,\n        onBlur: e => setText(e, prefix),\n        disabled: readOnly,\n        onKeyDown: e => {\n          if (e.key === Keystrokes.enter) setText(e, prefix);\n          if (e.key === Keystrokes.escape) e.target.value = '' + number.value;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 25\n      }, this);\n    case 'px':\n      min = 0;\n      max = 300;\n      break;\n    case 'pt':\n      break;\n    // 1pt = 1.33 px; 1px = 0.75pt\n    case 'cm':\n    case 'mm':\n      min = 0;\n      max = 200;\n      break;\n    // 1mm = 3.7px\n    case 'ch':\n    case 'ex':\n    case 'em':\n    case 'rem':\n    case 'in': // 1in = 96px\n    case 'pc': // 2px = 0.125 picas; 18.75pc = 300px\n    case 'fr':\n      min = 0;\n      max = 20;\n      step = 0.5;\n      break;\n    default:\n      type = \"number\";\n      break;\n    case \"%\":\n    case \"vh\":\n    case \"vw\":\n    case \"vmax\":\n    case \"vmin\":\n      type = \"range\";\n      min = 0;\n      max = 100;\n      break;\n  }\n  let roundedValue0 = Math.round(((number.value || 0) - (typeof step === \"number\" ? number.value % step : number.value % 0.1)) * 10000) / 10000; // % works on decimals right.\n  let roundedValue = typeof step === \"number\" ? Math.round((number.value || 0) * (1 / step)) * step : Math.round(number.value * 100) / 100; // % works on decimals right.\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"value\",\n      placeholder: \"value\",\n      type: \"range\",\n      disabled: readOnly,\n      defaultValue: number.value,\n      min: min,\n      max: max,\n      step: \"any\",\n      onBlur: e => {\n        setNumber(e, prefix);\n      },\n      onMouseUp: e => {\n        setNumber(e, prefix);\n      }\n    }, \"s\" + number.value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"spinner\",\n      placeholder: \"value\",\n      type: \"number\",\n      disabled: readOnly,\n      defaultValue: roundedValue,\n      \"data-dv\": roundedValue,\n      \"data-dv2\": number.value,\n      step: step,\n      onBlur: e => {\n        setNumber(e, prefix);\n      },\n      onKeyDown: e => {\n        if (e.key === Keystrokes.enter) setNumber(e, prefix);\n        if (e.key === Keystrokes.escape) e.target.value = '' + number.value;\n      }\n    }, roundedValue, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n// delete button <button className=\"btn btn-danger ms-1\"><i className=\"p-1 bi bi-trash3-fill\"/></button>\nfunction PaletteDataComponent(props) {\n  _s();\n  const view = props.view;\n  const readOnly = props.readonly;\n  let palette = {\n    ...view.palette\n  };\n  let tmp = undefined;\n  const [css, setCss] = useStateIfMounted(view.css);\n  const change = value => {\n    if (value !== undefined) setCss(value);\n  }; // save in local state for frequent changes.\n  const blur = () => view.css = css; // confirm in redux state for final state\n\n  const addControl = type => {\n    if (readOnly) return;\n    let i;\n    let prefix0; //= 'palette_' + i + '-';\n    switch (type) {\n      default:\n        Log.exDevv(\"unexpected case in addControl:\" + type);\n        return;\n      case 'path':\n        i = Object.values(palette).filter(o => o.type === \"path\").length + 1;\n        prefix0 = 'path_';\n        break;\n      case 'text':\n        i = Object.values(palette).filter(o => o.type === \"text\").length + 1;\n        prefix0 = 'text_';\n        break;\n      case 'number':\n        i = Object.values(palette).filter(o => o.type === \"number\").length + 1;\n        prefix0 = 'numeric_';\n        break;\n      case 'palette':\n        i = Object.values(palette).filter(o => Array.isArray(o)).length + 1;\n        prefix0 = 'palette_';\n        break;\n    }\n    let prefix;\n    while (true) {\n      prefix = prefix0 + i++;\n      if (prefix in palette) continue;\n      break;\n    }\n    switch (type) {\n      default:\n        Log.exDevv(\"unexpected case in addControl:\" + type);\n        return;\n      case 'path':\n        const agglabel = \"◇ Aggregation / Composition\";\n        const extendlabel = \"△ \" + EdgeHead.extend;\n        const asslabel = \"Λ \" + EdgeHead.reference;\n        let headdict = {\n          [asslabel]: 'M 0 0   L x y/2   L 0 y',\n          [extendlabel]: 'M 0 0   L x y/2   L 0 y   Z',\n          [agglabel]: 'M 0 y/2   L x/2 0   L x y/2   L x/2 y   Z'\n        };\n        let predefinedPaths = Object.entries(headdict).map(e => ({\n          k: e[0],\n          v: e[1]\n        }));\n        tmp = {\n          ...palette\n        };\n        tmp[prefix] = {\n          type: 'path',\n          value: '',\n          x: 'edgeHeadSize.x',\n          y: 'edgeHeadSize.y',\n          options: predefinedPaths\n        };\n        break;\n      case 'text':\n        tmp = {\n          ...palette\n        };\n        tmp[prefix] = {\n          type: 'text',\n          value: ''\n        };\n        break;\n      case 'number':\n        tmp = {\n          ...palette\n        };\n        tmp[prefix] = {\n          type: 'number',\n          value: 0,\n          unit: 'px'\n        };\n        break;\n      case 'palette':\n        tmp = {\n          ...palette\n        };\n        tmp[prefix] = {\n          type: 'color',\n          value: []\n        };\n        break;\n    }\n    view.palette = palette = tmp;\n  };\n  const setGeneric = (e, prefix, key) => {\n    const val = e.target.value;\n    if (readOnly || palette[prefix][key] === val) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix][key] = val;\n    view.palette = palette = tmp;\n  };\n  const setText = (e, prefix) => {\n    const val = e.target.value;\n    if (readOnly || palette[prefix].value === val) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix].value = val;\n    view.palette = palette = tmp;\n  };\n  const setNumber = (e, prefix) => {\n    const val = +e.target.value || 0;\n    if (readOnly || palette[prefix].value === val) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix].value = val;\n    view.palette = palette = tmp;\n  };\n  const setUnit = (e, prefix) => {\n    const val = e.target.value === undefined ? 'px' : e.target.value;\n    if (readOnly || val === palette[prefix].unit) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix].unit = val;\n    view.palette = palette = tmp;\n  };\n  const changePrefix = (oldPrefix, newPrefix) => {\n    newPrefix = newPrefix.replaceAll(/[^\\w\\-]/g, '-'); // /^[^a-zA-Z0-9_\\-]*$/, '-');\n    if (readOnly || palette[newPrefix]) return; // refuse to overwrite existing palette name (2 different palettes with same name)\n    tmp = {\n      ...palette\n    };\n    tmp[newPrefix] = palette[oldPrefix];\n    delete tmp[oldPrefix];\n    view.palette = palette = tmp;\n  };\n  const removeControl = prefix => {\n    if (readOnly || !palette[prefix]) return;\n    tmp = {\n      ...palette\n    };\n    delete tmp[prefix];\n    view.palette = palette = tmp;\n  };\n  const addColor = function (prefix, colors) {\n    let index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n    let skipFirst = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    if (readOnly) return;\n    if (!Array.isArray(colors)) {\n      colors = [colors];\n      skipFirst = false;\n    }\n    let tmp = {\n      ...palette\n    };\n    let lastAdded = undefined;\n    for (let i = colors.length - 1; i >= (skipFirst ? 1 : 0); i--) {\n      let color = colors[i];\n      let rgba = color.toRgb();\n      console.log(\"addingColor:\", {\n        rgba,\n        lastAdded,\n        color\n      });\n      if (rgba === lastAdded) continue;\n      lastAdded = rgba;\n      if (!tmp[prefix]) tmp[prefix] = {\n        type: 'color',\n        value: []\n      };else tmp[prefix] = {\n        ...tmp[prefix]\n      };\n      tmp[prefix].value = [...tmp[prefix].value];\n      if (index >= 0) tmp[prefix].value.splice(index + 1, 0, rgba);else tmp[prefix].value.push(rgba);\n    }\n    view.palette = palette = tmp;\n  };\n  const setColor = (prefix, index, hex, alpha) => {\n    let tmp = {\n      ...palette\n    };\n    if (readOnly || !tmp[prefix]) tmp[prefix] = {\n      type: 'color',\n      value: []\n    };else tmp[prefix] = {\n      ...tmp[prefix]\n    };\n    let oldColor = tmp[prefix].value[index];\n    if (hex) {\n      let color = tinycolor(hex);\n      if (alpha !== undefined) color.setAlpha(alpha);\n      let rgba = color.toRgb();\n      if (oldColor && oldColor.a !== undefined) rgba.a = oldColor.a;\n      tmp[prefix].value[index] = oldColor = rgba;\n      view.palette = palette = tmp;\n    }\n    if (alpha !== undefined) tmp[prefix].value[index] = {\n      ...oldColor,\n      a: alpha\n    };\n  };\n  const transparencyColor = (prefix, index, color, alpha) => {\n    if (readOnly || !palette[prefix]) return;\n    let tmp = {\n      ...palette\n    };\n    if (!alpha && alpha !== 0) alpha = 1;\n    tmp[prefix] = {\n      ...tmp[prefix]\n    };\n    tmp[prefix].value = [...tmp[prefix].value];\n    tmp[prefix].value[index] = {\n      ...tmp[prefix].value[index]\n    };\n    tmp[prefix].value[index].a = alpha;\n    color.setAlpha(alpha);\n    console.log(\"set transparency\", {\n      color,\n      tinycolor,\n      oldcolor: tmp[prefix].value[index]\n    });\n    view.palette = palette = tmp;\n  };\n  const removeColor = (prefix, index) => {\n    if (readOnly || !palette[prefix]) return;\n    let tmp = {\n      ...palette\n    };\n    tmp[prefix].value = [...tmp[prefix].value];\n    tmp[prefix].value = tmp[prefix].value.filter((c, i) => i !== index);\n    view.palette = palette = tmp;\n  };\n  const cssIsGlobal = view.cssIsGlobal;\n  let a;\n  let dropDownButton = {\n    current: null\n  };\n  function addcss(color) {\n    let ret = {};\n    ret.background = color.toRgbString();\n    // ret.opacity = color.getAlpha();\n    return ret;\n  }\n  function invert(color) {\n    let transformGrays = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.2;\n    transformGrays = transformGrays * 128;\n    let {\n      r,\n      g,\n      b,\n      a\n    } = color.toRgb();\n    r = Math.abs(r - 128) <= transformGrays ? r >= 128 ? 0 : 255 : 255 - r;\n    g = Math.abs(g - 128) <= transformGrays ? g >= 128 ? 0 : 255 : 255 - g;\n    b = Math.abs(b - 128) <= transformGrays ? b >= 128 ? 0 : 255 : 255 - b;\n    if (a || a === 0) a = 255 - a;\n    return tinycolor({\n      r,\n      g,\n      b,\n      a\n    }).toRgbString();\n  }\n  function style(c) {\n    return {\n      backgroundColor: c.toRgbString(),\n      color: invert(c)\n    };\n  }\n  let palettes = U.paletteSplit(palette);\n  function palettewrap(prefix, node) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"palette-row-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger me-1\",\n        onClick: () => removeControl(prefix),\n        disabled: readOnly,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"p-1 bi bi-trash3-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 113\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"prefix\",\n        placeholder: \"variable name\",\n        value: prefix,\n        onChange: e => changePrefix(prefix, e.target.value),\n        disabled: readOnly\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this), node]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: 'p-3',\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      style: {\n        position: 'relative',\n        zIndex: 2\n      },\n      children: [Object.entries(palettes.color).map((entry, index, entries) => {\n        let prefix = entry[0];\n        let paletteobj = entry[1];\n        let colors = paletteobj.value.map(v => tinycolor(v));\n        let suggestions = [tinycolor('#ffaaaa')]; // todo: compute according to current row \"colors\"\n        return palettewrap(prefix, /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"palette-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"color-container\",\n              children: colors.map((color, i) => /*#__PURE__*/_jsxDEV(Color, {\n                readonly: readOnly,\n                data: view,\n                field: 'palette',\n                canDelete: !readOnly,\n                getter: () => colors[i].toHexString(),\n                setter: newVal => {\n                  setColor(prefix, i, newVal);\n                },\n                style: {\n                  background: 'white'\n                },\n                inputStyle: {\n                  opacity: color.getAlpha()\n                },\n                childrenn: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"content suggestions\",\n                  style: {\n                    backgroundColor: \"inherit\"\n                  },\n                  onClick: e => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                  },\n                  children: [(() => {\n                    return /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        title: \"Alter current color transparency\",\n                        children: \"Opacity\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 302,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        style: {\n                          width: \"auto\",\n                          marginLeft: \"1em\",\n                          marginRight: \"1em\"\n                        },\n                        type: \"range\",\n                        min: 0,\n                        max: 1,\n                        step: \"any\",\n                        value: color.getAlpha(),\n                        onChange: e => {\n                          transparencyColor(prefix, i, color, +e.target.value);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        onClick: () => addColor(prefix, color.analogous(7, 30 / 1.5), i),\n                        title: \"Add all the colors\",\n                        children: \"\\u2795Analogous\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: color.analogous(7, 30 / 1.5).map((c, ii) => ii === 0 ? undefined : /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(c),\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          className: \"btn color-suggestion\",\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 307,\n                          columnNumber: 81\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        onClick: () => addColor(prefix, [1 / 12, 2 / 12, 3 / 12, 4 / 12, 5 / 12, 6 / 12].map(n => color.clone().lighten(n * 100)), i, false),\n                        title: \"Add all the colors\",\n                        children: \"\\u2795Lighten\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 315,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: [1 / 12, 2 / 12, 3 / 12, 4 / 12, 5 / 12, 6 / 12].map(n => color.clone().lighten(n * 100)).map((c, ii) => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(c),\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 318,\n                          columnNumber: 96\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 316,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        onClick: () => addColor(prefix, [6 / 12, 5 / 12, 4 / 12, 3 / 12, 2 / 12, 1 / 12].map(n => color.clone().darken(n * 100)), i, false),\n                        title: \"Add all the colors\",\n                        children: \"\\u2795Darken\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 321,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: [6 / 12, 5 / 12, 4 / 12, 3 / 12, 2 / 12, 1 / 12].map(n => color.clone().darken(n * 100)).map((c, ii) => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(c),\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 96\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        onClick: () => addColor(prefix, [color.complement(), tinycolor(invert(color))], i, false),\n                        title: \"Add all the colors\",\n                        children: \"\\u2795Complementary / Opposite\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 327,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(color.complement()),\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, color.complement(), i);\n                          },\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 329,\n                          columnNumber: 77\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: style(color),\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, tinycolor(invert(color)), i);\n                          },\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 331,\n                          columnNumber: 77\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 328,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        onClick: () => addColor(prefix, color.splitcomplement(), i),\n                        title: \"Add all the colors\",\n                        children: \"\\u2795Split Complementary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: color.splitcomplement().map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: {\n                            ...style(c)\n                          },\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 336,\n                          columnNumber: 113\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        onClick: () => addColor(prefix, color.triad(), i),\n                        title: \"Add all the colors\",\n                        children: \"\\u2795Triadic\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: color.triad().map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: {\n                            ...style(c)\n                          },\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 341,\n                          columnNumber: 105\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 340,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        onClick: () => addColor(prefix, color.tetrad(), i),\n                        title: \"Add all the colors\",\n                        children: \"\\u2795Tetradic\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 344,\n                        columnNumber: 73\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"roww\",\n                        children: color.tetrad().map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: {\n                            ...style(c)\n                          },\n                          className: \"btn color-suggestion\",\n                          onClick: e => {\n                            addColor(prefix, c, i);\n                          },\n                          children: \"+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 346,\n                          columnNumber: 106\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 73\n                      }, this)]\n                    }, void 0, true);\n                  })(), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: 'btn btn-danger content delete-color mt-2',\n                    onClick: () => removeColor(prefix, i),\n                    disabled: readOnly,\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi p-1 bi-trash3-fill\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 73\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 69\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 65\n                }, this)\n              }, prefix + i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 54\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestion-container\",\n              children: suggestions.map((c, i) => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"p-1\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn color-suggestion\",\n                  style: style(c),\n                  onClick: () => {\n                    addColor(prefix, c);\n                  },\n                  disabled: readOnly,\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 55\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 21\n          }, this)\n        }, void 0, false));\n      }), Object.entries(palettes.path).map((entry, index, entries) => {\n        let prefix = entry[0];\n        let path = entry[1];\n        return palettewrap(prefix, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"palette-row path\",\n          title: \"todo: proper tooltip.\\nedgeHeadSize is in the \\\"Options\\\" tab and determines the position of the head.\\nBasic math operators are allowed, but the minus and plus must have spaces around them or they will be traated as unary operators.\\nx and y are variables local to this path used to scale his shape.\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"value hoverable\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex w-100\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"value w-100 my-auto\",\n                placeholder: \"svg path [d]\",\n                defaultValue: path.value,\n                onBlur: e => {\n                  setText(e, prefix);\n                },\n                disabled: readOnly,\n                onKeyDown: e => {\n                  if (e.key === Keystrokes.enter) setText(e, prefix);\n                  if (e.key === Keystrokes.escape) e.target.value = path.value;\n                }\n              }, path.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content d-flex\",\n              style: {\n                backgroundColor: 'whitesmoke'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"spacer w-100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mx-auto\",\n                children: [\"x:\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"x\",\n                  placeholder: \"x\",\n                  defaultValue: path.x,\n                  disabled: readOnly,\n                  onChange: e => setGeneric(e, prefix, \"x\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 74\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mx-auto\",\n                children: [\"y:\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"y\",\n                  placeholder: \"y\",\n                  defaultValue: path.y,\n                  disabled: readOnly,\n                  onChange: e => setGeneric(e, prefix, \"y\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 74\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: path.value,\n            disabled: readOnly,\n            onChange: e => setText(e, prefix),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              style: {\n                fontStyle: 'italic',\n                color: 'gray'\n              },\n              value: \"\",\n              children: \"Custom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 35\n            }, this), path.options.map(e => {\n              let k = e.k;\n              let v = e.v;\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: v,\n                children: k\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 40\n              }, this);\n            })]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 25\n        }, this));\n      }), Object.entries(palettes.number).map((entry, index, entries) => {\n        let prefix = entry[0];\n        let number = entry[1];\n        return palettewrap(prefix, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"palette-row numeric\",\n          children: [makeNumericInput(prefix, number, setNumber, setText, readOnly), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"unit\",\n            placeholder: \"unit\",\n            value: number.unit,\n            onChange: e => {\n              setUnit(e, prefix);\n            },\n            disabled: readOnly,\n            children: [/*#__PURE__*/_jsxDEV(\"optgroup\", {\n              label: \"Recommended units\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"px\",\n                children: \"px - pixels\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"%\",\n                children: \"% - Relative to parent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"em\",\n                children: \"em - font height\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"vw\",\n                children: \"vw - viewport width\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"vh\",\n                children: \"vh - viewport height\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Unit-less\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n              label: \"Absolute units\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"px\",\n                children: \"px - pixels\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cm\",\n                children: \"cm - centimeters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"mm\",\n                children: \"mm - millimiters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pt\",\n                children: \"pt - points\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pc\",\n                children: \"pc - picas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"in\",\n                children: \"in - inches\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n              label: \"Relative (DOM) units\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"%\",\n                children: \"% - Relative to parent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"fr\",\n                children: \"fr - grid fraction\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"vw\",\n                children: \"vw - viewport width\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"vh\",\n                children: \"vh - viewport height\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"vmin\",\n                children: \"vmin - x% of viewport min axis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"vmax\",\n                children: \"vmax - x% of viewport max axis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n              label: \"Relative (font) units\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"em\",\n                children: \"em - font height\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"rem\",\n                children: \"rem - <body> font height\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ex\",\n                children: \"ex - height of the \\\"x\\\" char\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ch\",\n                children: \"ch - width of the \\\"0\\\" char\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 25\n        }, this));\n      }), Object.entries(palettes.text).map((entry, index, entries) => {\n        let prefix = entry[0];\n        let string = entry[1];\n        return palettewrap(prefix, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"palette-row textual\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"value\",\n            placeholder: \"value\",\n            defaultValue: string.value,\n            onBlur: e => {\n              setText(e, prefix);\n            },\n            disabled: readOnly,\n            onKeyDown: e => {\n              if (e.key === Keystrokes.enter) setText(e, prefix);\n              if (e.key === Keystrokes.escape) e.target.value = string.value;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 25\n        }, this));\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-100\",\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(10, 1fr)',\n        position: 'relative',\n        zIndex: 1\n      },\n      onMouseEnter: e => {\n        var _dropDownButton$curre;\n        (_dropDownButton$curre = dropDownButton.current) === null || _dropDownButton$curre === void 0 ? void 0 : _dropDownButton$curre.open();\n      },\n      onMouseLeave: e => {\n        var _dropDownButton$curre2;\n        (_dropDownButton$curre2 = dropDownButton.current) === null || _dropDownButton$curre2 === void 0 ? void 0 : _dropDownButton$curre2.close();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        style: {\n          flexBasis: 0,\n          flexGrow: 9,\n          gridArea: '1 / 1 / 1 / 1',\n          zIndex: 2,\n          minWidth: 'calc(1000% - var(--smart-editor-addon-width))'\n        },\n        onClick: () => addControl('palette'),\n        children: \"+ Palette\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DropDownButton, {\n        ref: dropDownButton,\n        style: {\n          flexBasis: 0,\n          flexGrow: 1,\n          minWidth: 0,\n          gridArea: '1 / 1 / 1 / 11',\n          zIndex: 1,\n          transform: 'scaleX(-1)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: e => {\n            var _dropDownButton$curre3;\n            return (_dropDownButton$curre3 = dropDownButton.current) === null || _dropDownButton$curre3 === void 0 ? void 0 : _dropDownButton$curre3.close();\n          },\n          style: {\n            transform: 'scaleX(-1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-100 btn btn-outline-success\",\n            style: {\n              height: 'var(--smart-editor-height)'\n            },\n            onClick: () => addControl('number'),\n            children: \"+ Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-100 btn btn-outline-success\",\n            style: {\n              height: 'var(--smart-editor-height)'\n            },\n            onClick: () => addControl('text'),\n            children: \"+ Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-100 btn btn-outline-success\",\n            style: {\n              height: 'var(--smart-editor-height)'\n            },\n            onClick: () => addControl('path'),\n            children: \"+ Path\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      data: view,\n      field: 'cssIsGlobal',\n      type: \"checkbox\",\n      jsxLabel: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          width: '80%',\n          display: 'inline-block'\n        },\n        children: [cssIsGlobal ? /*#__PURE__*/_jsxDEV(\"b\", {\n          style: {\n            color: 'inherit',\n            fontWeight: 'bold'\n          },\n          children: \"Global\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 32\n        }, this) : /*#__PURE__*/_jsxDEV(\"b\", {\n          style: {\n            color: 'inherit'\n          },\n          children: \"Local\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 94\n        }, this), ' CSS & LESS Editor ', cssIsGlobal ? /*#__PURE__*/_jsxDEV(\"b\", {\n          style: {\n            color: 'red',\n            fontSize: '0.7em',\n            fontWeight: 'bold'\n          },\n          children: \"Use with caution\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 32\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"monaco-editor-wrapper\",\n      style: {\n        minHeight: '20ùpx',\n        height: '200px' /*there is a bug of height 100% on childrens not working if parent have only minHeight*/,\n        resize: 'vertical',\n        overflow: 'hidden'\n      },\n      onBlur: blur,\n      children: /*#__PURE__*/_jsxDEV(Editor, {\n        className: 'mx-1',\n        options: {\n          fontSize: 12,\n          scrollbar: {\n            vertical: 'hidden',\n            horizontalScrollbarSize: 5\n          },\n          minimap: {\n            enabled: false\n          },\n          readOnly: readOnly\n        },\n        defaultLanguage: 'less',\n        value: view.css,\n        onChange: change\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debug\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          whiteSpace: 'pre'\n        },\n        children: view.compiled_css\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 34\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 12\n  }, this);\n}\n_s(PaletteDataComponent, \"KNCH7HtDUv8cyF1FQgcYu2CBC3E=\", false, function () {\n  return [useStateIfMounted];\n});\n_c = PaletteDataComponent;\nfunction mapStateToProps(state, ownProps) {\n  const view = LViewElement.fromPointer(ownProps.viewID);\n  return {\n    view\n  };\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nexport const PaletteDataConnected = connect(mapStateToProps, mapDispatchToProps)(PaletteDataComponent);\nexport const PaletteData = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(PaletteDataConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 523,\n    columnNumber: 12\n  }, _this);\n};\n_c2 = PaletteData;\nexport default PaletteData;\nvar _c, _c2;\n$RefreshReg$(_c, \"PaletteDataComponent\");\n$RefreshReg$(_c2, \"PaletteData\");","map":{"version":3,"names":["React","connect","useStateIfMounted","tinycolor","Editor","DropDownButton","EdgeHead","Input","Keystrokes","Log","LViewElement","U","Color","jsxDEV","_jsxDEV","Fragment","_Fragment","makeNumericInput","prefix","number","setNumber","setText","readOnly","type","min","max","step","undefined","unit","className","placeholder","defaultValue","value","onBlur","e","disabled","onKeyDown","key","enter","escape","target","fileName","_jsxFileName","lineNumber","columnNumber","roundedValue0","Math","round","roundedValue","children","onMouseUp","PaletteDataComponent","props","_s","view","readonly","palette","tmp","css","setCss","change","blur","addControl","i","prefix0","exDevv","Object","values","filter","o","length","Array","isArray","agglabel","extendlabel","extend","asslabel","reference","headdict","predefinedPaths","entries","map","k","v","x","y","options","setGeneric","val","setUnit","changePrefix","oldPrefix","newPrefix","replaceAll","removeControl","addColor","colors","index","arguments","skipFirst","lastAdded","color","rgba","toRgb","console","log","splice","push","setColor","hex","alpha","oldColor","setAlpha","a","transparencyColor","oldcolor","removeColor","c","cssIsGlobal","dropDownButton","current","addcss","ret","background","toRgbString","invert","transformGrays","r","g","b","abs","style","backgroundColor","palettes","paletteSplit","palettewrap","node","onClick","onChange","position","zIndex","entry","paletteobj","suggestions","data","field","canDelete","getter","toHexString","setter","newVal","inputStyle","opacity","getAlpha","childrenn","preventDefault","stopPropagation","title","width","marginLeft","marginRight","analogous","ii","n","clone","lighten","darken","complement","splitcomplement","triad","tetrad","path","fontStyle","label","text","string","display","gridTemplateColumns","onMouseEnter","_dropDownButton$curre","open","onMouseLeave","_dropDownButton$curre2","close","flexBasis","flexGrow","gridArea","minWidth","ref","transform","_dropDownButton$curre3","height","jsxLabel","fontWeight","fontSize","minHeight","resize","overflow","scrollbar","vertical","horizontalScrollbarSize","minimap","enabled","defaultLanguage","whiteSpace","compiled_css","_c","mapStateToProps","state","ownProps","fromPointer","viewID","mapDispatchToProps","dispatch","PaletteDataConnected","PaletteData","_this","_c2","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/components/rightbar/viewsEditor/data/PaletteData.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement, ReactNode, Ref, RefObject, SyntheticEvent} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {useStateIfMounted} from \"use-state-if-mounted\";\r\nimport tinycolor, {Instance} from \"tinycolor2\";\r\nimport Editor from \"@monaco-editor/react\";\r\nimport DropDownButton from \"smart-webcomponents-react/dropdownbutton\";\r\nimport 'smart-webcomponents-react/source/styles/smart.default.css';\r\nimport type {\r\n    PaletteControl,\r\n    NumberControl,\r\n    StringControl,\r\n    PaletteType,\r\n    CSSUnit,\r\n    PathControl\r\n} from '../../../../view/viewElement/view';\r\nimport {\r\n    Dictionary,\r\n    DState,\r\n    DViewElement, EdgeHead, GObject,\r\n    Input,\r\n    KeyDownEvent,\r\n    Keystrokes,\r\n    Log,\r\n    LViewElement,\r\n    Pointer,\r\n    U\r\n} from '../../../../joiner';\r\nimport {Function} from \"../../../forEndUser/FunctionComponent\";\r\nimport { Color } from '../../../forEndUser/Color';\r\n\r\n\r\nfunction makeNumericInput(prefix: string, number: NumberControl,\r\n                          setNumber: (e: React.FocusEvent<HTMLInputElement>, prefix: string) => void,\r\n                          setText: (e: React.FocusEvent<HTMLInputElement>, prefix: string) => void, readOnly: boolean) {\r\n    let type: string;\r\n    let min: number | undefined;\r\n    let max: number | undefined;\r\n    let step: number | undefined = undefined;\r\n    switch (number.unit) {\r\n        case '': return <input className={\"value\"} placeholder={\"value\"} type={\"text\"}\r\n                               defaultValue={number.value} onBlur={e => setText(e as any, prefix)} disabled={readOnly}\r\n                               onKeyDown={e => {\r\n                                   if (e.key === Keystrokes.enter) setText(e as any, prefix);\r\n                                   if (e.key === Keystrokes.escape) (e.target as HTMLInputElement).value = '' + number.value; }} />\r\n        case 'px': min = 0; max = 300; break;\r\n        case 'pt': break; // 1pt = 1.33 px; 1px = 0.75pt\r\n        case 'cm':\r\n        case 'mm': min = 0; max = 200; break; // 1mm = 3.7px\r\n        case 'ch':\r\n        case 'ex':\r\n        case 'em':\r\n        case 'rem':\r\n        case 'in': // 1in = 96px\r\n        case 'pc': // 2px = 0.125 picas; 18.75pc = 300px\r\n        case 'fr': min=0; max=20; step = 0.5; break;\r\n\r\n        default: type = \"number\"; break;\r\n        case \"%\": case \"vh\": case \"vw\": case \"vmax\": case \"vmin\":\r\n            type = \"range\";\r\n            min = 0;\r\n            max = 100;\r\n            break;\r\n    }\r\n    let roundedValue0 = Math.round(((number.value || 0) - (typeof step === \"number\" ? number.value % step : number.value % 0.1))*10000)/10000; // % works on decimals right.\r\n    let roundedValue = typeof step === \"number\" ? Math.round(((number.value || 0)  * (1/step))) * step : Math.round(number.value*100)/100; // % works on decimals right.\r\n    return <>\r\n        <input className={\"value\"} placeholder={\"value\"} type={\"range\"} disabled={readOnly}\r\n            key={\"s\"+number.value} defaultValue={number.value}\r\n            min={min}\r\n            max={max}\r\n            step={\"any\"}\r\n            onBlur={e => {setNumber(e as any, prefix)}}\r\n            onMouseUp={e => { setNumber(e as any, prefix); }} />\r\n        <input className={\"spinner\"} placeholder={\"value\"} type={\"number\"} disabled={readOnly}\r\n            key={roundedValue} defaultValue={roundedValue} data-dv={roundedValue} data-dv2={number.value}\r\n            step={step}\r\n            onBlur={e => {setNumber(e as any, prefix)}}\r\n            onKeyDown={e => {\r\n               if (e.key === Keystrokes.enter) setNumber(e as any, prefix);\r\n               if (e.key === Keystrokes.escape) (e.target as HTMLInputElement).value = '' + number.value; }} />\r\n    </>\r\n}\r\n\r\n// delete button <button className=\"btn btn-danger ms-1\"><i className=\"p-1 bi bi-trash3-fill\"/></button>\r\nfunction PaletteDataComponent(props: AllProps) {\r\n    const view = props.view;\r\n    const readOnly = props.readonly;\r\n    let palette: Readonly<PaletteType> = {...view.palette};\r\n    let tmp: PaletteType = undefined as any;\r\n    const [css, setCss] = useStateIfMounted(view.css);\r\n\r\n    const change = (value: string|undefined) => { if(value !== undefined) setCss(value); } // save in local state for frequent changes.\r\n    const blur = () => view.css = css; // confirm in redux state for final state\r\n\r\n    const addControl = (type: 'palette' | 'number' | 'text' | 'path') => {\r\n        if (readOnly) return;\r\n        let i: number;\r\n        let prefix0: string;//= 'palette_' + i + '-';\r\n        switch (type){\r\n            default: Log.exDevv(\"unexpected case in addControl:\" + type); return;\r\n            case 'path':\r\n                i = Object.values(palette).filter( o => (o as PathControl).type === \"path\").length + 1;\r\n                prefix0 = 'path_';\r\n                break;\r\n            case 'text':\r\n                i = Object.values(palette).filter( o => (o as StringControl).type === \"text\").length + 1;\r\n                prefix0 = 'text_';\r\n                break;\r\n            case 'number':\r\n                i = Object.values(palette).filter( o => (o as NumberControl).type === \"number\").length + 1;\r\n                prefix0 = 'numeric_';\r\n                break;\r\n            case 'palette':\r\n                i = Object.values(palette).filter( o => Array.isArray(o as any)).length + 1;\r\n                prefix0 = 'palette_';\r\n                break;\r\n        }\r\n        let prefix: string;\r\n        while (true){\r\n            prefix = prefix0 + i++;\r\n            if (prefix in palette) continue;\r\n            break;\r\n        }\r\n        switch (type){\r\n            default: Log.exDevv(\"unexpected case in addControl:\" + type); return;\r\n            case 'path':\r\n                const agglabel = \"◇ Aggregation / Composition\";\r\n                const extendlabel = \"△ \"+EdgeHead.extend;\r\n                const asslabel = \"Λ \"+EdgeHead.reference;\r\n                let headdict: Dictionary<string, string> = {\r\n                    [asslabel]: 'M 0 0   L x y/2   L 0 y',\r\n                    [extendlabel]: 'M 0 0   L x y/2   L 0 y   Z',\r\n                    [agglabel]: 'M 0 y/2   L x/2 0   L x y/2   L x/2 y   Z',\r\n                };\r\n                let predefinedPaths: {k:string, v:string}[] = Object.entries(headdict).map((e)=>({k:e[0], v:e[1]}));\r\n\r\n                tmp = {...palette};\r\n                tmp[prefix] = {type: 'path', value: '', x:'edgeHeadSize.x', y:'edgeHeadSize.y', options: predefinedPaths};\r\n                break;\r\n            case 'text':\r\n                tmp = {...palette};\r\n                tmp[prefix] = {type: 'text', value: ''};\r\n                break;\r\n            case 'number':\r\n                tmp = {...palette};\r\n                tmp[prefix] = {type: 'number', value: 0, unit: 'px'};\r\n                break;\r\n            case 'palette':\r\n                tmp = {...palette};\r\n                tmp[prefix] = {type:'color', value:[]};\r\n                break;\r\n        }\r\n        view.palette = palette = tmp;\r\n    }\r\n    const setGeneric = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>, prefix: string, key: string) => {\r\n        const val: string = e.target.value;\r\n        if (readOnly || (palette[prefix] as any)[key] === val) return;\r\n        let tmp: Dictionary<string, StringControl> = {...palette} as any;\r\n        (tmp[prefix] as any)[key] = val;\r\n        view.palette = palette = tmp; }\r\n    const setText = (e: React.FocusEvent<HTMLInputElement | HTMLSelectElement>, prefix: string) => {\r\n        const val: string = e.target.value;\r\n        if (readOnly || (palette[prefix] as StringControl).value === val) return;\r\n        let tmp: Dictionary<string, StringControl> = {...palette} as any;\r\n        tmp[prefix].value = val;\r\n        view.palette = palette = tmp; }\r\n    const setNumber = (e: React.FocusEvent<HTMLInputElement>, prefix: string) => {\r\n        const val: number = +e.target.value || 0;\r\n        if (readOnly || (palette[prefix] as NumberControl).value === val) return;\r\n        let tmp: Dictionary<string, NumberControl> = {...palette} as any;\r\n        tmp[prefix].value = val;\r\n        view.palette = palette = tmp; }\r\n    const setUnit = (e: React.FocusEvent<HTMLInputElement>, prefix: string) => {\r\n        const val: string = e.target.value === undefined ? 'px' : e.target.value;\r\n        if (readOnly || val === (palette[prefix] as NumberControl).unit) return;\r\n        let tmp: Dictionary<string, NumberControl> = {...palette} as any;\r\n        tmp[prefix].unit = val as CSSUnit;\r\n        view.palette = palette = tmp; }\r\n    const changePrefix = (oldPrefix: string, newPrefix: string) => {\r\n        newPrefix = newPrefix.replaceAll(/[^\\w\\-]/g,'-'); // /^[^a-zA-Z0-9_\\-]*$/, '-');\r\n        if (readOnly || palette[newPrefix]) return; // refuse to overwrite existing palette name (2 different palettes with same name)\r\n        tmp = {...palette};\r\n        tmp[newPrefix] = palette[oldPrefix];\r\n        delete tmp[oldPrefix];\r\n        view.palette = palette = tmp;\r\n    }\r\n    const removeControl = (prefix: string) => {\r\n        if (readOnly || !palette[prefix]) return;\r\n        tmp = {...palette};\r\n        delete tmp[prefix];\r\n        view.palette = palette = tmp;\r\n    }\r\n\r\n    const addColor = (prefix: string, colors: Instance[] | Instance, index: number = -1, skipFirst: boolean = true) => {\r\n        if (readOnly) return;\r\n        if (!Array.isArray(colors)) {\r\n            colors = [colors as Instance];\r\n            skipFirst = false;\r\n        }\r\n        let tmp: Dictionary<string, PaletteControl> = {...palette} as GObject;\r\n        let lastAdded: tinycolor.ColorFormats.RGBA = undefined as any;\r\n        for (let i = colors.length-1; i >= (skipFirst ? 1 : 0); i--) {\r\n            let color: Instance = colors[i];\r\n            let rgba = color.toRgb();\r\n            console.log(\"addingColor:\", {rgba, lastAdded, color});\r\n            if (rgba === lastAdded) continue;\r\n            lastAdded = rgba;\r\n            if (!tmp[prefix]) tmp[prefix] = {type:'color', value:[]};\r\n            else tmp[prefix] = {...tmp[prefix]};\r\n            tmp[prefix].value = [...tmp[prefix].value];\r\n            if (index >= 0) tmp[prefix].value.splice(index + 1, 0, rgba);\r\n            else tmp[prefix].value.push(rgba);\r\n        }\r\n        view.palette = palette = tmp;\r\n    }\r\n\r\n    const setColor = (prefix: string, index: number, hex?: string, alpha?: number) => {\r\n        let tmp: Dictionary<string, PaletteControl> = {...palette} as any;\r\n        if (readOnly || !tmp[prefix]) tmp[prefix] = {type:'color', value:[]};\r\n        else tmp[prefix] = {...tmp[prefix]};\r\n        let oldColor = tmp[prefix].value[index];\r\n        if (hex) {\r\n            let color = tinycolor(hex);\r\n            if (alpha !== undefined) color.setAlpha(alpha);\r\n            let rgba = color.toRgb();\r\n            if (oldColor && oldColor.a !== undefined) rgba.a = oldColor.a;\r\n            tmp[prefix].value[index] = oldColor = rgba;\r\n            view.palette = palette = tmp;\r\n        }\r\n        if (alpha !== undefined) tmp[prefix].value[index] = {...oldColor, a:alpha};\r\n    }\r\n    const transparencyColor = (prefix: string, index: number, color: tinycolor.Instance, alpha: number) => {\r\n        if (readOnly || !palette[prefix]) return;\r\n        let tmp: Dictionary<string, PaletteControl> = {...palette} as any;\r\n        if (!alpha && alpha !== 0) alpha = 1;\r\n        tmp[prefix] = {...tmp[prefix]};\r\n        tmp[prefix].value = [...tmp[prefix].value];\r\n        tmp[prefix].value[index] = {...tmp[prefix].value[index]};\r\n        tmp[prefix].value[index].a = alpha;\r\n        color.setAlpha(alpha);\r\n        console.log(\"set transparency\", {color, tinycolor, oldcolor: tmp[prefix].value[index]});\r\n        view.palette = palette = tmp;\r\n    }\r\n    const removeColor = (prefix: string, index: number) => {\r\n        if (readOnly || !palette[prefix]) return;\r\n        let tmp: Dictionary<string, PaletteControl> = {...palette} as any;\r\n        tmp[prefix].value = [...tmp[prefix].value];\r\n        tmp[prefix].value = tmp[prefix].value.filter((c, i) => i !== index);\r\n        view.palette = palette = tmp;\r\n    }\r\n\r\n    const cssIsGlobal = view.cssIsGlobal;\r\n    let a: DropDownButton;\r\n    let dropDownButton: RefObject<DropDownButton> = {current: null};\r\n    function addcss(color: Instance): GObject {\r\n        let ret: GObject = {};\r\n        ret.background = color.toRgbString();\r\n        // ret.opacity = color.getAlpha();\r\n        return ret;\r\n    }\r\n    function invert(color: Instance, transformGrays: number = 0.2): string {\r\n        transformGrays = transformGrays * 128;\r\n        let {r, g, b, a} = color.toRgb();\r\n        r = Math.abs(r-128) <= transformGrays ? (r >= 128 ? 0 : 255) : 255 - r;\r\n        g = Math.abs(g-128) <= transformGrays ? (g >= 128 ? 0 : 255) : 255 - g;\r\n        b = Math.abs(b-128) <= transformGrays ? (b >= 128 ? 0 : 255) : 255 - b;\r\n        if (a || a === 0) a = 255 - a;\r\n        return (tinycolor({r, g, b, a})).toRgbString();\r\n    }\r\n    function style(c: Instance): GObject{\r\n        return {backgroundColor: c.toRgbString(), color:invert(c)};\r\n    }\r\n\r\n    let palettes = U.paletteSplit(palette);\r\n    function palettewrap(prefix: string, node: ReactNode): ReactNode{\r\n        return (\r\n            <div className=\"palette-row-container\">\r\n                <button className=\"btn btn-danger me-1\" onClick={()=>removeControl(prefix)} disabled={readOnly}><i className=\"p-1 bi bi-trash3-fill\"/></button>\r\n                <input className={\"prefix\"} placeholder={\"variable name\"} value={prefix} onChange={(e)=> changePrefix(prefix, e.target.value)} disabled={readOnly} />\r\n                {node}\r\n            </div>)\r\n    }\r\n\r\n    return(<section className={'p-3'}>\r\n        <div className={\"controls\"} style={{position:'relative', zIndex:2}}>\r\n            {Object.entries(palettes.color).map((entry, index, entries)=>{\r\n                let prefix = entry[0];\r\n                let paletteobj: PaletteControl = entry[1] as PaletteControl;\r\n                let colors: Instance[] = paletteobj.value.map(v=> tinycolor(v));\r\n                let suggestions = [tinycolor('#ffaaaa')]; // todo: compute according to current row \"colors\"\r\n                return palettewrap(prefix, <>\r\n                    <div className=\"palette-row\">\r\n                        <div className=\"color-container\">{\r\n                            colors.map((color, i) => <Color key={prefix+i} readonly={readOnly}\r\n                                                            data={view} field={'palette'} canDelete={!readOnly}\r\n                                                            getter={()=>colors[i].toHexString()} setter={(newVal) => { setColor(prefix, i, newVal) }}\r\n                                                            style ={{background: 'white'}}\r\n                                                            inputStyle ={{opacity: color.getAlpha()}}\r\n                                                            childrenn={\r\n                                                                <div className={\"content suggestions\"} style={{backgroundColor: \"inherit\"}} onClick={(e) => {e.preventDefault(); e.stopPropagation();}}>\r\n                                                                    {(()=>{ return <>\r\n                                                                        <h6 title={\"Alter current color transparency\"}>Opacity</h6>\r\n                                                                        <input style={{width: \"auto\", marginLeft:\"1em\", marginRight:\"1em\"}} type={\"range\"} min={0} max={1} step={\"any\"} value={color.getAlpha()} onChange={(e)=>{ transparencyColor(prefix, i, color, +e.target.value) }} />\r\n                                                                        <h6 onClick={()=>addColor(prefix, color.analogous(7, 30/1.5), i)} title={\"Add all the colors\"}>➕Analogous</h6>\r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {color.analogous(7, 30/1.5).map((c,ii) => ii===0?undefined:\r\n                                                                                <button style={style(c)} onClick={(e)=>{addColor(prefix, c, i)}} className=\"btn color-suggestion\">+</button>\r\n                                                                            )}\r\n                                                                        </div>{/*\r\n                                    <h6 onClick={()=>addColor(prefix, color.monochromatic(7), i)} title={\"Add all the colors\"}>➕Monochromatic</h6>\r\n                                    <div className={\"roww\"}>\r\n                                        {color.monochromatic(7).map((c,ii) => ii===0?undefined: <button style={style(c)}\r\n                                                                                                        onClick={(e)=>{addColor(prefix, c, i)}} className=\"btn color-suggestion\">+</button>)}\r\n                                    </div>{/*[6/12, 5/12, 4/12, 3/12, 2/12, 1/12]*/}\r\n                                                                        <h6 onClick={()=>addColor(prefix, [1/12, 2/12, 3/12, 4/12, 5/12, 6/12].map(n=>color.clone().lighten(n*100)), i, false)} title={\"Add all the colors\"}>➕Lighten</h6>\r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {[1/12, 2/12, 3/12, 4/12, 5/12, 6/12].map(n=>color.clone().lighten(n*100))\r\n                                                                                .map((c,ii) => <button style={style(c)} className=\"btn color-suggestion\"\r\n                                                                                                       onClick={(e)=>{addColor(prefix, c, i)}}>+</button>)}\r\n                                                                        </div>\r\n                                                                        <h6 onClick={()=>addColor(prefix, [6/12, 5/12, 4/12, 3/12, 2/12, 1/12].map(n=>color.clone().darken(n*100)), i, false)} title={\"Add all the colors\"}>➕Darken</h6>\r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {[6/12, 5/12, 4/12, 3/12, 2/12, 1/12].map(n=>color.clone().darken(n*100))\r\n                                                                                .map((c,ii) => <button style={style(c)} className=\"btn color-suggestion\"\r\n                                                                                                       onClick={(e)=>{addColor(prefix, c, i)}}>+</button>)}\r\n                                                                        </div>\r\n                                                                        <h6 onClick={()=>addColor(prefix, [color.complement(), tinycolor(invert(color))], i, false)} title={\"Add all the colors\"}>➕Complementary / Opposite</h6>\r\n                                                                        <div className={\"roww\"}>\r\n                                                                            <button style={style(color.complement())} className=\"btn color-suggestion\"\r\n                                                                                    onClick={(e)=>{addColor(prefix, color.complement(), i)}}>+</button>\r\n                                                                            <button style={style(color)} className=\"btn color-suggestion\"\r\n                                                                                    onClick={(e)=>{addColor(prefix, tinycolor(invert(color)), i)}}>+</button>\r\n                                                                        </div>\r\n                                                                        <h6 onClick={()=>addColor(prefix, color.splitcomplement(), i)} title={\"Add all the colors\"}>➕Split Complementary</h6>\r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {color.splitcomplement().map((c) => <button style={{...style(c)}} className=\"btn color-suggestion\"\r\n                                                                                                                        onClick={(e)=>{addColor(prefix, c, i)}}>+</button>)}\r\n                                                                        </div>\r\n                                                                        <h6 onClick={()=>addColor(prefix, color.triad(), i)} title={\"Add all the colors\"}>➕Triadic</h6>\r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {color.triad().map ( (c) => <button style={{...style(c)}} className=\"btn color-suggestion\"\r\n                                                                                                                onClick={(e)=>{addColor(prefix, c, i)}}>+</button>)}\r\n                                                                        </div>\r\n                                                                        <h6 onClick={()=>addColor(prefix, color.tetrad(), i)} title={\"Add all the colors\"}>➕Tetradic</h6>\r\n                                                                        <div className={\"roww\"}>\r\n                                                                            {color.tetrad().map ( (c) => <button style={{...style(c)}} className=\"btn color-suggestion\"\r\n                                                                                                                 onClick={(e)=>{addColor(prefix, c, i)}}>+</button>)}\r\n                                                                        </div>\r\n                                                                    </>})()}\r\n                                                                    <button className={'btn btn-danger content delete-color mt-2'} onClick={()=>removeColor(prefix, i)} disabled={readOnly}>\r\n                                                                        <i className=\"bi p-1 bi-trash3-fill\"/>\r\n                                                                    </button>\r\n                                                                </div>\r\n                                                            }\r\n                            />)\r\n                        }\r\n                        </div>\r\n                        <div className=\"suggestion-container\">{\r\n                            suggestions.map((c, i) => <label className=\"p-1\">\r\n                                <button className=\"btn color-suggestion\" style={style(c)} onClick={()=>{addColor(prefix, c)}} disabled={readOnly}>+</button>\r\n                            </label>)\r\n                        }</div>\r\n                    </div>\r\n                </>); })\r\n            }\r\n            {Object.entries(palettes.path).map((entry, index, entries)=>{\r\n                    let prefix = entry[0];\r\n                    let path: PathControl = entry[1] as any;\r\n                    return palettewrap(prefix,\r\n                        <div className=\"palette-row path\" title={\"todo: proper tooltip.\\nedgeHeadSize is in the \\\"Options\\\" tab and determines the position of the head.\\nBasic math operators are allowed, but the minus and plus must have spaces around them or they will be traated as unary operators.\\nx and y are variables local to this path used to scale his shape.\"}>\r\n                            <div className={\"value hoverable\"}>\r\n                                <div className={\"d-flex w-100\"}>\r\n                                    <input className={\"value w-100 my-auto\"} placeholder={\"svg path [d]\"} defaultValue={path.value} key={path.value} onBlur={e => {setText(e as any, prefix)}} disabled={readOnly}\r\n                                           onKeyDown={e => {\r\n                                               if (e.key === Keystrokes.enter) setText(e as any, prefix);\r\n                                               if (e.key === Keystrokes.escape) (e.target as HTMLInputElement).value = path.value; }} />\r\n                                </div>\r\n                                <div className={\"content d-flex\"} style={{backgroundColor: 'whitesmoke'}}>\r\n                                    <input className={\"spacer w-100\"}/>\r\n                                    <label className={\"mx-auto\"}>x:&nbsp;<input className=\"x\" placeholder={\"x\"} defaultValue={path.x} disabled={readOnly} onChange={(e)=>setGeneric(e, prefix, \"x\")}/></label>\r\n                                    <label className={\"mx-auto\"}>y:&nbsp;<input className=\"y\" placeholder={\"y\"} defaultValue={path.y} disabled={readOnly} onChange={(e)=>setGeneric(e, prefix, \"y\")}/></label>\r\n                                </div>\r\n                            </div>\r\n                            <select value={path.value} disabled={readOnly} onChange={(e)=>setText(e as any, prefix)}>\r\n                                {[<option style={{fontStyle:'italic', color:'gray'}} value={\"\"}>Custom</option>, path.options.map((e)=>{\r\n                                let k = e.k;\r\n                                let v = e.v;\r\n                                return <option value={v}>{k}</option>\r\n                            })]}</select>\r\n                        </div>)\r\n                }\r\n            )}\r\n            {Object.entries(palettes.number).map((entry, index, entries)=>{\r\n                    let prefix = entry[0];\r\n                    let number: NumberControl = entry[1] as any;\r\n                    return palettewrap(prefix,\r\n                        <div className=\"palette-row numeric\">\r\n                            {makeNumericInput(prefix, number, setNumber, setText, readOnly)}\r\n                            <select className={\"unit\"} placeholder={\"unit\"} value={number.unit} onChange={e => {setUnit(e as any, prefix)}} disabled={readOnly}>\r\n                                <optgroup label={\"Recommended units\"}>\r\n                                    <option value={\"px\"}>px - pixels</option>\r\n                                    <option value={\"%\"}>% - Relative to parent</option>\r\n                                    <option value={\"em\"}>em - font height</option>\r\n                                    <option value={\"vw\"}>vw - viewport width</option>\r\n                                    <option value={\"vh\"}>vh - viewport height</option>\r\n                                    <option value={\"\"}>Unit-less</option>\r\n                                </optgroup>\r\n                                <optgroup label={\"Absolute units\"}>\r\n                                    <option value={\"px\"}>px - pixels</option>\r\n                                    <option value={\"cm\"}>cm - centimeters</option>\r\n                                    <option value={\"mm\"}>mm - millimiters</option>\r\n                                    <option value={\"pt\"}>pt - points</option>\r\n                                    <option value={\"pc\"}>pc - picas</option>\r\n                                    <option value={\"in\"}>in - inches</option>\r\n                                </optgroup>\r\n                                <optgroup label={\"Relative (DOM) units\"}>\r\n                                    <option value={\"%\"}>% - Relative to parent</option>\r\n                                    <option value={\"fr\"}>fr - grid fraction</option>\r\n                                    <option value={\"vw\"}>vw - viewport width</option>\r\n                                    <option value={\"vh\"}>vh - viewport height</option>\r\n                                    <option value={\"vmin\"}>vmin - x% of viewport min axis</option>\r\n                                    <option value={\"vmax\"}>vmax - x% of viewport max axis</option>\r\n                                </optgroup>\r\n                                <optgroup label={\"Relative (font) units\"}>\r\n                                    <option value={\"em\"}>em - font height</option>\r\n                                    <option value={\"rem\"}>rem - &lt;body&gt; font height</option>\r\n                                    <option value={\"ex\"}>ex - height of the \"x\" char</option>\r\n                                    <option value={\"ch\"}>ch - width of the \"0\" char</option>\r\n                                </optgroup>\r\n                            </select>\r\n                        </div>)\r\n                }\r\n            )}\r\n            {Object.entries(palettes.text).map((entry, index, entries)=>{\r\n                    let prefix = entry[0];\r\n                    let string: StringControl = entry[1] as any;\r\n                    return palettewrap(prefix,\r\n                        <div className={\"palette-row textual\"}>\r\n                            <input className={\"value\"} placeholder={\"value\"} defaultValue={string.value} onBlur={e => {setText(e as any, prefix)}} disabled={readOnly}\r\n                                   onKeyDown={e => {\r\n                                       if (e.key === Keystrokes.enter) setText(e as any, prefix);\r\n                                       if (e.key === Keystrokes.escape) (e.target as HTMLInputElement).value = string.value; }} />\r\n                        </div>)\r\n                }\r\n            )}\r\n        </div>\r\n\r\n        <div className={\"w-100\"} style={{display: 'grid', gridTemplateColumns: 'repeat(10, 1fr)', position: 'relative', zIndex:1}}\r\n             onMouseEnter={(e)=>{ dropDownButton.current?.open()}}\r\n             onMouseLeave={(e)=>{ dropDownButton.current?.close()}}\r\n        >\r\n            <button className=\"btn btn-success\" style={{flexBasis:0, flexGrow:9, gridArea: '1 / 1 / 1 / 1', zIndex: 2, minWidth: 'calc(1000% - var(--smart-editor-addon-width))'}} onClick={()=>addControl('palette')}>+ Palette</button>\r\n            <DropDownButton ref={dropDownButton} style={{flexBasis:0, flexGrow:1, minWidth:0, gridArea: '1 / 1 / 1 / 11', zIndex:1, transform: 'scaleX(-1)'}}>\r\n                <div onClick={(e)=> dropDownButton.current?.close()} style={{transform: 'scaleX(-1)'}}>\r\n                    <button className={\"w-100 btn btn-outline-success\"} style={{height: 'var(--smart-editor-height)'}}\r\n                            onClick={()=>addControl('number')}>+ Number</button>\r\n                    <button className={\"w-100 btn btn-outline-success\"} style={{height: 'var(--smart-editor-height)'}}\r\n                            onClick={()=>addControl('text')}>+ Text</button>\r\n                    <button className={\"w-100 btn btn-outline-success\"} style={{height: 'var(--smart-editor-height)'}}\r\n                            onClick={()=>addControl('path')}>+ Path</button>\r\n                </div>\r\n            </DropDownButton>\r\n        </div>\r\n\r\n        <hr/>\r\n        <Input data={view} field={'cssIsGlobal'} type={\"checkbox\"} jsxLabel={\r\n            <span style={{width:'80%', display:'inline-block'}}>\r\n                {cssIsGlobal ? <b style={{color: 'inherit', fontWeight:'bold'}}>Global</b> : <b style={{color: 'inherit'}}>Local</b>}\r\n                \r\n                {' CSS & LESS Editor '}\r\n                {cssIsGlobal ? <b style={{color: 'red', fontSize:'0.7em', fontWeight:'bold'}}>Use with caution</b> : ''}\r\n            </span>\r\n        } />\r\n        {/*<label className={'ms-1 mb-1'}>{view.cssIsGlobal ? 'Global' : 'Local'} CSS Editor</label>*/}\r\n        <div className={\"monaco-editor-wrapper\"} style={{\r\n            minHeight: '20ùpx', height:'200px'/*there is a bug of height 100% on childrens not working if parent have only minHeight*/,\r\n            resize: 'vertical', overflow:'hidden'}} onBlur={blur}>\r\n            <Editor className={'mx-1'}\r\n                    options={{fontSize: 12, scrollbar: {vertical: 'hidden', horizontalScrollbarSize: 5}, minimap: {enabled: false}, readOnly: readOnly}}\r\n                    defaultLanguage={'less'} value={view.css} onChange={change}/>\r\n        </div>\r\n        <div className={\"debug\"}><div style={{whiteSpace:'pre'}}>{view.compiled_css}</div></div>\r\n        {/*<textarea>\r\n            '[data-viewid=\"'+view.id+'\"]{\\n' +\r\n            Object.entries(palette).flatMap((entry, index, entries)=>{\r\n                let prefix = entry[0];\r\n                let colors = entry[1];\r\n                return colors.map((color, i)=> \"\\t--\" + prefix + i + \": \" + color + \";\\n\");\r\n            }).join('')+'\\n' + (cssISGlobal ? '}\\n' : '\\n') +\r\n            '/ *** custom css area *** /\\n' + view.css + (!cssISGlobal ? '}\\n' : '\\n')\r\n            view.css\r\n        </textarea>*/}\r\n        {\r\n            // todo: if row have only 1 color can be accessed both as palette prefix-1 or as palett prefix without number, so i can name colors.\r\n        }\r\n\r\n    </section>);\r\n}\r\n\r\ninterface OwnProps {viewID: Pointer<DViewElement, 1, 1, LViewElement>, readonly: boolean}\r\ninterface StateProps {view: LViewElement}\r\ninterface DispatchProps { }\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const view = LViewElement.fromPointer(ownProps.viewID);\r\n    return {view};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\n\r\nexport const PaletteDataConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(PaletteDataComponent);\r\n\r\nexport const PaletteData = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <PaletteDataConnected {...{...props, children}} />;\r\n}\r\nexport default PaletteData;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}