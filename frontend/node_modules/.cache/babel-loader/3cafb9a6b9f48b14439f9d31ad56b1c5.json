{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import{LProject,Try,U}from'../joiner';import{Dashboard}from'./components';import Storage from\"../data/storage\";import{Cards}from'./components/cards/Cards';import{Catalog}from'./components/catalog/Catalog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AllProjectsComponent(props){const{projects}=props;const reader=new FileReader();reader.onload=async e=>{var _e$target;/* Import Project File */const content=String((_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result);if(!content)return;try{const project=JSON.parse(content);const projects=Storage.read('projects')||[];const filtered=projects.filter(p=>p.id!==project.id);filtered.push(project);Storage.write('projects',filtered);U.resetState();}catch(e){alert('Invalid File.');}};const importProject=async e=>{const files=e.target.files||[];if(!files.length)return;const file=files[0];reader.readAsText(file);};return/*#__PURE__*/_jsx(Try,{children:/*#__PURE__*/_jsx(Dashboard,{active:'Recent',version:props.version,children:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Cards,{children:[/*#__PURE__*/_jsx(Cards.Item,{title:'Need help?',subtitle:'Don\\' ask Alexa, click here instead.',icon:'alexa',style:'red-orange'}),false&&/*#__PURE__*/_jsx(Cards.Item,{icon:'question',style:'clear',title:'Ehy!',subtitle:'What do you want to do today?'})]}),/*#__PURE__*/_jsx(Catalog,{projects:projects})]})})});}function mapStateToProps(state,ownProps){const ret={};ret.projects=LProject.fromArr(state.projects);ret.version=state.version;return ret;}function mapDispatchToProps(dispatch){const ret={};return ret;}const AllProjectsConnected=connect(mapStateToProps,mapDispatchToProps)(AllProjectsComponent);const RecentPage=function(props){let children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return/*#__PURE__*/_jsx(AllProjectsConnected,{...props,children});};export{RecentPage};","map":{"version":3,"names":["React","connect","LProject","Try","U","Dashboard","Storage","Cards","Catalog","jsx","_jsx","jsxs","_jsxs","AllProjectsComponent","props","projects","reader","FileReader","onload","e","_e$target","content","String","target","result","project","JSON","parse","read","filtered","filter","p","id","push","write","resetState","alert","importProject","files","length","file","readAsText","children","active","version","Fragment","Item","title","subtitle","icon","style","mapStateToProps","state","ownProps","ret","fromArr","mapDispatchToProps","dispatch","AllProjectsConnected","RecentPage","arguments","undefined"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/frontend/src/pages/Recent.tsx"],"sourcesContent":["import React, {ChangeEvent, MouseEventHandler, Component, Dispatch, ReactElement, useState, useRef } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {DProject, DState, LProject, Try, U} from '../joiner';\r\nimport {FakeStateProps} from '../joiner/types';\r\nimport {Dashboard, Project} from './components';\r\nimport Storage from \"../data/storage\";\r\n\r\nimport {Menu, Item, Divisor} from './components/menu/Menu';\r\nimport { Cards, Card } from './components/cards/Cards';\r\nimport { Catalog } from './components/catalog/Catalog';\r\n\r\nimport colors from '../static/img/colors.png';\r\n\r\n\r\nfunction AllProjectsComponent(props: AllProps): JSX.Element {\r\n    const {projects} = props;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = async e => {\r\n        /* Import Project File */\r\n        const content = String(e.target?.result);\r\n        if(!content) return;\r\n        try {\r\n            const project = JSON.parse(content) as DProject;\r\n            const projects = Storage.read<DProject[]>('projects') || [];\r\n            const filtered = projects.filter(p => p.id !== project.id);\r\n            filtered.push(project);\r\n            Storage.write('projects', filtered);\r\n            U.resetState();\r\n        } catch (e) {alert('Invalid File.')}\r\n    }\r\n    \r\n    const importProject = async(e: ChangeEvent<HTMLInputElement>) => {\r\n        const files = e.target.files || [];\r\n        if(!files.length) return;\r\n        const file = files[0];\r\n        reader.readAsText(file);\r\n    }\r\n\r\n\r\n\r\n\r\n    return(<Try>\r\n        <Dashboard active={'Recent'} version={props.version}>\r\n            \r\n            <React.Fragment>                \r\n\r\n                <Cards>\r\n                    <Cards.Item\r\n                        title={'Need help?'} \r\n                        subtitle={'Don\\' ask Alexa, click here instead.'}\r\n                        icon={'alexa'} \r\n                        style={'red-orange'}   \r\n                    />\r\n                    {false && <Cards.Item icon={'question'} style={'clear'} title={'Ehy!'} subtitle={'What do you want to do today?'}/>}\r\n                </Cards>\r\n\r\n                <Catalog projects={projects} />\r\n            </React.Fragment>\r\n            \r\n        </Dashboard>\r\n    </Try>);\r\n}\r\n\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    projects: LProject[];\r\n    version: DState[\"version\"];\r\n}\r\ninterface DispatchProps {}\r\n\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    ret.projects = LProject.fromArr(state.projects);\r\n    ret.version = state.version;\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\nconst AllProjectsConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(AllProjectsComponent);\r\n\r\nconst RecentPage = (props: OwnProps, children: (string | Component)[] = []): ReactElement => {\r\n    return <AllProjectsConnected {...{...props, children}} />;\r\n}\r\n\r\nexport {RecentPage};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}