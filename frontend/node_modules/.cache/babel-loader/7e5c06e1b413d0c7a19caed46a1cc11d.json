{"ast":null,"code":"var _jsxFileName = \"C:\\\\0Programmi\\\\Dev\\\\projects\\\\frontend\\\\jjodel\\\\src\\\\components\\\\editors\\\\viewTabs\\\\SubViews.tsx\",\n  _s = $RefreshSig$();\nimport { useStateIfMounted } from \"use-state-if-mounted\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ViewSubViews(props) {\n  _s();\n  const {\n    view,\n    views\n  } = props;\n  const readOnly = false;\n  const [hoverID, setHoverID] = useStateIfMounted('');\n  const [possibleSubViews, setPossibleSubViews] = useStateIfMounted(views.filter(v => v && v.id !== view.id && !view.subViews.map(v => v.id).includes(v.id)));\n  const [subViewID, setSubViewID] = useStateIfMounted(possibleSubViews[0] ? possibleSubViews[0].id : '');\n  const add = e => {\n    if (!subViewID) return;\n    view.setSubViewScore(subViewID, 1.5);\n    const _possibleSubViews = views.filter(v => v && v.id !== subViewID && v.id !== view.id && !view.subViews.map(v => v.id).includes(v.id));\n    setPossibleSubViews(_possibleSubViews);\n    setSubViewID(_possibleSubViews[0] ? _possibleSubViews[0].id : '');\n  };\n  const remove = (e, subView) => {\n    e.preventDefault();\n    e.stopPropagation();\n    view.setSubViewScore(subViewID, null);\n    setPossibleSubViews([...possibleSubViews, subView]);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'd-flex w-100 mb-2',\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        className: 'my-auto select ',\n        value: subViewID,\n        onChange: e => setSubViewID(e.target.value),\n        children: possibleSubViews.map((v, index) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: v.id,\n            children: v.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 28\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: 'btn btn-primary ms-auto',\n        onClick: add,\n        disabled: !subViewID || readOnly,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: 'p-1 bi bi-plus'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this), view.subViews.map((subView, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'd-flex p-1 mt-1 border round mx-1',\n        tabIndex: -1,\n        onMouseEnter: e => setHoverID(subView.id),\n        onMouseLeave: e => setHoverID(''),\n        onClick: e => /*props.setSelectedView(subView)*/alert('todo'),\n        style: {\n          cursor: 'pointer',\n          background: hoverID === subView.id ? '#E0E0E0' : 'transparent'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            cursor: 'pointer'\n          },\n          className: 'my-auto',\n          children: subView.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: 'btn btn-danger ms-auto',\n          disabled: readOnly,\n          onClick: e => remove(e, subView),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'p-1 bi bi-trash3-fill'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }, this);\n    })]\n  }, void 0, true);\n}\n_s(ViewSubViews, \"SAHMY7+AHMJi9MkZGPVLgOc8SXI=\", false, function () {\n  return [useStateIfMounted, useStateIfMounted, useStateIfMounted];\n});\n_c = ViewSubViews;\nexport { ViewSubViews };\nvar _c;\n$RefreshReg$(_c, \"ViewSubViews\");","map":{"version":3,"names":["useStateIfMounted","React","jsxDEV","_jsxDEV","Fragment","_Fragment","ViewSubViews","props","_s","view","views","readOnly","hoverID","setHoverID","possibleSubViews","setPossibleSubViews","filter","v","id","subViews","map","includes","subViewID","setSubViewID","add","e","setSubViewScore","_possibleSubViews","remove","subView","preventDefault","stopPropagation","children","className","value","onChange","target","index","name","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","tabIndex","onMouseEnter","onMouseLeave","alert","style","cursor","background","_c","$RefreshReg$"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/components/editors/viewTabs/SubViews.tsx"],"sourcesContent":["import {useStateIfMounted} from \"use-state-if-mounted\";\r\nimport React, {MouseEvent} from \"react\";\r\nimport {LViewElement} from \"../../../view/viewElement/view\";\r\nimport {LProject} from \"../../../joiner\";\r\n\r\ntype Props = {view: LViewElement, views: LViewElement[]};\r\nfunction ViewSubViews(props: Props): JSX.Element {\r\n    const {view, views} = props;\r\n\r\n    const readOnly = false;\r\n    const [hoverID, setHoverID] = useStateIfMounted('');\r\n    const [possibleSubViews, setPossibleSubViews] = useStateIfMounted(views.filter(v => v && v.id !== view.id && !view.subViews.map(v => v.id).includes(v.id)));\r\n    const [subViewID, setSubViewID] = useStateIfMounted((possibleSubViews[0]) ? possibleSubViews[0].id : '');\r\n\r\n    const add = (e: MouseEvent) => {\r\n        if(!subViewID) return;\r\n        view.setSubViewScore(subViewID, 1.5);\r\n        const _possibleSubViews = views.filter(v => v && v.id !== subViewID && v.id !== view.id && !view.subViews.map(v => v.id).includes(v.id));\r\n        setPossibleSubViews(_possibleSubViews);\r\n        setSubViewID((_possibleSubViews[0]) ? _possibleSubViews[0].id : '');\r\n    }\r\n\r\n\r\n    const remove = (e: MouseEvent, subView: LViewElement) => {\r\n        e.preventDefault(); e.stopPropagation();\r\n        view.setSubViewScore(subViewID, null);\r\n        setPossibleSubViews([...possibleSubViews, subView]);\r\n    }\r\n\r\n    return(<>\r\n        <div className={'d-flex w-100 mb-2'}>\r\n            <select className={'my-auto select '} value={subViewID} onChange={e => setSubViewID(e.target.value)}>\r\n                {possibleSubViews.map((v, index) => {\r\n                    return(<option key={index} value={v.id}>{v.name}</option>)\r\n                })}\r\n            </select>\r\n            <button className={'btn btn-primary ms-auto'} onClick={add} disabled={!subViewID || readOnly}>\r\n                <i className={'p-1 bi bi-plus'}></i>\r\n            </button>\r\n        </div>\r\n        {view.subViews.map((subView, index) => {\r\n            return <div key={index} className={'d-flex p-1 mt-1 border round mx-1'} tabIndex={-1}\r\n                        onMouseEnter={e => setHoverID(subView.id)} onMouseLeave={e => setHoverID('')}\r\n                        onClick={e => /*props.setSelectedView(subView)*/ alert('todo')}\r\n                        style={{cursor: 'pointer', background: hoverID === subView.id ? '#E0E0E0' : 'transparent'}}>\r\n                <label style={{cursor: 'pointer'}} className={'my-auto'}>{subView.name}</label>\r\n                <button className={'btn btn-danger ms-auto'} disabled={readOnly}\r\n                        onClick={e => remove(e, subView)}>\r\n                    <i className={'p-1 bi bi-trash3-fill'}></i>\r\n                </button>\r\n            </div>\r\n        })}\r\n    </>);\r\n}\r\n\r\nexport {ViewSubViews};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}