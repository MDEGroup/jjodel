{"ast":null,"code":"import Axios from 'axios';\nimport Storage from \"./storage\";\nimport Settings from \"../settings/Settings\";\nclass Api {\n  static headers() {\n    return {\n      'auth-token': Storage.read('token') || ''\n    };\n  }\n  static async get(path) {\n    try {\n      const response = await Axios.get(path, {\n        headers: this.headers()\n      });\n      return {\n        code: response.status,\n        data: response.data\n      };\n    } catch (e) {\n      return {\n        code: 400,\n        data: null\n      };\n    }\n  }\n  static async post(path, obj) {\n    try {\n      const response = await Axios.post(path, obj, {\n        headers: this.headers()\n      });\n      return {\n        code: response.status,\n        data: response.data\n      };\n    } catch (e) {\n      return {\n        code: 400,\n        data: null\n      };\n    }\n  }\n  static async patch(path, obj) {\n    try {\n      const response = await Axios.patch(path, obj, {\n        headers: this.headers()\n      });\n      return {\n        code: response.status,\n        data: response.data\n      };\n    } catch (e) {\n      return {\n        code: 400,\n        data: null\n      };\n    }\n  }\n  static async delete(path) {\n    try {\n      const response = await Axios.delete(path, {\n        headers: this.headers()\n      });\n      return {\n        code: response.status,\n        data: response.data\n      };\n    } catch (e) {\n      return {\n        code: 400,\n        data: null\n      };\n    }\n  }\n}\nApi.persistance = `${Settings.persistanceURL}/persistance`;\nexport default Api;","map":{"version":3,"names":["Axios","Storage","Settings","Api","headers","read","get","path","response","code","status","data","e","post","obj","patch","delete","persistance","persistanceURL"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/data/api.ts"],"sourcesContent":["import Axios from 'axios';\r\nimport {Json} from '../joiner';\r\nimport Storage from \"./storage\";\r\nimport Settings from \"../settings/Settings\";\r\n\r\nexport type Response = {code: number, data: Json|null}\r\nclass Api {\r\n    static persistance = `${Settings.persistanceURL}/persistance`;\r\n\r\n    private static headers(): {'auth-token': string} {\r\n        return {'auth-token': Storage.read('token') || ''};\r\n    }\r\n    static async get(path: string): Promise<Response> {\r\n        try {\r\n            const response = await Axios.get(path, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async post(path: string, obj: Json): Promise<Response> {\r\n        try {\r\n            const response = await Axios.post(path, obj, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async patch(path: string, obj: Json): Promise<Response> {\r\n        try {\r\n            const response = await Axios.patch(path, obj, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n    static async delete(path: string): Promise<Response> {\r\n        try {\r\n            const response = await Axios.delete(path, {headers: this.headers()});\r\n            return {code: response.status, data: response.data};\r\n        } catch (e) {\r\n            return {code: 400, data: null};\r\n        }\r\n    }\r\n}\r\n\r\nexport default Api;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,QAAQ,MAAM,sBAAsB;AAG3C,MAAMC,GAAG,CAAC;EAGN,OAAeC,OAAOA,CAAA,EAA2B;IAC7C,OAAO;MAAC,YAAY,EAAEH,OAAO,CAACI,IAAI,CAAC,OAAO,CAAC,IAAI;IAAE,CAAC;EACtD;EACA,aAAaC,GAAGA,CAACC,IAAY,EAAqB;IAC9C,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACM,GAAG,CAACC,IAAI,EAAE;QAACH,OAAO,EAAE,IAAI,CAACA,OAAO,CAAC;MAAC,CAAC,CAAC;MACjE,OAAO;QAACK,IAAI,EAAED,QAAQ,CAACE,MAAM;QAAEC,IAAI,EAAEH,QAAQ,CAACG;MAAI,CAAC;IACvD,CAAC,CAAC,OAAOC,CAAC,EAAE;MACR,OAAO;QAACH,IAAI,EAAE,GAAG;QAAEE,IAAI,EAAE;MAAI,CAAC;IAClC;EACJ;EACA,aAAaE,IAAIA,CAACN,IAAY,EAAEO,GAAS,EAAqB;IAC1D,IAAI;MACA,MAAMN,QAAQ,GAAG,MAAMR,KAAK,CAACa,IAAI,CAACN,IAAI,EAAEO,GAAG,EAAE;QAACV,OAAO,EAAE,IAAI,CAACA,OAAO,CAAC;MAAC,CAAC,CAAC;MACvE,OAAO;QAACK,IAAI,EAAED,QAAQ,CAACE,MAAM;QAAEC,IAAI,EAAEH,QAAQ,CAACG;MAAI,CAAC;IACvD,CAAC,CAAC,OAAOC,CAAC,EAAE;MACR,OAAO;QAACH,IAAI,EAAE,GAAG;QAAEE,IAAI,EAAE;MAAI,CAAC;IAClC;EACJ;EACA,aAAaI,KAAKA,CAACR,IAAY,EAAEO,GAAS,EAAqB;IAC3D,IAAI;MACA,MAAMN,QAAQ,GAAG,MAAMR,KAAK,CAACe,KAAK,CAACR,IAAI,EAAEO,GAAG,EAAE;QAACV,OAAO,EAAE,IAAI,CAACA,OAAO,CAAC;MAAC,CAAC,CAAC;MACxE,OAAO;QAACK,IAAI,EAAED,QAAQ,CAACE,MAAM;QAAEC,IAAI,EAAEH,QAAQ,CAACG;MAAI,CAAC;IACvD,CAAC,CAAC,OAAOC,CAAC,EAAE;MACR,OAAO;QAACH,IAAI,EAAE,GAAG;QAAEE,IAAI,EAAE;MAAI,CAAC;IAClC;EACJ;EACA,aAAaK,MAAMA,CAACT,IAAY,EAAqB;IACjD,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACgB,MAAM,CAACT,IAAI,EAAE;QAACH,OAAO,EAAE,IAAI,CAACA,OAAO,CAAC;MAAC,CAAC,CAAC;MACpE,OAAO;QAACK,IAAI,EAAED,QAAQ,CAACE,MAAM;QAAEC,IAAI,EAAEH,QAAQ,CAACG;MAAI,CAAC;IACvD,CAAC,CAAC,OAAOC,CAAC,EAAE;MACR,OAAO;QAACH,IAAI,EAAE,GAAG;QAAEE,IAAI,EAAE;MAAI,CAAC;IAClC;EACJ;AACJ;AAtCMR,GAAG,CACEc,WAAW,GAAG,GAAGf,QAAQ,CAACgB,cAAc,cAAc;AAuCjE,eAAef,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}