{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\pages\\\\AllProjects.tsx\",\n  _this = this;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { LProject, Try, U } from '../joiner';\nimport { Dashboard, Project } from './components';\nimport Storage from \"../data/storage\";\nimport { JQDock } from \"../components/MyDock\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DockTest() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"myydock\",\n    style: {\n      zIndex: 9999,\n      position: absolute\n    },\n    children: /*#__PURE__*/_jsxDEV(JQDock, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 74\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 12\n  }, this);\n}\n_c = DockTest;\nfunction AllProjectsComponent(props) {\n  const {\n    projects\n  } = props;\n  const reader = new FileReader();\n  reader.onload = async e => {\n    var _e$target;\n    /* Import Project File */\n    const content = String((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result);\n    if (!content) return;\n    try {\n      const project = JSON.parse(content);\n      const projects = Storage.read('projects') || [];\n      const filtered = projects.filter(p => p.id !== project.id);\n      filtered.push(project);\n      Storage.write('projects', filtered);\n      U.refresh();\n    } catch (e) {\n      alert('Invalid File.');\n    }\n  };\n  const importProject = async e => {\n    const files = e.target.files || [];\n    if (!files.length) return;\n    const file = files[0];\n    reader.readAsText(file);\n  };\n  return /*#__PURE__*/_jsxDEV(Try, {\n    children: /*#__PURE__*/_jsxDEV(Dashboard, {\n      active: 'All',\n      version: props.version,\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(DockTest, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'ms-2 p-1 bg-primary w-25 rounded me-auto',\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            className: 'd-block text-center text-gray',\n            children: \"Do you want to import a project?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: 'form-control w-100',\n            type: 'file',\n            onChange: async e => await importProject(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: projects.length > 0 ? 'flex' : 'none',\n            overflow: 'scroll'\n          },\n          className: 'flex-wrap',\n          children: projects.map(p => /*#__PURE__*/_jsxDEV(Project, {\n            data: p\n          }, p.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 40\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 12\n  }, this);\n}\n_c2 = AllProjectsComponent;\nfunction mapStateToProps(state, ownProps) {\n  const ret = {};\n  ret.projects = LProject.fromArr(state.projects);\n  ret.version = state.version;\n  return ret;\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nconst AllProjectsConnected = connect(mapStateToProps, mapDispatchToProps)(AllProjectsComponent);\nconst AllProjectsPage = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(AllProjectsConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 12\n  }, _this);\n};\n_c3 = AllProjectsPage;\nexport { AllProjectsPage };\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"DockTest\");\n$RefreshReg$(_c2, \"AllProjectsComponent\");\n$RefreshReg$(_c3, \"AllProjectsPage\");","map":{"version":3,"names":["React","connect","LProject","Try","U","Dashboard","Project","Storage","JQDock","jsxDEV","_jsxDEV","DockTest","id","style","zIndex","position","absolute","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","AllProjectsComponent","props","projects","reader","FileReader","onload","e","_e$target","content","String","target","result","project","JSON","parse","read","filtered","filter","p","push","write","refresh","alert","importProject","files","length","file","readAsText","active","version","className","type","onChange","display","overflow","map","data","_c2","mapStateToProps","state","ownProps","ret","fromArr","mapDispatchToProps","dispatch","AllProjectsConnected","AllProjectsPage","arguments","undefined","_this","_c3","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/pages/AllProjects.tsx"],"sourcesContent":["import React, {ChangeEvent, Component, Dispatch, ReactElement} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {DProject, DState, LProject, Try, U} from '../joiner';\r\nimport {FakeStateProps} from '../joiner/types';\r\nimport {Dashboard, Project} from './components';\r\nimport Storage from \"../data/storage\";\r\n\r\nimport {JQDock} from \"../components/MyDock\";\r\n\r\n\r\nfunction DockTest() {\r\n    return <div id={\"myydock\"} style={{zIndex:9999, position: absolute}}><JQDock/></div>\r\n}\r\n\r\n\r\n\r\nfunction AllProjectsComponent(props: AllProps): JSX.Element {\r\n    const {projects} = props;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = async e => {\r\n        /* Import Project File */\r\n        const content = String(e.target?.result);\r\n        if(!content) return;\r\n        try {\r\n            const project = JSON.parse(content) as DProject;\r\n            const projects = Storage.read<DProject[]>('projects') || [];\r\n            const filtered = projects.filter(p => p.id !== project.id);\r\n            filtered.push(project);\r\n            Storage.write('projects', filtered);\r\n            U.refresh();\r\n        } catch (e) {alert('Invalid File.')}\r\n    }\r\n    const importProject = async(e: ChangeEvent<HTMLInputElement>) => {\r\n        const files = e.target.files || [];\r\n        if(!files.length) return;\r\n        const file = files[0];\r\n        reader.readAsText(file);\r\n    }\r\n\r\n    return(<Try>\r\n        <Dashboard active={'All'} version={props.version}>\r\n            <section>\r\n                <DockTest/>\r\n                <div className={'ms-2 p-1 bg-primary w-25 rounded me-auto'}>\r\n                    <b className={'d-block text-center text-gray'}>Do you want to import a project?</b>\r\n                    <input className={'form-control w-100'} type={'file'} onChange={async e => await importProject(e)} />\r\n                </div>\r\n                <div style={{display: (projects.length > 0) ? 'flex' : 'none', overflow: 'scroll'}} className={'flex-wrap'}>\r\n                    {projects.map(p => <Project key={p.id} data={p} />)}\r\n                </div>\r\n            </section>\r\n        </Dashboard>\r\n    </Try>);\r\n}\r\n\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    projects: LProject[];\r\n    version: DState[\"version\"];\r\n}\r\ninterface DispatchProps {}\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    ret.projects = LProject.fromArr(state.projects);\r\n    ret.version = state.version;\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\nconst AllProjectsConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(AllProjectsComponent);\r\n\r\nconst AllProjectsPage = (props: OwnProps, children: (string | Component)[] = []): ReactElement => {\r\n    return <AllProjectsConnected {...{...props, children}} />;\r\n}\r\n\r\nexport {AllProjectsPage};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}