{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\forEndUser\\\\Tooltip.tsx\",\n  _dec,\n  _class,\n  _class2;\nimport React, { isValidElement } from 'react';\nimport { Log, RuntimeAccessible, Size } from '../../joiner';\nimport './tooltip.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass TooltipVisualizerState {\n  constructor() {\n    this.tooltip = void 0;\n    this.baseElement = void 0;\n    this.position = false;\n  } // true = top, false = bottom\n}\nexport class TooltipVisualizer extends React.Component {\n  constructor() {\n    super({});\n    this.state = new TooltipVisualizerState();\n    TooltipVisualizer.component = this;\n  }\n  onMouseEnter() {\n    TooltipVisualizer.component.setState({\n      position: !TooltipVisualizer.component.state.position\n    });\n  }\n  render() {\n    let tooltip = this.state.tooltip;\n    if (!tooltip) return null;\n    const style = {};\n    if (this.state.baseElement) {\n      // todo: set top, left in pos:absolute according to baseElement\n      //style.position = 'absolute';\n      let size = Size.of(this.state.baseElement);\n      style.left = 'min( 50vw, calc( ' + size.x + 'px - 50vw ))';\n      style.top = 'min( 50vh, calc( ' + size.y + 'px - 50vh ))';\n      // style.right = 'calc( 100vw - '+size.w+'px)';\n      // currently center of tooltip is topleft of baseelem\n    }\n\n    // wrapper cannot contain only rawtext without subelements to be rendered\n    if (typeof tooltip !== 'object') tooltip = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: tooltip\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 52\n    }, this);\n    if (Array.isArray(tooltip)) tooltip = tooltip.map(e => typeof e !== 'object' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: e\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 88\n    }, this) : e);\n    // NB: arrays are allowed but currently show elements in an horizontal line\n    console.log('tooltip', style, this.state);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...style,\n        width: 0,\n        height: 0,\n        border: '2px solid red'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tooltip-wrapper \" + (this.state.position ? \"top\" : \"bottom\") + (this.state.baseElement ? \" inline\" : \" fixed\"),\n      onMouseEnter: this.onMouseEnter,\n      style: style,\n      children: tooltip\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 16\n    }, this);\n  }\n}\nTooltipVisualizer.component = void 0;\nexport let Tooltip = (_dec = RuntimeAccessible('Tooltip'), _dec(_class = (_class2 = class Tooltip extends React.Component {\n  constructor(props) {\n    super(props);\n    this.tooltip = void 0;\n    this.childhtml = null;\n    this.state = {};\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n  }\n  static show(tooltip, onTop, baseElement) {\n    let seconds = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;\n    tooltip = Tooltip.fixTooltip(tooltip);\n    const statepatch = {\n      tooltip,\n      baseElement\n    };\n    if (onTop !== undefined) statepatch.position = onTop;\n    TooltipVisualizer.component.setState(statepatch);\n    if (seconds > 0) setTimeout(() => {\n      if (TooltipVisualizer.component.state.tooltip !== tooltip) return;\n      if (TooltipVisualizer.component.state.baseElement !== baseElement) return;\n      TooltipVisualizer.component.setState({\n        tooltip: undefined,\n        baseElement: undefined\n      });\n    }, seconds * 1000);\n  }\n  static hide() {\n    TooltipVisualizer.component.setState({\n      tooltip: undefined\n    });\n  }\n  onMouseEnter(e) {\n    let inline = this.props.inline;\n    let onTop = this.props.position === 'bottom' ? false : this.props.position === 'top' ? true : undefined;\n    Tooltip.show(this.tooltip, onTop, inline ? this.childhtml || undefined : undefined);\n  }\n  onMouseLeave(e) {\n    Tooltip.hide();\n  }\n  componentWillUnmount() {\n    this.onMouseLeave();\n  }\n  static fixTooltip(t) {\n    return t;\n    // const onMouseEnter = Tooltip.mergeEvents(t, \"onMouseEnter\", ()=> TooltipVisualizer.component.setState({position: !TooltipVisualizer.component.position}));\n    //return React.cloneElement(t, {onMouseEnter});\n  }\n  static mergeEvents(c, key, func) {\n    if (!c.props[key]) return func;\n    let evt = function () {\n      let ret = undefined;\n      if (typeof c.props[key] !== \"function\") Log.ww(\"<Tooltip /> component requires his child to have \" + key + \" props either missing or a valid function\");else {\n        ret = c.props[key](...arguments);\n      }\n      func(...arguments);\n      return ret;\n    };\n    return evt;\n  }\n  render() {\n    var _this = this;\n    if (!this.props.tooltip) return this.props.children;\n    if (Array.isArray(this.props.children)) return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"<Tooltip /> component requires exactly 1 element as children. Wrap the subelements in a container element.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 56\n    }, this);\n    if (!this.props.children || ! /*#__PURE__*/isValidElement(this.props.children)) return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"<Tooltip /> component requires a html or react node as children.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 82\n    }, this);\n    for (let k of Object.keys(this.props)) switch (k) {\n      default:\n        Log.ww('<Tooltip /> component cannot accept props other than \"key\", \"position\", and \"tooltip\".');\n        break;\n      case 'children':\n      case 'key':\n      case 'tooltip':\n      case 'position':\n        break;\n      // case \"inline\": break;\n    }\n    this.tooltip = Tooltip.fixTooltip(this.props.tooltip);\n    let c = this.props.children;\n    const onMouseEnter = Tooltip.mergeEvents(c, 'onMouseEnter', this.onMouseEnter);\n    const onMouseLeave = Tooltip.mergeEvents(c, 'onMouseLeave', this.onMouseLeave);\n    let ref = undefined;\n    if (c.props.ref) {\n      const pref = c.props.ref;\n      switch (typeof pref) {\n        case \"object\":\n          this.childhtml = pref.current;\n          break;\n        case \"function\":\n          ref = function (e) {\n            for (var _len = arguments.length, a = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n              a[_key - 1] = arguments[_key];\n            }\n            pref(e, a);\n            _this.childhtml = e;\n          };\n          break;\n        case \"string\":\n          Log.ee(\"Found React-ref of type string in Tooltip children which is unsupported. Use object or funcional refs.\");\n          break;\n      }\n    } else ref = ref => {\n      this.childhtml = ref;\n    };\n    const injectProps = {\n      onMouseEnter,\n      onMouseLeave\n    };\n    if (ref) injectProps.ref = ref;\n    let ret = /*#__PURE__*/React.cloneElement(c, injectProps);\n    return ret;\n  }\n}, _class2.cname = \"Tooltip\", _class2)) || _class);\n// const TooltipConnected = connect<StateProps, DispatchProps, OwnProps, DState>(mapStateToProps, mapDispatchToProps)(TooltipComponent);\n\n// export function Tooltip(props: OwnProps): ReactElement { return <TooltipConnected {...{...props}}>{props.children}</TooltipConnected>; }\n\n//TooltipComponent.cname = 'TooltipComponent';\n//TooltipConnected.cname = 'TooltipConnected';\nTooltip.cname = 'Tooltip';","map":{"version":3,"names":["React","isValidElement","Log","RuntimeAccessible","Size","jsxDEV","_jsxDEV","TooltipVisualizerState","constructor","tooltip","baseElement","position","TooltipVisualizer","Component","state","component","onMouseEnter","setState","render","style","size","of","left","x","top","y","children","fileName","_jsxFileName","lineNumber","columnNumber","Array","isArray","map","e","console","log","width","height","border","className","Tooltip","_dec","_class","_class2","props","childhtml","bind","onMouseLeave","show","onTop","seconds","arguments","length","undefined","fixTooltip","statepatch","setTimeout","hide","inline","componentWillUnmount","t","mergeEvents","c","key","func","evt","ret","ww","_this","k","Object","keys","ref","pref","current","_len","a","_key","ee","injectProps","cloneElement","cname"],"sources":["C:/d/Programming/web/jodel-mde/src/components/forEndUser/Tooltip.tsx"],"sourcesContent":["import React, {\r\n    Dispatch,\r\n    isValidElement,\r\n    KeyboardEvent,\r\n    LegacyRef,\r\n    ReactElement,\r\n    ReactNode,\r\n    Ref,\r\n    RefObject\r\n} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {DState} from '../../redux/store';\r\nimport {\r\n    Defaults,\r\n    DPointerTargetable,\r\n    DV,\r\n    GObject,\r\n    Keystrokes,\r\n    Log,\r\n    LPointerTargetable,\r\n    Overlap,\r\n    Pointer, store,\r\n    U, LoggerCategoryState, RuntimeAccessible, Size\r\n} from '../../joiner';\r\nimport './tooltip.scss';\r\nclass TooltipVisualizerState{\r\n    tooltip?: ReactNode;\r\n    baseElement?: Element;\r\n    position?: boolean = false; // true = top, false = bottom\r\n}\r\nexport class TooltipVisualizer extends React.Component<{}, TooltipVisualizerState> {\r\n    public static component: TooltipVisualizer;\r\n    constructor(){\r\n        super({});\r\n        this.state = new TooltipVisualizerState();\r\n        TooltipVisualizer.component = this;\r\n    }\r\n    onMouseEnter(){\r\n        TooltipVisualizer.component.setState({position: !TooltipVisualizer.component.state.position});\r\n    }\r\n    render(){\r\n        let tooltip = this.state.tooltip;\r\n        if (!tooltip) return null;\r\n        const style: GObject = {}\r\n        if (this.state.baseElement){\r\n            // todo: set top, left in pos:absolute according to baseElement\r\n            //style.position = 'absolute';\r\n            let size = Size.of(this.state.baseElement);\r\n            style.left = 'min( 50vw, calc( '+size.x+'px - 50vw ))';\r\n            style.top = 'min( 50vh, calc( '+size.y+'px - 50vh ))';\r\n            // style.right = 'calc( 100vw - '+size.w+'px)';\r\n            // currently center of tooltip is topleft of baseelem\r\n        }\r\n\r\n        // wrapper cannot contain only rawtext without subelements to be rendered\r\n        if (typeof tooltip !== 'object') tooltip = <div>{tooltip}</div>;\r\n        if (Array.isArray(tooltip)) tooltip = tooltip.map(e => typeof e !== 'object' ? <div>{e}</div> : e)\r\n        // NB: arrays are allowed but currently show elements in an horizontal line\r\n        console.log('tooltip', style, this.state);\r\n        return  <div style={{...style, width:0, height:0, border:'2px solid red'}} />;\r\n\r\n        return <div className={\"tooltip-wrapper \" +\r\n            (this.state.position ? \"top\" : \"bottom\")+\r\n            (this.state.baseElement ? \" inline\" : \" fixed\")\r\n        } onMouseEnter={this.onMouseEnter}\r\n                    style={style}>\r\n            {tooltip}</div>;\r\n    }\r\n}\r\n\r\n@RuntimeAccessible('Tooltip')\r\nexport class Tooltip extends React.Component<AllProps, State> {\r\n    static cname: string = \"Tooltip\";\r\n    tooltip!: ReactNode;\r\n\r\n    constructor(props: AllProps) {\r\n        super(props);\r\n        this.state = { };\r\n        this.onMouseEnter = this.onMouseEnter.bind(this);\r\n        this.onMouseLeave = this.onMouseLeave.bind(this);\r\n    }\r\n    public static show(tooltip: ReactNode, onTop?: boolean, baseElement?: Element, seconds: number = -1): void{\r\n        tooltip = Tooltip.fixTooltip(tooltip);\r\n        const statepatch: Partial<TooltipVisualizerState> = {tooltip, baseElement};\r\n        if (onTop !== undefined) statepatch.position = onTop;\r\n        TooltipVisualizer.component.setState(statepatch);\r\n        if (seconds>0) setTimeout( () => {\r\n            if (TooltipVisualizer.component.state.tooltip !== tooltip) return;\r\n            if (TooltipVisualizer.component.state.baseElement !== baseElement) return;\r\n            TooltipVisualizer.component.setState({tooltip: undefined, baseElement: undefined});\r\n            }, seconds * 1000);\r\n    }\r\n    public static hide(): void {\r\n        TooltipVisualizer.component.setState({tooltip: undefined});\r\n    }\r\n\r\n    onMouseEnter(e?: MouseEvent): void{\r\n        let inline = this.props.inline;\r\n        let onTop = this.props.position === 'bottom' ? false : (this.props.position === 'top' ? true : undefined);\r\n        Tooltip.show(this.tooltip, onTop, inline ? (this.childhtml || undefined) : undefined);\r\n    }\r\n    onMouseLeave(e?: MouseEvent): void{\r\n        Tooltip.hide();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.onMouseLeave();\r\n    }\r\n    private static fixTooltip(t: ReactNode): ReactNode{\r\n        return t;\r\n        // const onMouseEnter = Tooltip.mergeEvents(t, \"onMouseEnter\", ()=> TooltipVisualizer.component.setState({position: !TooltipVisualizer.component.position}));\r\n        //return React.cloneElement(t, {onMouseEnter});\r\n    }\r\n    private static mergeEvents(c: React.ReactElement<any, string | React.JSXElementConstructor<any>> | React.ReactPortal, key: string, func: (...a:any)=>any): ((...a:any)=>any) {\r\n        if (!c.props[key]) return func;\r\n\r\n        let evt = (...a:any[])=>{\r\n            let ret: any = undefined;\r\n            if (typeof c.props[key] !== \"function\") Log.ww(\"<Tooltip /> component requires his child to have \"+key+\" props either missing or a valid function\");\r\n            else { ret = c.props[key](...a); }\r\n            func(...a);\r\n            return ret;\r\n        }\r\n        return evt;\r\n\r\n\r\n    }\r\n    childhtml: Element | null = null;\r\n\r\n    render() {\r\n        if (!this.props.tooltip) return this.props.children;\r\n        if (Array.isArray(this.props.children)) return <span>\r\n            &lt;Tooltip /&gt; component requires exactly 1 element as children. Wrap the subelements in a container element.\r\n        </span>\r\n        if (!this.props.children || !isValidElement(this.props.children)) return <span>\r\n            &lt;Tooltip /&gt; component requires a html or react node as children.\r\n        </span>\r\n        for (let k of Object.keys(this.props)) switch (k){\r\n            default: Log.ww('<Tooltip /> component cannot accept props other than \"key\", \"position\", and \"tooltip\".'); break;\r\n            case 'children': case 'key': case 'tooltip': case 'position': break;\r\n            // case \"inline\": break;\r\n        }\r\n        this.tooltip = Tooltip.fixTooltip(this.props.tooltip);\r\n\r\n        let c = this.props.children;\r\n        const onMouseEnter = Tooltip.mergeEvents(c, 'onMouseEnter', this.onMouseEnter);\r\n        const onMouseLeave = Tooltip.mergeEvents(c, 'onMouseLeave', this.onMouseLeave);\r\n        let ref: Ref<Element> | undefined = undefined;\r\n        if (c.props.ref) {\r\n            const pref = c.props.ref;\r\n            switch(typeof pref){\r\n                case \"object\": this.childhtml = (pref as RefObject<Element>).current; break;\r\n                case \"function\": ref = (e: Element, ...a:any)=> { pref(e, a); this.childhtml = e;}; break;\r\n                case \"string\": Log.ee(\"Found React-ref of type string in Tooltip children which is unsupported. Use object or funcional refs.\"); break;\r\n            }\r\n        } else ref = ((ref: Element | null) => { this.childhtml = ref; } );\r\n\r\n        const injectProps: GObject = {onMouseEnter, onMouseLeave};\r\n        if (ref) injectProps.ref = ref;\r\n        let ret = React.cloneElement(c, injectProps);\r\n        return ret;\r\n    }\r\n\r\n}\r\ninterface State{\r\n}\r\ninterface OwnProps {\r\n    key?: React.Key | null;\r\n    catch?: ReactNode | ((error: Error, info?: React.ErrorInfo) => ReactNode);\r\n    children: ReactNode;\r\n    tooltip: ReactNode;\r\n    inline?: boolean;\r\n    position?: 'top' | 'bottom'; // missing means on global center-bottom. top or bottom means on top-bottom of child element (inline-like)\r\n    // inline: boolean;\r\n}\r\ninterface StateProps {\r\n}\r\ninterface DispatchProps { }\r\ntype AllProps = Overlap<OwnProps, Overlap<StateProps, DispatchProps>>;\r\n\r\n\r\n// const TooltipConnected = connect<StateProps, DispatchProps, OwnProps, DState>(mapStateToProps, mapDispatchToProps)(TooltipComponent);\r\n\r\n\r\n// export function Tooltip(props: OwnProps): ReactElement { return <TooltipConnected {...{...props}}>{props.children}</TooltipConnected>; }\r\n\r\n//TooltipComponent.cname = 'TooltipComponent';\r\n//TooltipConnected.cname = 'TooltipConnected';\r\nTooltip.cname = 'Tooltip';\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}