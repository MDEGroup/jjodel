{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\editors\\\\NodeEditor.tsx\",\n  _this = this;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { L, Input, GenericInput, SetRootFieldAction } from '../../joiner';\nimport './editors.scss';\nimport './node-editor.scss';\nimport { Empty } from \"./Empty\";\nimport { CommandBar, Btn } from '../commandbar/CommandBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction NodeEditorComponent(props) {\n  var _node$father;\n  const selected = props.selected;\n  const editable = true;\n  if (!(selected === null || selected === void 0 ? void 0 : selected.node)) return /*#__PURE__*/_jsxDEV(Empty, {\n    msg: 'Select a node.'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 33\n  }, this);\n  const node = selected.node;\n  const dnode = node.__raw || node;\n  let cname = dnode.className;\n  let isGraph = ['DGraph', 'DGraphVertex'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DGraph');\n  let isVertex = ['DVoidVertex', 'DVertex', 'DEdgePoint'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidVertex');\n  let isEdge = ['DVoidEdge', 'DEdge'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidEdge');\n  let isField = !isGraph && !isVertex && !isEdge;\n  let asGraph = isGraph && node;\n  let asVertex = isVertex && node;\n  let asEdge = isEdge && node;\n  let asField = isField && node;\n  function openNode(id) {\n    SetRootFieldAction.new('_lastSelected.node', id, '', false);\n  }\n  function getNodeLabel(node) {\n    var _node$model;\n    if (!node) return 'error';\n    let model = (_node$model = node.model) === null || _node$model === void 0 ? void 0 : _node$model.__raw;\n    if (!model) return node.className;\n    return node.className + ' - ' + (model.name || model.className);\n  }\n  function getEdgeLabel(edge) {\n    var _edge$start, _edge$start$model, _edge$end, _edge$end$model;\n    let s = edge === null || edge === void 0 ? void 0 : (_edge$start = edge.start) === null || _edge$start === void 0 ? void 0 : (_edge$start$model = _edge$start.model) === null || _edge$start$model === void 0 ? void 0 : _edge$start$model.__raw;\n    let e = edge === null || edge === void 0 ? void 0 : (_edge$end = edge.end) === null || _edge$end === void 0 ? void 0 : (_edge$end$model = _edge$end.model) === null || _edge$end$model === void 0 ? void 0 : _edge$end$model.__raw;\n    return [s ? s.name || s.className : /*#__PURE__*/_jsxDEV(\"i\", {\n      style: {\n        color: 'orange'\n      },\n      children: \"empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 42\n    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n      className: 'bi bi-arrow-right ms-1 me-1'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), e ? e.name || e.className : /*#__PURE__*/_jsxDEV(\"i\", {\n      style: {\n        color: 'orange'\n      },\n      children: \"empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 42\n    }, this)];\n  }\n  const clickableStyle = {\n    cursor: 'pointer',\n    color: 'gray'\n  };\n  const headerStyle = {\n    marginBottom: 0,\n    marginTop: '0.5em'\n  };\n  const edgeStart = asEdge && asEdge.start;\n  const edgeEnd = asEdge && asEdge.end;\n  const notFoundStyle = {\n    color: 'orange',\n    cursor: 'not-allowed'\n  };\n  const subElements = node.subElements;\n  let edgesIn = !isEdge && node.edgesIn || [];\n  let edgesOut = !isEdge && node.edgesOut || [];\n  const InputRow = props => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        className: 'me-2',\n        children: props.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        data: props.as,\n        field: props.field,\n        type: props.type,\n        readonly: !editable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  };\n  let stackingOrder = /*#__PURE__*/_jsxDEV(InputRow, {\n    label: 'Stacking order',\n    as: node,\n    field: 'zIndex',\n    type: 'number'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'p-3 node-editor',\n    children: [asGraph && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Graph\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asGraph,\n        field: 'zoom'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asGraph,\n        field: 'offset'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), asVertex && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Vertex\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 24\n      }, this), stackingOrder, /*#__PURE__*/_jsxDEV(InputRow, {\n        label: 'X Position',\n        as: asVertex,\n        field: 'x',\n        type: 'number'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InputRow, {\n        label: 'Y Position',\n        as: asVertex,\n        field: 'y',\n        type: 'number'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InputRow, {\n        label: 'Width',\n        as: asVertex,\n        field: 'width',\n        type: 'number'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InputRow, {\n        label: 'Height',\n        as: asVertex,\n        field: 'height',\n        type: 'number'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), asEdge && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Edge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 22\n      }, this), stackingOrder, /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: \"anchorStart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: \"anchorEnd\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), asField && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Field\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 23\n      }, this), stackingOrder]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1em',\n        marginBottom: '1em',\n        borderBottom: '1px solid gray'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this), ((_node$father = node.father) === null || _node$father === void 0 ? void 0 : _node$father.className) && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        style: {\n          display: 'flex'\n        },\n        children: [\"Super element\", /*#__PURE__*/_jsxDEV(CommandBar, {\n          style: {\n            paddingLeft: 'var(--tab-sep)',\n            bottom: '3px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Btn, {\n            icon: 'up',\n            action: e => dnode.father && openNode(dnode.father),\n            tip: 'Go up'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 36\n    }, this), asEdge && [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        style: headerStyle,\n        children: [\"Edge start:\", edgeStart ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: 'ms-2',\n          onClick: e => openNode(edgeStart.id),\n          style: clickableStyle,\n          children: [getNodeLabel(edgeStart), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'ms-1 bi bi-arrow-right'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"Missing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        style: headerStyle,\n        children: [\"Edge End:\", edgeEnd ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: 'ms-2',\n          onClick: e => openNode(edgeEnd.id),\n          style: clickableStyle,\n          children: [getNodeLabel(edgeEnd), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'ms-1 bi bi-arrow-left'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"Missing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }, this)], subElements.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        style: {\n          display: 'flex'\n        },\n        children: [\"Sub elements\", /*#__PURE__*/_jsxDEV(CommandBar, {\n          style: {\n            paddingLeft: 'var(--tab-sep)',\n            bottom: '3px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Btn, {\n            icon: 'down',\n            action: e => {},\n            tip: 'Go down'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }, this), subElements.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'w-100 ms-2 sub-element',\n        onClick: e => openNode(n.id),\n        style: clickableStyle,\n        children: getNodeLabel(n)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 22\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 40\n    }, this), !asEdge && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [edgesOut.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          style: {\n            display: 'flex'\n          },\n          children: \"Outgoing Edges\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }, this), edgesOut.length && edgesOut.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'w-100 ms-2 sub-element',\n          onClick: e => openNode(n.id),\n          style: clickableStyle,\n          children: getEdgeLabel(n)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 55\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 37\n      }, this), edgesIn.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          style: {\n            display: 'flex'\n          },\n          children: \"Incoming Edges\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 17\n        }, this), edgesIn.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'w-100 ms-2 sub-element',\n          onClick: e => openNode(n.id),\n          style: clickableStyle,\n          children: getEdgeLabel(n)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 35\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"h6\", {\n      children: \"Node state\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'object-state',\n      children: [Object.keys(dnode._state).length === 0 && /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: \" Empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 56\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: Object.keys(dnode._state).length ? JSON.stringify(dnode._state, null, '\\t') : undefined\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 12\n  }, this);\n}\n_c = NodeEditorComponent;\nfunction mapStateToProps(state, ownProps) {\n  let ret = {};\n  const selected = state._lastSelected;\n  if (selected) {\n    var _state$_lastSelected, _state$_lastSelected2, _state$_lastSelected3;\n    const modelElement = (_state$_lastSelected = state._lastSelected) === null || _state$_lastSelected === void 0 ? void 0 : _state$_lastSelected.modelElement;\n    const node = (_state$_lastSelected2 = state._lastSelected) === null || _state$_lastSelected2 === void 0 ? void 0 : _state$_lastSelected2.node;\n    const view = (_state$_lastSelected3 = state._lastSelected) === null || _state$_lastSelected3 === void 0 ? void 0 : _state$_lastSelected3.view;\n    if (node && view) {\n      ret.selected = {\n        node: L.fromPointer(node),\n        view: L.fromPointer(node),\n        modelElement: modelElement ? L.fromPointer(modelElement) : undefined\n      };\n    }\n  }\n  return ret;\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nexport const NodeEditorConnected = connect(mapStateToProps, mapDispatchToProps)(NodeEditorComponent);\nexport const NodeEditor = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(NodeEditorConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 12\n  }, _this);\n};\n_c2 = NodeEditor;\nexport default NodeEditor;\nvar _c, _c2;\n$RefreshReg$(_c, \"NodeEditorComponent\");\n$RefreshReg$(_c2, \"NodeEditor\");","map":{"version":3,"names":["React","connect","L","Input","GenericInput","SetRootFieldAction","Empty","CommandBar","Btn","jsxDEV","_jsxDEV","Fragment","_Fragment","NodeEditorComponent","props","_node$father","selected","editable","node","msg","fileName","_jsxFileName","lineNumber","columnNumber","dnode","__raw","cname","className","isGraph","includes","isVertex","isEdge","isField","asGraph","asVertex","asEdge","asField","openNode","id","new","getNodeLabel","_node$model","model","name","getEdgeLabel","edge","_edge$start","_edge$start$model","_edge$end","_edge$end$model","s","start","e","end","style","color","children","clickableStyle","cursor","headerStyle","marginBottom","marginTop","edgeStart","edgeEnd","notFoundStyle","subElements","edgesIn","edgesOut","InputRow","label","data","as","field","type","readonly","stackingOrder","borderBottom","father","display","paddingLeft","bottom","icon","action","tip","onClick","length","map","n","Object","keys","_state","JSON","stringify","undefined","_c","mapStateToProps","state","ownProps","ret","_lastSelected","_state$_lastSelected","_state$_lastSelected2","_state$_lastSelected3","modelElement","view","fromPointer","mapDispatchToProps","dispatch","NodeEditorConnected","NodeEditor","arguments","_this","_c2","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/components/editors/NodeEditor.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {DState} from '../../redux/store';\r\nimport type {\r\n    LModelElement,\r\n    LViewElement,\r\n    LGraphElement,\r\n    LVoidVertex,\r\n    LVoidEdge, LGraph,Pointer, DGraphElement,\r\n    DNamedElement, LNamedElement} from '../../joiner';\r\nimport {\r\n    LPointerTargetable,\r\n    L,\r\n    Input,\r\n    GenericInput,\r\n    TextArea,\r\n    RuntimeAccessibleClass,\r\n    SetRootFieldAction,\r\n} from '../../joiner';\r\nimport './editors.scss';\r\nimport './node-editor.scss';\r\nimport {Empty} from \"./Empty\";\r\nimport { CommandBar, Btn } from '../commandbar/CommandBar';\r\n\r\nfunction NodeEditorComponent(props: AllProps) {\r\n    const selected = props.selected;\r\n    const editable = true;\r\n    if (!selected?.node) return <Empty msg={'Select a node.'} />;\r\n    const node = selected.node;\r\n    const dnode = (node.__raw || node) as DGraphElement\r\n    let cname = dnode.className;\r\n    let isGraph = ['DGraph', 'DGraphVertex'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DGraph');\r\n    let isVertex = ['DVoidVertex', 'DVertex', 'DEdgePoint'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidVertex');\r\n    let isEdge = ['DVoidEdge', 'DEdge'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidEdge');\r\n    let isField = (!isGraph && !isVertex && !isEdge);\r\n    let asGraph: LGraph | undefined = isGraph && node as any;\r\n    let asVertex: LVoidVertex | undefined  = isVertex && node as any;\r\n    let asEdge: LVoidEdge | undefined = isEdge && node as any;\r\n    let asField: LVoidEdge | undefined = isField && node as any;\r\n    function openNode(id: Pointer<DGraphElement>) {\r\n        SetRootFieldAction.new('_lastSelected.node', id, '', false);\r\n    }\r\n\r\n    function getNodeLabel(node: LGraphElement){\r\n        if (!node) return 'error';\r\n        let model: DNamedElement | undefined = node.model?.__raw as any;\r\n        if (!model) return node.className;\r\n        return node.className + ' - ' +(model.name || model.className)\r\n    }\r\n    function getEdgeLabel(edge: LVoidEdge){\r\n        let s: DNamedElement | undefined = edge?.start?.model?.__raw as any;\r\n        let e: DNamedElement | undefined = edge?.end?.model?.__raw as any;\r\n        return [\r\n            (s ? s.name || s.className : <i style={{color: 'orange'}}>empty</i>),\r\n            <i className={'bi bi-arrow-right ms-1 me-1'} />,\r\n            (e ? e.name || e.className : <i style={{color: 'orange'}}>empty</i>)\r\n        ];\r\n\r\n    }\r\n    const clickableStyle = {cursor:'pointer', color: 'gray'};\r\n    const headerStyle = {marginBottom:0, marginTop: '0.5em'};\r\n    const edgeStart: LGraphElement | undefined = asEdge && asEdge.start;\r\n    const edgeEnd: LGraphElement | undefined = asEdge && asEdge.end;\r\n    const notFoundStyle = {color: 'orange', cursor:'not-allowed'};\r\n    const subElements = node.subElements;\r\n    let edgesIn = !isEdge && node.edgesIn || [];\r\n    let edgesOut = !isEdge && node.edgesOut || [];\r\n\r\n\r\n\r\n\r\n\r\n    type InputRowProps = {\r\n        label: string,\r\n        as: any,\r\n        field: string,\r\n        type: string\r\n    }\r\n    const InputRow = (props: any) => {\r\n        return (\r\n            <div className='input-container'>\r\n                <b className={'me-2'}>{props.label}</b>\r\n                <Input data={props.as} field={props.field} type={props.type} readonly={!editable} />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    let stackingOrder = <InputRow label={'Stacking order'} as={node} field={'zIndex'} type={'number'} />\r\n\r\n    return(<div className={'p-3 node-editor'}>\r\n        {/*<Input obj={selected.node} field={'id'} label={'ID'} type={'text'} readonly={true}/>*/}\r\n\r\n        {asGraph && <><h3>Graph</h3>\r\n            <GenericInput data={asGraph} field={'zoom'} />\r\n            <GenericInput data={asGraph} field={'offset'} />\r\n\r\n            {/*graphSize readonly on LGraph but not on DGraph, = internal graph size. put it for info.*/ }\r\n        </>}\r\n\r\n        {asVertex && <><h3>Vertex</h3>\r\n            {stackingOrder}\r\n\r\n            <InputRow label={'X Position'} as={asVertex} field={'x'} type={'number'} />\r\n            <InputRow label={'Y Position'} as={asVertex} field={'y'} type={'number'} />\r\n            <InputRow label={'Width'} as={asVertex} field={'width'} type={'number'} />\r\n            <InputRow label={'Height'} as={asVertex} field={'height'} type={'number'} />\r\n        </>}\r\n\r\n        {asEdge && <><h3>Edge</h3>\r\n            {stackingOrder}\r\n\r\n            {\r\n            //  <>\r\n            //     moved to props & transient properties\r\n            //     <GenericInput data={asEdge} field={'longestLabel'}\r\n            //         placeholder={'(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' +\r\n            //         '\\n\\t// a complex example. The label can be either a function like this or a simple string.' +\r\n            //         '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' +\r\n            //         '\\n}'}/>\r\n            //     <GenericInput data={asEdge} field={'labels'}\r\n            //         placeholder={'(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' +\r\n            //         '\\n\\t// a complex example. The label can be either a function like this or a simple string.' +\r\n            //         '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' +\r\n            //         '\\n}'}/>\r\n            // </>\r\n            }\r\n\r\n            <GenericInput data={asEdge} field={\"anchorStart\"}/>\r\n            <GenericInput data={asEdge} field={\"anchorEnd\"}/>\r\n        </>}\r\n\r\n        {asField && <><h3>Field</h3>\r\n            {stackingOrder}\r\n        </>}\r\n\r\n        <div style={{marginTop:'1em', marginBottom:'1em', borderBottom:'1px solid gray'}}/>\r\n        \r\n        {/* <div>\r\n            <h6 className={'super'}>\r\n                Super element: \r\n                {node.father?.className ?\r\n                    <span onClick={(e)=> dnode.father && openNode(dnode.father)} style={clickableStyle}>\r\n                        {[node.father?.className, <i style={{paddingLeft: '8px'}} className=\"bi bi-chevron-up\"></i>]}\r\n                    </span>\r\n                :\r\n                    <span style={notFoundStyle}>Not contained</span>\r\n                }\r\n            </h6>\r\n            </div>*/}\r\n\r\n        {node.father?.className && <div>\r\n            <h6 style={{display: 'flex'}}>\r\n                Super element \r\n                    {/*<span onClick={(e)=> dnode.father && openNode(dnode.father)} style={clickableStyle}>\r\n                        {[node.father?.className, <i style={{paddingLeft: '8px'}} className=\"bi bi-chevron-up\"></i>]}\r\n                    </span>*/}\r\n                    <CommandBar style={{paddingLeft: 'var(--tab-sep)', bottom: '3px'}}>\r\n                        <Btn icon={'up'} action={(e)=> dnode.father && openNode(dnode.father)} tip={'Go up'}/>\r\n                    </CommandBar>\r\n            </h6>\r\n        </div>}\r\n\r\n        {asEdge && [\r\n            <div><h6 style={headerStyle}>Edge start:{\r\n                edgeStart ?\r\n                    <span className={'ms-2'} onClick={(e)=> openNode(edgeStart.id)} style={clickableStyle}>\r\n                        {getNodeLabel(edgeStart)}<i className={'ms-1 bi bi-arrow-right'}/>\r\n                    </span>\r\n                    : <span style={notFoundStyle}>Missing</span>\r\n            }</h6></div>,\r\n            <div><h6 style={headerStyle}>Edge End:{\r\n                edgeEnd ?\r\n                    <span className={'ms-2'} onClick={(e)=> openNode(edgeEnd.id)} style={clickableStyle}>\r\n                        {getNodeLabel(edgeEnd)}<i className={'ms-1 bi bi-arrow-left'}/>\r\n                    </span>\r\n                    : <span style={notFoundStyle}>Missing</span>\r\n            }</h6></div>\r\n        ]}\r\n        \r\n        {/* <div>\r\n            <h6 style={headerStyle} className='sub'>\r\n                Sub elements\r\n                {subElements.length ? \r\n                    <i style={{paddingLeft: '8px'}}className=\"bi bi-chevron-down\"></i> \r\n                : \r\n                    [': ', <span style={notFoundStyle}>None</span>]\r\n                }\r\n            </h6>\r\n            {subElements.map(\r\n                n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getNodeLabel(n)}</div>\r\n            )}\r\n            </div>*/}\r\n\r\n            {subElements.length > 0 && <div>\r\n            <h6 style={{display: 'flex'}}>\r\n                Sub elements \r\n                \r\n                <CommandBar style={{paddingLeft: 'var(--tab-sep)', bottom: '3px'}}>\r\n                    <Btn icon={'down'} action={(e)=> {}} tip={'Go down'}/>\r\n                </CommandBar>\r\n            </h6>\r\n            \r\n            {subElements.map(\r\n                n => <div className={'w-100 ms-2 sub-element'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getNodeLabel(n)}</div>\r\n            )}\r\n            </div>}\r\n\r\n        {!asEdge && <>\r\n\r\n            {edgesOut.length > 0 && <div>\r\n                <h6 style={{display: 'flex'}}>\r\n                    Outgoing Edges\r\n                </h6>\r\n                {edgesOut.length && edgesOut.map(n => <div className={'w-100 ms-2 sub-element'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>)}\r\n            </div>}\r\n            \r\n            {edgesIn.length > 0 && <div>\r\n                <h6 style={{display: 'flex'}}>\r\n                    Incoming Edges\r\n                </h6>\r\n                {edgesIn.map(n => <div className={'w-100 ms-2 sub-element'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>)}\r\n            </div>}\r\n\r\n            {/*<div>\r\n                <h6 style={headerStyle}>\r\n                    Outgoing Edges {edgesOut.length === 0 && <>: <span style={notFoundStyle}>None</span></>}\r\n                </h6>\r\n                {edgesOut.length && edgesOut.map(n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>)}\r\n            </div>\r\n            \r\n            <div>\r\n                <h6 style={headerStyle}>Incoming Edges{edgesIn.length === 0 && <>: \r\n                    <span style={notFoundStyle}>None</span></>}\r\n                </h6>\r\n                {edgesIn.map(n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>)}\r\n            </div>*/}\r\n        </>}\r\n\r\n\r\n        <h6>Node state</h6>\r\n        <div className={'object-state'}>\r\n            {Object.keys(dnode._state).length === 0 && <pre> Empty</pre>}\r\n            <pre>{Object.keys(dnode._state).length ? JSON.stringify(dnode._state, null, '\\t') : undefined}</pre>\r\n        </div>\r\n\r\n    </div>);\r\n\r\n}\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    selected?: {\r\n        node: LGraphElement;\r\n        view: LViewElement;\r\n        modelElement?: LModelElement;\r\n    };\r\n}\r\ninterface DispatchProps {}\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    let ret: StateProps = {};\r\n    const selected = state._lastSelected;\r\n    if(selected) {\r\n        const modelElement = state._lastSelected?.modelElement;\r\n        const node = state._lastSelected?.node;\r\n        const view = state._lastSelected?.view;\r\n        if(node && view) {\r\n            ret.selected = {\r\n                node: L.fromPointer(node),\r\n                view: L.fromPointer(node),\r\n                modelElement: (modelElement) ? L.fromPointer(modelElement) : undefined\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\n\r\nexport const NodeEditorConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(NodeEditorComponent);\r\n\r\nexport const NodeEditor = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <NodeEditorConnected {...{...props, children}} />;\r\n}\r\nexport default NodeEditor;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}