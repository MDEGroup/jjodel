{"ast":null,"code":"import React from \"react\";\nimport { DockContextType } from \"./DockData\";\nimport { Divider } from \"./Divider\";\nimport { DockPanel } from \"./DockPanel\";\nexport class DockBox extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.getRef = r => {\n      this._ref = r;\n    };\n    this.getDividerData = idx => {\n      if (this._ref) {\n        let {\n          children,\n          mode\n        } = this.props.boxData;\n        let nodes = this._ref.childNodes;\n        if (nodes.length === children.length * 2 - 1) {\n          let dividerChildren = [];\n          for (let i = 0; i < children.length; ++i) {\n            if (mode === 'vertical') {\n              dividerChildren.push({\n                size: nodes[i * 2].offsetHeight,\n                minSize: children[i].minHeight\n              });\n            } else {\n              dividerChildren.push({\n                size: nodes[i * 2].offsetWidth,\n                minSize: children[i].minWidth\n              });\n            }\n          }\n          return {\n            element: this._ref,\n            beforeDivider: dividerChildren.slice(0, idx),\n            afterDivider: dividerChildren.slice(idx)\n          };\n        }\n      }\n      return null;\n    };\n    this.changeSizes = sizes => {\n      let {\n        children\n      } = this.props.boxData;\n      if (children.length === sizes.length) {\n        for (let i = 0; i < children.length; ++i) {\n          children[i].size = sizes[i];\n        }\n        this.forceUpdate();\n      }\n    };\n    this.onDragEnd = () => {\n      this.context.onSilentChange(null, 'move');\n    };\n  }\n  render() {\n    let {\n      boxData\n    } = this.props;\n    let {\n      minWidth,\n      minHeight,\n      size,\n      children,\n      mode,\n      id\n    } = boxData;\n    let isVertical = mode === 'vertical';\n    let childrenRender = [];\n    for (let i = 0; i < children.length; ++i) {\n      if (i > 0) {\n        childrenRender.push(React.createElement(Divider, {\n          idx: i,\n          key: i,\n          isVertical: isVertical,\n          onDragEnd: this.onDragEnd,\n          getDividerData: this.getDividerData,\n          changeSizes: this.changeSizes\n        }));\n      }\n      let child = children[i];\n      if ('tabs' in child) {\n        childrenRender.push(React.createElement(DockPanel, {\n          size: child.size,\n          panelData: child,\n          key: child.id\n        }));\n        // render DockPanel\n      } else if ('children' in child) {\n        childrenRender.push(React.createElement(DockBox, {\n          size: child.size,\n          boxData: child,\n          key: child.id\n        }));\n      }\n    }\n    let cls;\n    if (mode === 'vertical') {\n      cls = 'dock-box dock-vbox';\n    } else {\n      cls = 'dock-box dock-hbox';\n    }\n    return React.createElement(\"div\", {\n      ref: this.getRef,\n      className: cls,\n      \"data-dockid\": id,\n      style: {\n        minWidth,\n        minHeight,\n        flex: \"\".concat(size, \" 1 \").concat(size, \"px\")\n      }\n    }, childrenRender);\n  }\n}\nDockBox.contextType = DockContextType;","map":{"version":3,"names":["React","DockContextType","Divider","DockPanel","DockBox","PureComponent","constructor","arguments","getRef","r","_ref","getDividerData","idx","children","mode","props","boxData","nodes","childNodes","length","dividerChildren","i","push","size","offsetHeight","minSize","minHeight","offsetWidth","minWidth","element","beforeDivider","slice","afterDivider","changeSizes","sizes","forceUpdate","onDragEnd","context","onSilentChange","render","id","isVertical","childrenRender","createElement","key","child","panelData","cls","ref","className","style","flex","concat","contextType"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/frontend/node_modules/rc-dock/es/DockBox.js"],"sourcesContent":["import React from \"react\";\nimport { DockContextType } from \"./DockData\";\nimport { Divider } from \"./Divider\";\nimport { DockPanel } from \"./DockPanel\";\nexport class DockBox extends React.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.getRef = (r) => {\n            this._ref = r;\n        };\n        this.getDividerData = (idx) => {\n            if (this._ref) {\n                let { children, mode } = this.props.boxData;\n                let nodes = this._ref.childNodes;\n                if (nodes.length === children.length * 2 - 1) {\n                    let dividerChildren = [];\n                    for (let i = 0; i < children.length; ++i) {\n                        if (mode === 'vertical') {\n                            dividerChildren.push({ size: nodes[i * 2].offsetHeight, minSize: children[i].minHeight });\n                        }\n                        else {\n                            dividerChildren.push({ size: nodes[i * 2].offsetWidth, minSize: children[i].minWidth });\n                        }\n                    }\n                    return {\n                        element: this._ref,\n                        beforeDivider: dividerChildren.slice(0, idx),\n                        afterDivider: dividerChildren.slice(idx)\n                    };\n                }\n            }\n            return null;\n        };\n        this.changeSizes = (sizes) => {\n            let { children } = this.props.boxData;\n            if (children.length === sizes.length) {\n                for (let i = 0; i < children.length; ++i) {\n                    children[i].size = sizes[i];\n                }\n                this.forceUpdate();\n            }\n        };\n        this.onDragEnd = () => {\n            this.context.onSilentChange(null, 'move');\n        };\n    }\n    render() {\n        let { boxData } = this.props;\n        let { minWidth, minHeight, size, children, mode, id } = boxData;\n        let isVertical = mode === 'vertical';\n        let childrenRender = [];\n        for (let i = 0; i < children.length; ++i) {\n            if (i > 0) {\n                childrenRender.push(React.createElement(Divider, { idx: i, key: i, isVertical: isVertical, onDragEnd: this.onDragEnd, getDividerData: this.getDividerData, changeSizes: this.changeSizes }));\n            }\n            let child = children[i];\n            if ('tabs' in child) {\n                childrenRender.push(React.createElement(DockPanel, { size: child.size, panelData: child, key: child.id }));\n                // render DockPanel\n            }\n            else if ('children' in child) {\n                childrenRender.push(React.createElement(DockBox, { size: child.size, boxData: child, key: child.id }));\n            }\n        }\n        let cls;\n        if (mode === 'vertical') {\n            cls = 'dock-box dock-vbox';\n        }\n        else {\n            cls = 'dock-box dock-hbox';\n        }\n        return (React.createElement(\"div\", { ref: this.getRef, className: cls, \"data-dockid\": id, style: { minWidth, minHeight, flex: `${size} 1 ${size}px` } }, childrenRender));\n    }\n}\nDockBox.contextType = DockContextType;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}