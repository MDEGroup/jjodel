{"ast":null,"code":"import React from \"react\";\nimport NewWindow from \"rc-new-window\";\nimport { DockContextType } from \"./DockData\";\nimport { DockPanel } from \"./DockPanel\";\nimport { mapElementToScreenRect, mapWindowToElement } from \"rc-new-window/lib/ScreenPosition\";\nexport class WindowPanel extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.onOpen = w => {\n      if (!this._window && w) {\n        this._window = w;\n      }\n    };\n    this.onUnload = () => {\n      let {\n        panelData\n      } = this.props;\n      let layoutRoot = this.context.getRootElement();\n      const rect = mapWindowToElement(layoutRoot, this._window);\n      if (rect.width > 0 && rect.height > 0) {\n        panelData.x = rect.left;\n        panelData.y = rect.top;\n        panelData.w = rect.width;\n        panelData.h = rect.height;\n      }\n      this.context.dockMove(panelData, null, 'float');\n    };\n    this.initPopupInnerRect = () => {\n      let {\n        panelData\n      } = this.props;\n      return mapElementToScreenRect(this.context.getRootElement(), {\n        left: panelData.x,\n        top: panelData.y,\n        width: panelData.w,\n        height: panelData.h\n      });\n    };\n  }\n  render() {\n    let {\n      panelData\n    } = this.props;\n    let {\n      x,\n      y,\n      w,\n      h\n    } = panelData;\n    return React.createElement(NewWindow, {\n      copyStyles: true,\n      onOpen: this.onOpen,\n      onClose: this.onUnload,\n      onBlock: this.onUnload,\n      initPopupInnerRect: this.initPopupInnerRect,\n      width: w,\n      height: h\n    }, React.createElement(\"div\", {\n      className: 'dock-wbox'\n    }, React.createElement(DockPanel, {\n      size: panelData.size,\n      panelData: panelData,\n      key: panelData.id\n    })));\n  }\n}\nWindowPanel.contextType = DockContextType;","map":{"version":3,"names":["React","NewWindow","DockContextType","DockPanel","mapElementToScreenRect","mapWindowToElement","WindowPanel","PureComponent","constructor","arguments","onOpen","w","_window","onUnload","panelData","props","layoutRoot","context","getRootElement","rect","width","height","x","left","y","top","h","dockMove","initPopupInnerRect","render","createElement","copyStyles","onClose","onBlock","className","size","key","id","contextType"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/frontend/node_modules/rc-dock/es/WindowPanel.js"],"sourcesContent":["import React from \"react\";\nimport NewWindow from \"rc-new-window\";\nimport { DockContextType } from \"./DockData\";\nimport { DockPanel } from \"./DockPanel\";\nimport { mapElementToScreenRect, mapWindowToElement } from \"rc-new-window/lib/ScreenPosition\";\nexport class WindowPanel extends React.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.onOpen = (w) => {\n            if (!this._window && w) {\n                this._window = w;\n            }\n        };\n        this.onUnload = () => {\n            let { panelData } = this.props;\n            let layoutRoot = this.context.getRootElement();\n            const rect = mapWindowToElement(layoutRoot, this._window);\n            if (rect.width > 0 && rect.height > 0) {\n                panelData.x = rect.left;\n                panelData.y = rect.top;\n                panelData.w = rect.width;\n                panelData.h = rect.height;\n            }\n            this.context.dockMove(panelData, null, 'float');\n        };\n        this.initPopupInnerRect = () => {\n            let { panelData } = this.props;\n            return mapElementToScreenRect(this.context.getRootElement(), {\n                left: panelData.x,\n                top: panelData.y,\n                width: panelData.w,\n                height: panelData.h\n            });\n        };\n    }\n    render() {\n        let { panelData } = this.props;\n        let { x, y, w, h } = panelData;\n        return React.createElement(NewWindow, { copyStyles: true, onOpen: this.onOpen, onClose: this.onUnload, onBlock: this.onUnload, initPopupInnerRect: this.initPopupInnerRect, width: w, height: h },\n            React.createElement(\"div\", { className: 'dock-wbox' },\n                React.createElement(DockPanel, { size: panelData.size, panelData: panelData, key: panelData.id })));\n    }\n}\nWindowPanel.contextType = DockContextType;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,eAAe;AACrC,SAASC,eAAe,QAAQ,YAAY;AAC5C,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,sBAAsB,EAAEC,kBAAkB,QAAQ,kCAAkC;AAC7F,OAAO,MAAMC,WAAW,SAASN,KAAK,CAACO,aAAa,CAAC;EACjDC,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAGC,SAAS,CAAC;IACnB,IAAI,CAACC,MAAM,GAAIC,CAAC,IAAK;MACjB,IAAI,CAAC,IAAI,CAACC,OAAO,IAAID,CAAC,EAAE;QACpB,IAAI,CAACC,OAAO,GAAGD,CAAC;MACpB;IACJ,CAAC;IACD,IAAI,CAACE,QAAQ,GAAG,MAAM;MAClB,IAAI;QAAEC;MAAU,CAAC,GAAG,IAAI,CAACC,KAAK;MAC9B,IAAIC,UAAU,GAAG,IAAI,CAACC,OAAO,CAACC,cAAc,CAAC,CAAC;MAC9C,MAAMC,IAAI,GAAGd,kBAAkB,CAACW,UAAU,EAAE,IAAI,CAACJ,OAAO,CAAC;MACzD,IAAIO,IAAI,CAACC,KAAK,GAAG,CAAC,IAAID,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;QACnCP,SAAS,CAACQ,CAAC,GAAGH,IAAI,CAACI,IAAI;QACvBT,SAAS,CAACU,CAAC,GAAGL,IAAI,CAACM,GAAG;QACtBX,SAAS,CAACH,CAAC,GAAGQ,IAAI,CAACC,KAAK;QACxBN,SAAS,CAACY,CAAC,GAAGP,IAAI,CAACE,MAAM;MAC7B;MACA,IAAI,CAACJ,OAAO,CAACU,QAAQ,CAACb,SAAS,EAAE,IAAI,EAAE,OAAO,CAAC;IACnD,CAAC;IACD,IAAI,CAACc,kBAAkB,GAAG,MAAM;MAC5B,IAAI;QAAEd;MAAU,CAAC,GAAG,IAAI,CAACC,KAAK;MAC9B,OAAOX,sBAAsB,CAAC,IAAI,CAACa,OAAO,CAACC,cAAc,CAAC,CAAC,EAAE;QACzDK,IAAI,EAAET,SAAS,CAACQ,CAAC;QACjBG,GAAG,EAAEX,SAAS,CAACU,CAAC;QAChBJ,KAAK,EAAEN,SAAS,CAACH,CAAC;QAClBU,MAAM,EAAEP,SAAS,CAACY;MACtB,CAAC,CAAC;IACN,CAAC;EACL;EACAG,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEf;IAAU,CAAC,GAAG,IAAI,CAACC,KAAK;IAC9B,IAAI;MAAEO,CAAC;MAAEE,CAAC;MAAEb,CAAC;MAAEe;IAAE,CAAC,GAAGZ,SAAS;IAC9B,OAAOd,KAAK,CAAC8B,aAAa,CAAC7B,SAAS,EAAE;MAAE8B,UAAU,EAAE,IAAI;MAAErB,MAAM,EAAE,IAAI,CAACA,MAAM;MAAEsB,OAAO,EAAE,IAAI,CAACnB,QAAQ;MAAEoB,OAAO,EAAE,IAAI,CAACpB,QAAQ;MAAEe,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;MAAER,KAAK,EAAET,CAAC;MAAEU,MAAM,EAAEK;IAAE,CAAC,EAC7L1B,KAAK,CAAC8B,aAAa,CAAC,KAAK,EAAE;MAAEI,SAAS,EAAE;IAAY,CAAC,EACjDlC,KAAK,CAAC8B,aAAa,CAAC3B,SAAS,EAAE;MAAEgC,IAAI,EAAErB,SAAS,CAACqB,IAAI;MAAErB,SAAS,EAAEA,SAAS;MAAEsB,GAAG,EAAEtB,SAAS,CAACuB;IAAG,CAAC,CAAC,CAAC,CAAC;EAC/G;AACJ;AACA/B,WAAW,CAACgC,WAAW,GAAGpC,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}