{"ast":null,"code":"import _objectSpread from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import{connect}from\"react-redux\";import{RedoAction,UndoAction}from\"../../../joiner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditComponent(props){var undo=props.undo;var redo=props.redo;var doUndo=function doUndo(index){UndoAction.new(index+1);};var doRedo=function doRedo(index){RedoAction.new(index+1);};return/*#__PURE__*/_jsxs(\"li\",{className:'dropdown-item',children:[\"Edit\",/*#__PURE__*/_jsx(\"i\",{className:'ms-auto bi bi-caret-right-fill'}),/*#__PURE__*/_jsxs(\"ul\",{className:'submenu dropdown-menu',children:[/*#__PURE__*/_jsxs(\"li\",{tabIndex:-1,onClick:function onClick(e){return doUndo(0);},className:'dropdown-item',children:[\"Undo (\",undo.length,\")\"]}),/*#__PURE__*/_jsxs(\"li\",{tabIndex:-1,onClick:function onClick(e){return doRedo(0);},className:'dropdown-item',children:[\"Redo (\",redo.length,\")\"]})]})]});}function mapStateToProps(state,ownProps){var ret={};// ret.undo = statehistory[DUser.current]?.undoable || [];\n// ret.redo = statehistory[DUser.current]?.redoable || [];\n// ret.undo = statehistory[DUser.current].undoable;\n// ret.redo = statehistory[DUser.current].redoable;\nret.undo=[];ret.redo=[];return ret;}function mapDispatchToProps(dispatch){var ret={};return ret;}export var EditConnected=connect(mapStateToProps,mapDispatchToProps)(EditComponent);export var Edit=function Edit(props){var children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return/*#__PURE__*/_jsx(EditConnected,_objectSpread({},_objectSpread(_objectSpread({},props),{},{children:children})));};export default Edit;","map":{"version":3,"names":["React","connect","RedoAction","UndoAction","jsx","_jsx","jsxs","_jsxs","EditComponent","props","undo","redo","doUndo","index","new","doRedo","className","children","tabIndex","onClick","e","length","mapStateToProps","state","ownProps","ret","mapDispatchToProps","dispatch","EditConnected","Edit","arguments","undefined","_objectSpread"],"sources":["C:/d/Programming/web/jodel-mde/src/components/navbar/tabs/Edit.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement} from 'react';\r\nimport {DState, statehistory} from \"../../../redux/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {DUser, GObject, RedoAction, UndoAction} from \"../../../joiner\";\r\nimport {FakeStateProps} from \"../../../joiner/types\";\r\n\r\nfunction EditComponent(props: AllProps) {\r\n    const undo = props.undo;\r\n    const redo = props.redo;\r\n\r\n    const doUndo = (index: number) => {\r\n        UndoAction.new(index + 1);\r\n    }\r\n    const doRedo = (index: number) => {\r\n        RedoAction.new(index + 1);\r\n    }\r\n\r\n    return(<li className={'dropdown-item'}>Edit\r\n        <i className={'ms-auto bi bi-caret-right-fill'} />\r\n        <ul className={'submenu dropdown-menu'}>\r\n            <li tabIndex={-1} onClick={e => doUndo(0)} className={'dropdown-item'}>Undo ({undo.length})</li>\r\n            <li tabIndex={-1} onClick={e => doRedo(0)} className={'dropdown-item'}>Redo ({redo.length})</li>\r\n        </ul>\r\n    </li>);\r\n}\r\n\r\ninterface OwnProps {}\r\ninterface StateProps {undo: GObject<'delta'>[], redo: GObject<'delta'>[]}\r\ninterface DispatchProps {}\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    // ret.undo = statehistory[DUser.current]?.undoable || [];\r\n    // ret.redo = statehistory[DUser.current]?.redoable || [];\r\n    // ret.undo = statehistory[DUser.current].undoable;\r\n    // ret.redo = statehistory[DUser.current].redoable;\r\n    ret.undo = [];\r\n    ret.redo = [];\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\n\r\nexport const EditConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(EditComponent);\r\n\r\nexport const Edit = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <EditConnected {...{...props, children}} />;\r\n}\r\nexport default Edit;\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"oJAAA,MAAO,CAAAA,KAAK,KAAgC,OAAO,CAEnD,OAAQC,OAAO,KAAO,aAAa,CACnC,OAAwBC,UAAU,CAAEC,UAAU,KAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGvE,QAAS,CAAAC,aAAaA,CAACC,KAAe,CAAE,CACpC,GAAM,CAAAC,IAAI,CAAGD,KAAK,CAACC,IAAI,CACvB,GAAM,CAAAC,IAAI,CAAGF,KAAK,CAACE,IAAI,CAEvB,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAIC,KAAa,CAAK,CAC9BV,UAAU,CAACW,GAAG,CAACD,KAAK,CAAG,CAAC,CAAC,CAC7B,CAAC,CACD,GAAM,CAAAE,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAIF,KAAa,CAAK,CAC9BX,UAAU,CAACY,GAAG,CAACD,KAAK,CAAG,CAAC,CAAC,CAC7B,CAAC,CAED,mBAAON,KAAA,OAAIS,SAAS,CAAE,eAAgB,CAAAC,QAAA,EAAC,MACnC,cAAAZ,IAAA,MAAGW,SAAS,CAAE,gCAAiC,CAAE,CAAC,cAClDT,KAAA,OAAIS,SAAS,CAAE,uBAAwB,CAAAC,QAAA,eACnCV,KAAA,OAAIW,QAAQ,CAAE,CAAC,CAAE,CAACC,OAAO,CAAE,SAAAA,QAAAC,CAAC,QAAI,CAAAR,MAAM,CAAC,CAAC,CAAC,EAAC,CAACI,SAAS,CAAE,eAAgB,CAAAC,QAAA,EAAC,QAAM,CAACP,IAAI,CAACW,MAAM,CAAC,GAAC,EAAI,CAAC,cAChGd,KAAA,OAAIW,QAAQ,CAAE,CAAC,CAAE,CAACC,OAAO,CAAE,SAAAA,QAAAC,CAAC,QAAI,CAAAL,MAAM,CAAC,CAAC,CAAC,EAAC,CAACC,SAAS,CAAE,eAAgB,CAAAC,QAAA,EAAC,QAAM,CAACN,IAAI,CAACU,MAAM,CAAC,GAAC,EAAI,CAAC,EAChG,CAAC,EACL,CAAC,CACT,CAQA,QAAS,CAAAC,eAAeA,CAACC,KAAa,CAAEC,QAAkB,CAAc,CACpE,GAAM,CAAAC,GAAe,CAAG,CAAC,CAAmB,CAC5C;AACA;AACA;AACA;AACAA,GAAG,CAACf,IAAI,CAAG,EAAE,CACbe,GAAG,CAACd,IAAI,CAAG,EAAE,CACb,MAAO,CAAAc,GAAG,CACd,CAEA,QAAS,CAAAC,kBAAkBA,CAACC,QAAuB,CAAiB,CAChE,GAAM,CAAAF,GAAkB,CAAG,CAAC,CAAC,CAC7B,MAAO,CAAAA,GAAG,CACd,CAGA,MAAO,IAAM,CAAAG,aAAa,CAAG3B,OAAO,CAChCqB,eAAe,CACfI,kBACJ,CAAC,CAAClB,aAAa,CAAC,CAEhB,MAAO,IAAM,CAAAqB,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAIpB,KAAe,CAAgE,IAA9D,CAAAQ,QAAsC,CAAAa,SAAA,CAAAT,MAAA,IAAAS,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,EAAE,CAC7E,mBAAOzB,IAAA,CAACuB,aAAa,CAAAI,aAAA,IAAAA,aAAA,CAAAA,aAAA,IAASvB,KAAK,MAAEQ,QAAQ,CAARA,QAAQ,GAAI,CAAC,CACtD,CAAC,CACD,cAAe,CAAAY,IAAI"},"metadata":{},"sourceType":"module"}