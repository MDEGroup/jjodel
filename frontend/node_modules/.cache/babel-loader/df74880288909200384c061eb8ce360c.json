{"ast":null,"code":"import _objectSpread from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/d/Programming/web/jodel-mde/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{PureComponent}from\"react\";import{connect}from\"react-redux\";import{DObject,LGraphElement,LModelElement,LViewElement,U}from\"../../../joiner\";import Structure from\"./Structure\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StructureEditorComponent=/*#__PURE__*/function(_PureComponent){_inherits(StructureEditorComponent,_PureComponent);var _super=_createSuper(StructureEditorComponent);function StructureEditorComponent(props,context){_classCallCheck(this,StructureEditorComponent);return _super.call(this,props,context);}_createClass(StructureEditorComponent,[{key:\"render\",value:function render(){var node=this.props.node;var view=this.props.view;var data=this.props.data;return/*#__PURE__*/_jsxs(\"div\",{className:'mb-5',children:[/*#__PURE__*/_jsxs(\"div\",{className:'px-3 mt-3',children:[Structure.Editor(data||null),(data===null||data===void 0?void 0:data.className)===DObject.cname&&U.wrapper(data).features.map(function(f,i){var _f$instanceof;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{className:'my-3'}),/*#__PURE__*/_jsx(\"label\",{className:'text-center',children:(_f$instanceof=f.instanceof)===null||_f$instanceof===void 0?void 0:_f$instanceof.name}),Structure.Editor(f)]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:'mt-2'})]});}}]);return StructureEditorComponent;}(PureComponent);function mapStateToProps(state,ownProps){var _state$_lastSelected,_state$_lastSelected2,_state$_lastSelected3;var ret={};var nodeid=(_state$_lastSelected=state._lastSelected)===null||_state$_lastSelected===void 0?void 0:_state$_lastSelected.node;var viewid=(_state$_lastSelected2=state._lastSelected)===null||_state$_lastSelected2===void 0?void 0:_state$_lastSelected2.view;var dataid=(_state$_lastSelected3=state._lastSelected)===null||_state$_lastSelected3===void 0?void 0:_state$_lastSelected3.modelElement;if(nodeid)ret.node=LGraphElement.fromPointer(nodeid);if(viewid)ret.view=LViewElement.fromPointer(viewid);if(dataid)ret.data=LModelElement.fromPointer(dataid);return ret;}function mapDispatchToProps(dispatch){var ret={};return ret;}export var StructureEditorConnected=connect(mapStateToProps,mapDispatchToProps)(StructureEditorComponent);export var StructureEditor=function StructureEditor(props){var children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return/*#__PURE__*/_jsx(StructureEditorConnected,_objectSpread({},_objectSpread(_objectSpread({},props),{},{children:children})));};export default StructureEditor;","map":{"version":3,"names":["React","PureComponent","connect","DObject","LGraphElement","LModelElement","LViewElement","U","Structure","jsx","_jsx","jsxs","_jsxs","StructureEditorComponent","_PureComponent","_inherits","_super","_createSuper","props","context","_classCallCheck","call","_createClass","key","value","render","node","view","data","className","children","Editor","cname","wrapper","features","map","f","i","_f$instanceof","instanceof","name","mapStateToProps","state","ownProps","_state$_lastSelected","_state$_lastSelected2","_state$_lastSelected3","ret","nodeid","_lastSelected","viewid","dataid","modelElement","fromPointer","mapDispatchToProps","dispatch","StructureEditorConnected","StructureEditor","arguments","length","undefined","_objectSpread"],"sources":["C:/d/Programming/web/jodel-mde/src/components/rightbar/structureEditor/StructureEditor.tsx"],"sourcesContent":["import React, {Dispatch, PureComponent, ReactElement, ReactNode} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    DGraphElement,\r\n    DModelElement,\r\n    DPointerTargetable,\r\n    DViewElement,\r\n    DState,\r\n    DObject,\r\n    LObject,\r\n    LGraphElement,\r\n    LModelElement,\r\n    LViewElement,\r\n    Pointer, U, DUser,\r\n} from \"../../../joiner\";\r\nimport Structure from \"./Structure\";\r\nimport {FakeStateProps} from '../../../joiner/types';\r\n\r\n\r\n\r\ninterface ThisState {}\r\nclass StructureEditorComponent extends PureComponent<AllProps, ThisState> {\r\n\r\n    constructor(props: AllProps, context: any) {\r\n        super(props, context);\r\n    }\r\n\r\n    render(): ReactNode {\r\n        const node = this.props.node;\r\n        const view = this.props.view;\r\n        const data = this.props.data;\r\n        return <div className={'mb-5'}>\r\n            <div className={'px-3 mt-3'}>\r\n                {Structure.Editor(data || null)}\r\n                {data?.className === DObject.cname && U.wrapper<LObject>(data).features.map((f, i) => {\r\n                    return(<div key={i}>\r\n                        <hr className={'my-3'} />\r\n                        <label className={'text-center'}>{f.instanceof?.name}</label>\r\n                        {Structure.Editor(f)}\r\n                    </div>);\r\n                })}\r\n            </div>\r\n            <div className={'mt-2'}></div>\r\n        </div>;\r\n    }\r\n}\r\n\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    node?: LGraphElement\r\n    view?: LViewElement\r\n    data?: LModelElement\r\n}\r\ninterface DispatchProps {}\r\n\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    const nodeid = state._lastSelected?.node;\r\n    const viewid = state._lastSelected?.view;\r\n    const dataid = state._lastSelected?.modelElement;\r\n    if(nodeid) ret.node = LGraphElement.fromPointer(nodeid);\r\n    if(viewid) ret.view = LViewElement.fromPointer(viewid);\r\n    if(dataid) ret.data = LModelElement.fromPointer(dataid);\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {} as any;\r\n    return ret;\r\n}\r\n\r\n\r\nexport const StructureEditorConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(StructureEditorComponent);\r\n\r\nexport const StructureEditor = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <StructureEditorConnected {...{...props, children}} />;\r\n}\r\nexport default StructureEditor;\r\n"],"mappings":"wtBAAA,MAAO,CAAAA,KAAK,EAAaC,aAAa,KAAgC,OAAO,CAC7E,OAAQC,OAAO,KAAO,aAAa,CACnC,OAMIC,OAAO,CAEPC,aAAa,CACbC,aAAa,CACbC,YAAY,CACHC,CAAC,KACP,iBAAiB,CACxB,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAM9B,CAAAC,wBAAwB,uBAAAC,cAAA,EAAAC,SAAA,CAAAF,wBAAA,CAAAC,cAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,wBAAA,EAE1B,SAAAA,yBAAYK,KAAe,CAAEC,OAAY,CAAE,CAAAC,eAAA,MAAAP,wBAAA,SAAAG,MAAA,CAAAK,IAAA,MACjCH,KAAK,CAAEC,OAAO,EACxB,CAACG,YAAA,CAAAT,wBAAA,GAAAU,GAAA,UAAAC,KAAA,CAED,SAAAC,OAAA,CAAoB,CAChB,GAAM,CAAAC,IAAI,CAAG,IAAI,CAACR,KAAK,CAACQ,IAAI,CAC5B,GAAM,CAAAC,IAAI,CAAG,IAAI,CAACT,KAAK,CAACS,IAAI,CAC5B,GAAM,CAAAC,IAAI,CAAG,IAAI,CAACV,KAAK,CAACU,IAAI,CAC5B,mBAAOhB,KAAA,QAAKiB,SAAS,CAAE,MAAO,CAAAC,QAAA,eAC1BlB,KAAA,QAAKiB,SAAS,CAAE,WAAY,CAAAC,QAAA,EACvBtB,SAAS,CAACuB,MAAM,CAACH,IAAI,EAAI,IAAI,CAAC,CAC9B,CAAAA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,SAAS,IAAK1B,OAAO,CAAC6B,KAAK,EAAIzB,CAAC,CAAC0B,OAAO,CAAUL,IAAI,CAAC,CAACM,QAAQ,CAACC,GAAG,CAAC,SAACC,CAAC,CAAEC,CAAC,CAAK,KAAAC,aAAA,CAClF,mBAAO1B,KAAA,QAAAkB,QAAA,eACHpB,IAAA,OAAImB,SAAS,CAAE,MAAO,CAAE,CAAC,cACzBnB,IAAA,UAAOmB,SAAS,CAAE,aAAc,CAAAC,QAAA,EAAAQ,aAAA,CAAEF,CAAC,CAACG,UAAU,UAAAD,aAAA,iBAAZA,aAAA,CAAcE,IAAI,CAAQ,CAAC,CAC5DhC,SAAS,CAACuB,MAAM,CAACK,CAAC,CAAC,GAHPC,CAIZ,CAAC,CACV,CAAC,CAAC,EACD,CAAC,cACN3B,IAAA,QAAKmB,SAAS,CAAE,MAAO,CAAM,CAAC,EAC7B,CAAC,CACV,CAAC,WAAAhB,wBAAA,GAvBkCZ,aAAa,EAoCpD,QAAS,CAAAwC,eAAeA,CAACC,KAAa,CAAEC,QAAkB,CAAc,KAAAC,oBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CACpE,GAAM,CAAAC,GAAe,CAAG,CAAC,CAAmB,CAC5C,GAAM,CAAAC,MAAM,EAAAJ,oBAAA,CAAGF,KAAK,CAACO,aAAa,UAAAL,oBAAA,iBAAnBA,oBAAA,CAAqBlB,IAAI,CACxC,GAAM,CAAAwB,MAAM,EAAAL,qBAAA,CAAGH,KAAK,CAACO,aAAa,UAAAJ,qBAAA,iBAAnBA,qBAAA,CAAqBlB,IAAI,CACxC,GAAM,CAAAwB,MAAM,EAAAL,qBAAA,CAAGJ,KAAK,CAACO,aAAa,UAAAH,qBAAA,iBAAnBA,qBAAA,CAAqBM,YAAY,CAChD,GAAGJ,MAAM,CAAED,GAAG,CAACrB,IAAI,CAAGtB,aAAa,CAACiD,WAAW,CAACL,MAAM,CAAC,CACvD,GAAGE,MAAM,CAAEH,GAAG,CAACpB,IAAI,CAAGrB,YAAY,CAAC+C,WAAW,CAACH,MAAM,CAAC,CACtD,GAAGC,MAAM,CAAEJ,GAAG,CAACnB,IAAI,CAAGvB,aAAa,CAACgD,WAAW,CAACF,MAAM,CAAC,CACvD,MAAO,CAAAJ,GAAG,CACd,CAEA,QAAS,CAAAO,kBAAkBA,CAACC,QAAuB,CAAiB,CAChE,GAAM,CAAAR,GAAkB,CAAG,CAAC,CAAQ,CACpC,MAAO,CAAAA,GAAG,CACd,CAGA,MAAO,IAAM,CAAAS,wBAAwB,CAAGtD,OAAO,CAC3CuC,eAAe,CACfa,kBACJ,CAAC,CAACzC,wBAAwB,CAAC,CAE3B,MAAO,IAAM,CAAA4C,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAIvC,KAAe,CAAgE,IAA9D,CAAAY,QAAsC,CAAA4B,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CACxF,mBAAOhD,IAAA,CAAC8C,wBAAwB,CAAAK,aAAA,IAAAA,aAAA,CAAAA,aAAA,IAAS3C,KAAK,MAAEY,QAAQ,CAARA,QAAQ,GAAI,CAAC,CACjE,CAAC,CACD,cAAe,CAAA2B,eAAe"},"metadata":{},"sourceType":"module"}