{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\editors\\\\viewTabs\\\\Events.tsx\";\nimport { U } from \"../../../joiner\";\nimport JsEditor from \"../../rightbar/jsEditor/JsEditor\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ViewEvents(props) {\n  const {\n    view\n  } = props;\n  const dview = view.__raw;\n  const readOnly = false;\n  function addEvent() {\n    let eventname = \"customEvent1\";\n    eventname = U.increaseEndingNumber(eventname, false, false, s => s in dview.events);\n    let newevent = {};\n    newevent[eventname] = '(parameter1, parameter2) => {\\n\\t// example, replace with your function\\n\\treturn parameter1 + parameter2;\\n}';\n    view.events = newevent;\n  }\n  let initialExpand = (v, field) => !!v[field];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n      style: {\n        fontSize: '1.25em'\n      },\n      children: \"Default Events\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      className: 'my-1'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(JsEditor, {\n      viewID: view.id,\n      field: 'onDataUpdate',\n      title: 'onDataUpdate',\n      initialExpand: (v, field) => !!v[field]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(JsEditor, {\n      viewID: view.id,\n      field: 'onDragStart',\n      title: 'onDragStart',\n      initialExpand: (v, field) => !!v[field]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(JsEditor, {\n      viewID: view.id,\n      field: 'whileDragging',\n      title: 'whileDragging',\n      initialExpand: (v, field) => !!v[field]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(JsEditor, {\n      viewID: view.id,\n      field: 'onDragEnd',\n      title: 'onDragEnd',\n      initialExpand: (v, field) => !!v[field]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(JsEditor, {\n      viewID: view.id,\n      field: 'onResizeStart',\n      title: 'onResizeStart',\n      initialExpand: (v, field) => !!v[field]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(JsEditor, {\n      viewID: view.id,\n      field: 'whileResizing',\n      title: 'whileResizing',\n      initialExpand: (v, field) => !!v[field]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(JsEditor, {\n      viewID: view.id,\n      field: 'onResizeEnd',\n      title: 'onResizeEnd',\n      initialExpand: (v, field) => !!v[field]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'd-flex mx-auto',\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        style: {\n          fontSize: '1.25em'\n        },\n        children: \"Custom Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: 'btn btn-primary ms-auto',\n        onClick: addEvent,\n        disabled: readOnly,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: 'p-1 bi bi-plus'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      className: 'my-1'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this), Object.keys(dview.events).map(k => {\n      let val = dview.events[k];\n      if (!val) return;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(JsEditor, {\n          viewID: view.id,\n          readonly: readOnly,\n          title: /*#__PURE__*/_jsxDEV(\"input\", {\n            defaultValue: k,\n            disabled: readOnly,\n            onBlur: e => {\n              let newname = e.target.value;\n              if (k === newname) return;\n              let newEvent = {};\n              newEvent[newname] = dview.events[k];\n              newEvent[k] = undefined;\n              view.events = newEvent;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 28\n          }, this),\n          jsxLabel: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: 'btn btn-danger my-auto ms-auto',\n            onClick: () => {\n              let newEvent = {};\n              newEvent[k] = undefined; // this is how you trigger deletion with object -= action\n              view.events = newEvent;\n            },\n            disabled: readOnly,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: 'p-1 bi bi-trash3-fill'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 31\n          }, this),\n          getter: () => val,\n          setter: js => {\n            let newEvent = {};\n            newEvent[k] = js;\n            view.events = newEvent;\n          }\n        }, k /* if val does not update, concatenate it to the key (k+val)*/, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this)\n      }, void 0, false);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'p-4'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_c = ViewEvents;\nexport { ViewEvents };\nvar _c;\n$RefreshReg$(_c, \"ViewEvents\");","map":{"version":3,"names":["U","JsEditor","React","jsxDEV","_jsxDEV","Fragment","_Fragment","ViewEvents","props","view","dview","__raw","readOnly","addEvent","eventname","increaseEndingNumber","s","events","newevent","initialExpand","v","field","children","style","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","className","viewID","id","title","onClick","disabled","Object","keys","map","k","val","readonly","defaultValue","onBlur","e","newname","target","value","newEvent","undefined","jsxLabel","getter","setter","js","_c","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/components/editors/viewTabs/Events.tsx"],"sourcesContent":["import {GObject, LViewElement, U} from \"../../../joiner\";\r\nimport JsEditor from \"../../rightbar/jsEditor/JsEditor\";\r\nimport React from \"react\";\r\n\r\ntype Props = {view: LViewElement};\r\nfunction ViewEvents(props: Props): JSX.Element {\r\n    const {view} = props;\r\n    const dview = view.__raw;\r\n    const readOnly = false;\r\n\r\n    function addEvent() {\r\n        let eventname = \"customEvent1\";\r\n        eventname = U.increaseEndingNumber(eventname, false, false, (s)=> s in dview.events);\r\n        let newevent: GObject = {};\r\n        newevent[eventname] = '(parameter1, parameter2) => {\\n\\t// example, replace with your function\\n\\treturn parameter1 + parameter2;\\n}';\r\n        view.events = newevent;\r\n    }\r\n\r\n    let initialExpand = (v: any, field: any)=>!!(v as any)[field as string];\r\n    return(<>\r\n        <b style={{fontSize: '1.25em'}}>Default Events</b>\r\n        <hr className={'my-1'} />\r\n        <JsEditor viewID={view.id} field={'onDataUpdate'} title={'onDataUpdate'} initialExpand={(v, field)=>!!(v as any)[field as string]} />\r\n        <JsEditor viewID={view.id} field={'onDragStart'} title={'onDragStart'} initialExpand={(v, field)=>!!(v as any)[field as string]} />\r\n        <JsEditor viewID={view.id} field={'whileDragging'} title={'whileDragging'} initialExpand={(v, field)=>!!(v as any)[field as string]} />\r\n        <JsEditor viewID={view.id} field={'onDragEnd'} title={'onDragEnd'} initialExpand={(v, field)=>!!(v as any)[field as string]} />\r\n        <JsEditor viewID={view.id} field={'onResizeStart'} title={'onResizeStart'} initialExpand={(v, field)=>!!(v as any)[field as string]} />\r\n        <JsEditor viewID={view.id} field={'whileResizing'} title={'whileResizing'} initialExpand={(v, field)=>!!(v as any)[field as string]} />\r\n        <JsEditor viewID={view.id} field={'onResizeEnd'} title={'onResizeEnd'} initialExpand={(v, field)=>!!(v as any)[field as string]} />\r\n        <div className={'d-flex mx-auto'}>\r\n            <b style={{fontSize: '1.25em'}}>Custom Events</b>\r\n            <button className={'btn btn-primary ms-auto'} onClick={addEvent} disabled={readOnly}>\r\n                <i className={'p-1 bi bi-plus'} />\r\n            </button>\r\n        </div>\r\n        <hr className={'my-1'} />\r\n        {Object.keys(dview.events).map((k) => {\r\n            let val = dview.events[k];\r\n            if (!val) return;\r\n            return <>\r\n                <JsEditor\r\n                    viewID={view.id} key={k/* if val does not update, concatenate it to the key (k+val)*/}\r\n                    readonly={readOnly}\r\n                    title={<input defaultValue={k} disabled={readOnly} onBlur={(e)=>{\r\n                        let newname = e.target.value;\r\n                        if (k === newname) return;\r\n                        let newEvent: GObject = {};\r\n                        newEvent[newname] = dview.events[k];\r\n                        newEvent[k] = undefined;\r\n                        view.events = newEvent;\r\n                    }}/>}\r\n                    jsxLabel={<button className={'btn btn-danger my-auto ms-auto'} onClick={() => {\r\n                        let newEvent: GObject = {};\r\n                        newEvent[k] = undefined; // this is how you trigger deletion with object -= action\r\n                        view.events = newEvent;\r\n                    }} disabled={readOnly}>\r\n                        <i className={'p-1 bi bi-trash3-fill'} />\r\n                    </button>}\r\n                    getter={() => val}\r\n                    setter={(js) => {\r\n                        let newEvent: GObject = {};\r\n                        newEvent[k] = js;\r\n                        view.events = newEvent;\r\n                    }}\r\n                /></>})}\r\n        <div className={'p-4'}></div>\r\n    </>);\r\n}\r\n\r\nexport {ViewEvents};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}