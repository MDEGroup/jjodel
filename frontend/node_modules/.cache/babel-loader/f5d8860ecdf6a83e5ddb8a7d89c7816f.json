{"ast":null,"code":"var _jsxFileName = \"C:\\\\0Programmi\\\\Dev\\\\projects\\\\frontend\\\\jjodel\\\\src\\\\components\\\\collaborative\\\\CollaborativeAttacher.tsx\",\n  _s = $RefreshSig$();\nimport Collaborative from './Collaborative';\nimport { Action, SetRootFieldAction } from '../../joiner';\nimport { useEffectOnce } from 'usehooks-ts';\nimport Editor from '../../pages/Editor';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CollaborativeAttacher(props) {\n  _s();\n  const project = props.project;\n  useEffectOnce(() => {\n    SetRootFieldAction.new('collaborativeSession', true);\n    Collaborative.client.io.opts.query = {\n      'project': project.id\n    };\n    Collaborative.client.connect();\n  });\n  Collaborative.client.on('pullAction', action => {\n    const receivedAction = Action.fromJson(action);\n    console.log('Received Action from server.', action);\n    receivedAction.hasFired = 0;\n    receivedAction.fire();\n  });\n  return /*#__PURE__*/_jsxDEV(Editor, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 12\n  }, this);\n}\n_s(CollaborativeAttacher, \"CDxPF1ymP5P7fskLwxmw8nmIJ1w=\", false, function () {\n  return [useEffectOnce];\n});\n_c = CollaborativeAttacher;\nexport default CollaborativeAttacher;\nvar _c;\n$RefreshReg$(_c, \"CollaborativeAttacher\");","map":{"version":3,"names":["Collaborative","Action","SetRootFieldAction","useEffectOnce","Editor","jsxDEV","_jsxDEV","CollaborativeAttacher","props","_s","project","new","client","io","opts","query","id","connect","on","action","receivedAction","fromJson","console","log","hasFired","fire","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/components/collaborative/CollaborativeAttacher.tsx"],"sourcesContent":["import Collaborative from './Collaborative';\r\nimport {Action, SetRootFieldAction, U} from '../../joiner';\r\nimport type {CompositeAction, GObject, LProject} from '../../joiner';\r\nimport {useEffectOnce} from 'usehooks-ts';\r\nimport Editor from '../../pages/Editor';\r\n\r\ninterface Props {project: LProject}\r\nfunction CollaborativeAttacher(props: Props) {\r\n    const project = props.project;\r\n\r\n    useEffectOnce(() => {\r\n        SetRootFieldAction.new('collaborativeSession', true);\r\n        Collaborative.client.io.opts.query = {'project': project.id};\r\n        Collaborative.client.connect();\r\n    });\r\n\r\n    Collaborative.client.on('pullAction', (action: GObject<Action & CompositeAction>) => {\r\n        const receivedAction = Action.fromJson(action);\r\n        console.log('Received Action from server.', action);\r\n        receivedAction.hasFired = 0;\r\n        receivedAction.fire();\r\n    });\r\n\r\n    return(<Editor />);\r\n}\r\n\r\nexport default CollaborativeAttacher;\r\n"],"mappings":";;AAAA,OAAOA,aAAa,MAAM,iBAAiB;AAC3C,SAAQC,MAAM,EAAEC,kBAAkB,QAAU,cAAc;AAE1D,SAAQC,aAAa,QAAO,aAAa;AACzC,OAAOC,MAAM,MAAM,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGxC,SAASC,qBAAqBA,CAACC,KAAY,EAAE;EAAAC,EAAA;EACzC,MAAMC,OAAO,GAAGF,KAAK,CAACE,OAAO;EAE7BP,aAAa,CAAC,MAAM;IAChBD,kBAAkB,CAACS,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC;IACpDX,aAAa,CAACY,MAAM,CAACC,EAAE,CAACC,IAAI,CAACC,KAAK,GAAG;MAAC,SAAS,EAAEL,OAAO,CAACM;IAAE,CAAC;IAC5DhB,aAAa,CAACY,MAAM,CAACK,OAAO,CAAC,CAAC;EAClC,CAAC,CAAC;EAEFjB,aAAa,CAACY,MAAM,CAACM,EAAE,CAAC,YAAY,EAAGC,MAAyC,IAAK;IACjF,MAAMC,cAAc,GAAGnB,MAAM,CAACoB,QAAQ,CAACF,MAAM,CAAC;IAC9CG,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEJ,MAAM,CAAC;IACnDC,cAAc,CAACI,QAAQ,GAAG,CAAC;IAC3BJ,cAAc,CAACK,IAAI,CAAC,CAAC;EACzB,CAAC,CAAC;EAEF,oBAAOnB,OAAA,CAACF,MAAM;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACrB;AAACpB,EAAA,CAjBQF,qBAAqB;EAAA,QAG1BJ,aAAa;AAAA;AAAA2B,EAAA,GAHRvB,qBAAqB;AAmB9B,eAAeA,qBAAqB;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}