{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\editors\\\\NodeEditor.tsx\",\n  _this = this;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { L, Input, GenericInput, SetRootFieldAction } from '../../joiner';\nimport './editors.scss';\nimport './node-editor.scss';\nimport { Empty } from \"./Empty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction NodeEditorComponent(props) {\n  var _node$father, _node$father2;\n  const selected = props.selected;\n  const editable = true;\n  if (!(selected === null || selected === void 0 ? void 0 : selected.node)) return /*#__PURE__*/_jsxDEV(Empty, {\n    msg: 'Select a node.'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 33\n  }, this);\n  const node = selected.node;\n  const dnode = node.__raw || node;\n  let cname = dnode.className;\n  let isGraph = ['DGraph', 'DGraphVertex'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DGraph');\n  let isVertex = ['DVoidVertex', 'DVertex', 'DEdgePoint'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidVertex');\n  let isEdge = ['DVoidEdge', 'DEdge'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidEdge');\n  let isField = !isGraph && !isVertex && !isEdge;\n  console.log('Style editor', {\n    cname,\n    isVertex,\n    isGraph,\n    isEdge,\n    selected\n  });\n  let asGraph = isGraph && node;\n  let asVertex = isVertex && node;\n  let asEdge = isEdge && node;\n  let asField = isField && node;\n  function openNode(id) {\n    SetRootFieldAction.new('_lastSelected.node', id, '', false);\n  }\n  function getNodeLabel(node) {\n    var _node$model;\n    if (!node) return 'error';\n    let model = (_node$model = node.model) === null || _node$model === void 0 ? void 0 : _node$model.__raw;\n    if (!model) return node.className;\n    return node.className + ' - ' + (model.name || model.className);\n  }\n  function getEdgeLabel(edge) {\n    var _edge$start, _edge$start$model, _edge$end, _edge$end$model;\n    let s = edge === null || edge === void 0 ? void 0 : (_edge$start = edge.start) === null || _edge$start === void 0 ? void 0 : (_edge$start$model = _edge$start.model) === null || _edge$start$model === void 0 ? void 0 : _edge$start$model.__raw;\n    let e = edge === null || edge === void 0 ? void 0 : (_edge$end = edge.end) === null || _edge$end === void 0 ? void 0 : (_edge$end$model = _edge$end.model) === null || _edge$end$model === void 0 ? void 0 : _edge$end$model.__raw;\n    return [s ? s.name || s.className : /*#__PURE__*/_jsxDEV(\"i\", {\n      style: {\n        color: 'orange'\n      },\n      children: \"empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 42\n    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n      className: 'bi bi-arrow-right ms-1 me-1'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), e ? e.name || e.className : /*#__PURE__*/_jsxDEV(\"i\", {\n      style: {\n        color: 'orange'\n      },\n      children: \"empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 42\n    }, this)];\n  }\n  const clickableStyle = {\n    cursor: 'pointer',\n    color: 'gray'\n  };\n  const headerStyle = {\n    marginBottom: 0,\n    marginTop: '0.5em'\n  };\n  const edgeStart = asEdge && asEdge.start;\n  const edgeEnd = asEdge && asEdge.end;\n  const notFoundStyle = {\n    color: 'orange',\n    cursor: 'not-allowed'\n  };\n  const subElements = node.subElements;\n  let edgesIn = !isEdge && node.edgesIn || [];\n  let edgesOut = !isEdge && node.edgesOut || [];\n  const InputRow = props => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        className: 'me-2',\n        children: props.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        data: props.as,\n        field: props.field,\n        type: props.type,\n        readonly: !editable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  };\n  let stackingOrder = /*#__PURE__*/_jsxDEV(InputRow, {\n    label: 'Stacking order',\n    as: node,\n    field: 'zIndex',\n    type: 'number'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'p-3 node-editor',\n    children: [asGraph && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Graph\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asGraph,\n        field: 'zoom'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asGraph,\n        field: 'offset'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), asVertex && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Vertex\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 24\n      }, this), stackingOrder, /*#__PURE__*/_jsxDEV(InputRow, {\n        label: 'X Position',\n        as: asVertex,\n        field: 'x',\n        type: 'number'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InputRow, {\n        label: 'Y Position',\n        as: asVertex,\n        field: 'y',\n        type: 'number'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InputRow, {\n        label: 'Width',\n        as: asVertex,\n        field: 'width',\n        type: 'number'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InputRow, {\n        label: 'Height',\n        as: asVertex,\n        field: 'height',\n        type: 'number'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), asEdge && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Edge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 22\n      }, this), stackingOrder, /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: 'longestLabel',\n        placeholder: '(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' + '\\n\\t// a complex example. The label can be either a function like this or a simple string.' + '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' + '\\n}'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: 'labels',\n        placeholder: '(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' + '\\n\\t// a complex example. The label can be either a function like this or a simple string.' + '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' + '\\n}'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: \"anchorStart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GenericInput, {\n        data: asEdge,\n        field: \"anchorEnd\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), asField && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Field\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }, this), stackingOrder]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1em',\n        marginBottom: '1em',\n        borderBottom: '1px solid gray'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: [\"Super element: \", ((_node$father = node.father) === null || _node$father === void 0 ? void 0 : _node$father.className) ? /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: e => dnode.father && openNode(dnode.father),\n          style: clickableStyle,\n          children: [(_node$father2 = node.father) === null || _node$father2 === void 0 ? void 0 : _node$father2.className, /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'ms-1 bi bi-arrow-up'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 47\n          }, this)]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"Not contained\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }, this), asEdge && [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        style: headerStyle,\n        children: [\"Edge start:\", edgeStart ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: 'ms-2',\n          onClick: e => openNode(edgeStart.id),\n          style: clickableStyle,\n          children: [getNodeLabel(edgeStart), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'ms-1 bi bi-arrow-right'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"Missing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h6\", {\n        style: headerStyle,\n        children: [\"Edge End:\", edgeEnd ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: 'ms-2',\n          onClick: e => openNode(edgeEnd.id),\n          style: clickableStyle,\n          children: [getNodeLabel(edgeEnd), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: 'ms-1 bi bi-arrow-left'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"Missing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this)], /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        style: headerStyle,\n        children: [\"Sub elements\", subElements.length ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: 'ms-1 bi bi-arrow-down'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 47\n        }, this) : [': ', /*#__PURE__*/_jsxDEV(\"span\", {\n          style: notFoundStyle,\n          children: \"None\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 97\n        }, this)]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 14\n      }, this), subElements.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'w-100 ms-2',\n        onClick: e => openNode(n.id),\n        style: clickableStyle,\n        children: getNodeLabel(n)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 18\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this), !asEdge && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          style: headerStyle,\n          children: [\"Outgoing Edges\", edgesOut.length === 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\": \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: notFoundStyle,\n              children: \"None\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 86\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 18\n        }, this), edgesOut.length && edgesOut.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'w-100 ms-2',\n          onClick: e => openNode(n.id),\n          style: clickableStyle,\n          children: getEdgeLabel(n)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 22\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          style: headerStyle,\n          children: [\"Incoming Edges\", edgesIn.length === 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\": \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: notFoundStyle,\n              children: \"None\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 85\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 18\n        }, this), edgesIn.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'w-100 ms-2',\n          onClick: e => openNode(n.id),\n          style: clickableStyle,\n          children: getEdgeLabel(n)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 22\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"h6\", {\n      style: headerStyle,\n      children: [\"Node state:\", Object.keys(dnode._state).length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: notFoundStyle,\n        children: \" Empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 87\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: Object.keys(dnode._state).length ? JSON.stringify(dnode._state, null, '\\t') : undefined\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 12\n  }, this);\n}\n_c = NodeEditorComponent;\nfunction mapStateToProps(state, ownProps) {\n  let ret = {};\n  const selected = state._lastSelected;\n  if (selected) {\n    var _state$_lastSelected, _state$_lastSelected2, _state$_lastSelected3;\n    const modelElement = (_state$_lastSelected = state._lastSelected) === null || _state$_lastSelected === void 0 ? void 0 : _state$_lastSelected.modelElement;\n    const node = (_state$_lastSelected2 = state._lastSelected) === null || _state$_lastSelected2 === void 0 ? void 0 : _state$_lastSelected2.node;\n    const view = (_state$_lastSelected3 = state._lastSelected) === null || _state$_lastSelected3 === void 0 ? void 0 : _state$_lastSelected3.view;\n    if (node && view) {\n      ret.selected = {\n        node: L.fromPointer(node),\n        view: L.fromPointer(node),\n        modelElement: modelElement ? L.fromPointer(modelElement) : undefined\n      };\n    }\n  }\n  return ret;\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nexport const NodeEditorConnected = connect(mapStateToProps, mapDispatchToProps)(NodeEditorComponent);\nexport const NodeEditor = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(NodeEditorConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 12\n  }, _this);\n};\n_c2 = NodeEditor;\nexport default NodeEditor;\nvar _c, _c2;\n$RefreshReg$(_c, \"NodeEditorComponent\");\n$RefreshReg$(_c2, \"NodeEditor\");","map":{"version":3,"names":["React","connect","L","Input","GenericInput","SetRootFieldAction","Empty","jsxDEV","_jsxDEV","Fragment","_Fragment","NodeEditorComponent","props","_node$father","_node$father2","selected","editable","node","msg","fileName","_jsxFileName","lineNumber","columnNumber","dnode","__raw","cname","className","isGraph","includes","isVertex","isEdge","isField","console","log","asGraph","asVertex","asEdge","asField","openNode","id","new","getNodeLabel","_node$model","model","name","getEdgeLabel","edge","_edge$start","_edge$start$model","_edge$end","_edge$end$model","s","start","e","end","style","color","children","clickableStyle","cursor","headerStyle","marginBottom","marginTop","edgeStart","edgeEnd","notFoundStyle","subElements","edgesIn","edgesOut","InputRow","label","data","as","field","type","readonly","stackingOrder","placeholder","borderBottom","father","onClick","length","map","n","Object","keys","_state","JSON","stringify","undefined","_c","mapStateToProps","state","ownProps","ret","_lastSelected","_state$_lastSelected","_state$_lastSelected2","_state$_lastSelected3","modelElement","view","fromPointer","mapDispatchToProps","dispatch","NodeEditorConnected","NodeEditor","arguments","_this","_c2","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/components/editors/NodeEditor.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {DState} from '../../redux/store';\r\nimport type {\r\n    LModelElement,\r\n    LViewElement,\r\n    LGraphElement,\r\n    LVoidVertex,\r\n    LVoidEdge, LGraph,Pointer, DGraphElement,\r\n    DNamedElement, LNamedElement} from '../../joiner';\r\nimport {\r\n    LPointerTargetable,\r\n    L,\r\n    Input,\r\n    GenericInput,\r\n    TextArea,\r\n    RuntimeAccessibleClass,\r\n    SetRootFieldAction,\r\n} from '../../joiner';\r\nimport './editors.scss';\r\nimport './node-editor.scss';\r\nimport {Empty} from \"./Empty\";\r\n\r\nfunction NodeEditorComponent(props: AllProps) {\r\n    const selected = props.selected;\r\n    const editable = true;\r\n    if (!selected?.node) return <Empty msg={'Select a node.'} />;\r\n    const node = selected.node;\r\n    const dnode = (node.__raw || node) as DGraphElement\r\n    let cname = dnode.className;\r\n    let isGraph = ['DGraph', 'DGraphVertex'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DGraph');\r\n    let isVertex = ['DVoidVertex', 'DVertex', 'DEdgePoint'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidVertex');\r\n    let isEdge = ['DVoidEdge', 'DEdge'].includes(cname); // RuntimeAccessibleClass.extends(cname, 'DVoidEdge');\r\n    let isField = (!isGraph && !isVertex && !isEdge);\r\n    console.log('Style editor', {cname, isVertex, isGraph, isEdge, selected});\r\n    let asGraph: LGraph | undefined = isGraph && node as any;\r\n    let asVertex: LVoidVertex | undefined  = isVertex && node as any;\r\n    let asEdge: LVoidEdge | undefined = isEdge && node as any;\r\n    let asField: LVoidEdge | undefined = isField && node as any;\r\n    function openNode(id: Pointer<DGraphElement>) {\r\n        SetRootFieldAction.new('_lastSelected.node', id, '', false);\r\n    }\r\n\r\n    function getNodeLabel(node: LGraphElement){\r\n        if (!node) return 'error';\r\n        let model: DNamedElement | undefined = node.model?.__raw as any;\r\n        if (!model) return node.className;\r\n        return node.className + ' - ' +(model.name || model.className)\r\n    }\r\n    function getEdgeLabel(edge: LVoidEdge){\r\n        let s: DNamedElement | undefined = edge?.start?.model?.__raw as any;\r\n        let e: DNamedElement | undefined = edge?.end?.model?.__raw as any;\r\n        return [\r\n            (s ? s.name || s.className : <i style={{color: 'orange'}}>empty</i>),\r\n            <i className={'bi bi-arrow-right ms-1 me-1'} />,\r\n            (e ? e.name || e.className : <i style={{color: 'orange'}}>empty</i>)\r\n        ];\r\n\r\n    }\r\n    const clickableStyle = {cursor:'pointer', color: 'gray'};\r\n    const headerStyle = {marginBottom:0, marginTop: '0.5em'};\r\n    const edgeStart: LGraphElement | undefined = asEdge && asEdge.start;\r\n    const edgeEnd: LGraphElement | undefined = asEdge && asEdge.end;\r\n    const notFoundStyle = {color: 'orange', cursor:'not-allowed'};\r\n    const subElements = node.subElements;\r\n    let edgesIn = !isEdge && node.edgesIn || [];\r\n    let edgesOut = !isEdge && node.edgesOut || [];\r\n    \r\n            \r\n\r\n\r\n\r\n    type InputRowProps = {\r\n        label: string,\r\n        as: any,\r\n        field: string,\r\n        type: string\r\n    }\r\n    const InputRow = (props: any) => {\r\n        return (\r\n            <div className='input-container'>\r\n                <b className={'me-2'}>{props.label}</b>\r\n                <Input data={props.as} field={props.field} type={props.type} readonly={!editable} />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    let stackingOrder = <InputRow label={'Stacking order'} as={node} field={'zIndex'} type={'number'} />\r\n    \r\n    return(<div className={'p-3 node-editor'}>\r\n        {/*<Input obj={selected.node} field={'id'} label={'ID'} type={'text'} readonly={true}/>*/}\r\n        \r\n        {asGraph && <><h3>Graph</h3>\r\n            <GenericInput data={asGraph} field={'zoom'} />\r\n            <GenericInput data={asGraph} field={'offset'} />\r\n\r\n            {/*graphSize readonly on LGraph but not on DGraph, = internal graph size. put it for info.*/ }\r\n        </>}\r\n        \r\n        {asVertex && <><h3>Vertex</h3>\r\n            {stackingOrder}\r\n\r\n            <InputRow label={'X Position'} as={asVertex} field={'x'} type={'number'} />\r\n            <InputRow label={'Y Position'} as={asVertex} field={'y'} type={'number'} />\r\n            <InputRow label={'Width'} as={asVertex} field={'width'} type={'number'} />\r\n            <InputRow label={'Height'} as={asVertex} field={'height'} type={'number'} />\r\n        </>}\r\n        \r\n        {asEdge && <><h3>Edge</h3>\r\n            {stackingOrder}\r\n\r\n            <GenericInput data={asEdge} field={'longestLabel'}\r\n                          placeholder={'(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' +\r\n                              '\\n\\t// a complex example. The label can be either a function like this or a simple string.' +\r\n                              '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' +\r\n                              '\\n}'}/>\r\n\r\n            <GenericInput data={asEdge} field={'labels'}\r\n                          placeholder={'(edge/*LEdge*/, segment/*EdgeSegment*/, subNodes/*LGraphElement[]*/, allSegments/*EdgeSegment[]*/) => {' +\r\n                            '\\n\\t// a complex example. The label can be either a function like this or a simple string.' +\r\n                            '\\n\\t return (edge.start.model)?.name + \\' ~ \\' + (e.end.model)?.name + \\'(\\' + segment.length.toFixed(1) + \\')\\';' +\r\n                            '\\n}'}/>\r\n            <GenericInput data={asEdge} field={\"anchorStart\"}/>\r\n            <GenericInput data={asEdge} field={\"anchorEnd\"}/>\r\n        </>}\r\n        \r\n        {asField && <><h3>Field</h3> \r\n            {stackingOrder}\r\n        </>}\r\n\r\n        <div style={{marginTop:'1em', marginBottom:'1em', borderBottom:'1px solid gray'}}/>\r\n        <div><h6>Super element: {\r\n            node.father?.className ?\r\n                <span onClick={(e)=> dnode.father && openNode(dnode.father)} style={clickableStyle}>\r\n                    {[node.father?.className, <i className={'ms-1 bi bi-arrow-up'}/>]}\r\n                </span>\r\n                :\r\n                <span style={notFoundStyle}>Not contained</span>\r\n        }\r\n        </h6></div>\r\n\r\n        {asEdge && [\r\n            <div><h6 style={headerStyle}>Edge start:{\r\n                edgeStart ?\r\n                    <span className={'ms-2'} onClick={(e)=> openNode(edgeStart.id)} style={clickableStyle}>\r\n                        {getNodeLabel(edgeStart)}<i className={'ms-1 bi bi-arrow-right'}/>\r\n                    </span>\r\n                    : <span style={notFoundStyle}>Missing</span>\r\n            }</h6></div>,\r\n            <div><h6 style={headerStyle}>Edge End:{\r\n                edgeEnd ?\r\n                    <span className={'ms-2'} onClick={(e)=> openNode(edgeEnd.id)} style={clickableStyle}>\r\n                        {getNodeLabel(edgeEnd)}<i className={'ms-1 bi bi-arrow-left'}/>\r\n                    </span>\r\n                    : <span style={notFoundStyle}>Missing</span>\r\n            }</h6></div>\r\n        ]}\r\n        <div><h6 style={headerStyle}>\r\n            Sub elements{subElements.length ? <i className={'ms-1 bi bi-arrow-down'}/> : [': ', <span style={notFoundStyle}>None</span>]}\r\n        </h6>{subElements.map(\r\n            n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getNodeLabel(n)}</div>\r\n        )}</div>\r\n        {!asEdge && <>\r\n            <div><h6 style={headerStyle}>Outgoing Edges{edgesOut.length === 0 && <>: <span style={notFoundStyle}>None</span></>}</h6>{edgesOut.length && edgesOut.map(\r\n                n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>\r\n            )}</div>\r\n            <div><h6 style={headerStyle}>Incoming Edges{edgesIn.length === 0 && <>: <span style={notFoundStyle}>None</span></>}</h6>{edgesIn.map(\r\n                n => <div className={'w-100 ms-2'} onClick={(e)=> openNode(n.id)} style={clickableStyle}>{getEdgeLabel(n)}</div>\r\n            )}</div>\r\n        </>}\r\n\r\n\r\n        <h6 style={headerStyle}>Node state:{Object.keys(dnode._state).length === 0 && <span style={notFoundStyle}> Empty</span>}</h6>\r\n        <pre>{Object.keys(dnode._state).length ? JSON.stringify(dnode._state, null, '\\t') : undefined}</pre>\r\n\r\n    </div>);\r\n\r\n}\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    selected?: {\r\n        node: LGraphElement;\r\n        view: LViewElement;\r\n        modelElement?: LModelElement;\r\n    };\r\n}\r\ninterface DispatchProps {}\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    let ret: StateProps = {};\r\n    const selected = state._lastSelected;\r\n    if(selected) {\r\n        const modelElement = state._lastSelected?.modelElement;\r\n        const node = state._lastSelected?.node;\r\n        const view = state._lastSelected?.view;\r\n        if(node && view) {\r\n            ret.selected = {\r\n                node: L.fromPointer(node),\r\n                view: L.fromPointer(node),\r\n                modelElement: (modelElement) ? L.fromPointer(modelElement) : undefined\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\n\r\nexport const NodeEditorConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(NodeEditorComponent);\r\n\r\nexport const NodeEditor = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <NodeEditorConnected {...{...props, children}} />;\r\n}\r\nexport default NodeEditor;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}