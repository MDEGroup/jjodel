{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\logger\\\\loggerComponent.tsx\";\nimport React, { PureComponent } from \"react\";\nimport './logger.scss';\nimport { DataOutputComponent, Log, U } from \"../../joiner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// private\nclass ThisState {\n  constructor() {\n    this.categoriesActive = {\n      l: true,\n      i: true,\n      w: true,\n      e: true,\n      ex: true,\n      eDev: true,\n      exDev: true\n    };\n    this.searchTag = '';\n    this.searchTagAsRegExp = false;\n    this.searchTagIsDeep = false;\n    this.regexpIsInvalid = false;\n    this.l_counter = 0;\n    this.i_counter = 0;\n    this.w_counter = 0;\n    this.e_counter = 0;\n    this.ex_counter = 0;\n    this.eDev_counter = 0;\n    this.exDev_counter = 0;\n  } // to mark the input as invalid without triggering a Log.e message loop\n  // counters to force update. (data source is in Log.messageMapping\n}\n/*interface ThisState\r\n    messages: Dictionary<string, Dictionary<string, any[]>>\r\n    filters: {category: ((cat: string) => boolean) | null, tag: ((tag: string) => boolean) | null, datafilter: ((data: any[]) => boolean) | null};\r\n    id: number;\r\n    minDate: UnixTimestamp;\r\n    maxDate: UnixTimestamp;\r\n}*/\n\nexport class LoggerComponent extends PureComponent {\n  /*public static Log(category: string, key: string, data: any[]): void{\r\n      for (let logger of LoggerComponent.loggers) { logger.log(category, key, data); }\r\n  }*/\n\n  constructor(props, context) {\n    super(props, context);\n    this.id = void 0;\n    this.changeSearch = e => {\n      this.setState({\n        ...this.state,\n        searchTag: e.target.value,\n        regexpIsInvalid: false\n      });\n    };\n    this.changeRegexpSearch = e => {\n      this.setState({\n        ...this.state,\n        searchTagAsRegExp: e.target.checked\n      });\n    };\n    this.changeDeepSearch = e => {\n      this.setState({\n        ...this.state,\n        searchTagIsDeep: e.target.checked\n      });\n    };\n    this.id = LoggerComponent.max_id++;\n    this.state = new ThisState();\n    // minDate: DDate.addYear(new Date(), -1, true).getTime(),\n    // maxDate: DDate.addYear(new Date(), +1, true).getTime()};\n    LoggerComponent.loggers.push(this);\n    Log._loggerComponent = this;\n    // Log.registerLogger(this, Log.e);\n  }\n\n  isCatActive(cat) {\n    return !!this.state.categoriesActive[cat] /*&& this.state.filters.category?.(cat)*/;\n  }\n\n  /*\r\n  private changeMinDate = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      this.setState({...this.state, minDate: new Date(e.target.value).getTime() });\r\n    }\r\n  private changeMaxDate = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      this.setState({...this.state, maxDate: new Date(e.target.value).getTime() });\r\n  }*/\n  filter(msg) {\n    let s = this.state.searchTagIsDeep ? msg.long_string : msg.short_string;\n    if (this.state.searchTagAsRegExp) {\n      try {\n        let regexp = new RegExp(this.state.searchTag);\n        return regexp.test(s);\n      } catch (e) {\n        // this is to avoid a loop of render-error\n        if (!this.state.regexpIsInvalid) {\n          this.setState({\n            regexpIsInvalid: true\n          });\n          Log.ee(\"invalid regular expression in Logger.filter\", (e.message || '').split('\\n')[0]);\n        }\n      }\n    }\n    return s.indexOf(this.state.searchTag) >= 0;\n  }\n  displayArgs(args, category) {\n    if (!args) return undefined;\n    if (!Array.isArray(args)) args = [args];\n    let objs = [];\n    let primitives = [];\n    for (let a of args) {\n      switch (typeof a) {\n        case \"object\":\n        case \"function\":\n          objs.push(a);\n          primitives.push(\"[\" + typeof a + \"_\" + objs.length + \"]\");\n          break;\n        default:\n          primitives.push(a);\n      }\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cat cat_\" + category,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: primitives.join(\" \")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), objs.map((o, i) => /*#__PURE__*/_jsxDEV(DataOutputComponent, {\n        data: o,\n        rootName: \"\" + typeof o + \"_\" + (i + 1) + \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 16\n    }, this);\n  }\n  render() {\n    let key;\n    const categories = Object.keys(Log.messageMapping);\n    const allMessages = [];\n    for (key of categories) {\n      if (!this.isCatActive(key)) continue; // U.arrayMergeInPlace(allMessages, Log.messageMapping[key])\n      for (let msg of Log.messageMapping[key]) {\n        if (this.filter(msg)) allMessages.push(msg);\n      }\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"search \" + (this.state.regexpIsInvalid && \"invalid\"),\n          type: \"search\",\n          value: this.state.searchTag,\n          onChange: this.changeSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"checkbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"as RegExp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 47\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: this.state.searchTagAsRegExp,\n            onChange: this.changeRegexpSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 71\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"checkbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"deep\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 47\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: this.state.searchTagIsDeep,\n            onChange: this.changeDeepSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 66\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"categories\",\n        children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn\" + (this.isCatActive(cat) && \"-outline\") + \"-danger category cat_\" + cat + (this.isCatActive(cat) ? \" active\" : \" inactive\"),\n          children: cat.length >= 3 ? cat : cat[0].toUpperCase() + cat.substring(1)\n        }, cat, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 43\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"entries\",\n        children: allMessages.map(msg => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"hoverable cat cat_\" + msg.category,\n          children: [false && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"preview\",\n            children: msg.short_string\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 39\n          }, this), false && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"content\",\n            children: msg.long_string\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 39\n          }, this), this.displayArgs(msg.raw_args, msg.category)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n  /*\r\n      public log = (category: string, key: string, data: any[], fullconcat?: string): void => {\r\n          if (!this.state.categoriesActive.hasOwnProperty(category)) {\r\n              this.setState({categoriesActive: { ...this.state.categoriesActive, category: true}});\r\n              const category: GObject = {};\r\n              category[key] = data;\r\n              this.setState({messages: { ...this.state.messages, category} });\r\n          }\r\n  \r\n          const messages: GObject = { ...this.state.messages};\r\n          messages[category] = messages[category] ? { ...messages[category]} : {};\r\n          messages[category][key] = messages[category][key] ? [ ...messages[category][key], data] : [data];\r\n          this.setState( {messages});\r\n      }// .bind(this);\r\n  */\n  componentWillUnmount() {\n    Log._loggerComponent = undefined;\n    U.arrayRemoveAll(LoggerComponent.loggers, this);\n  }\n}\n\n// private\nLoggerComponent.cname = \"LoggerComponent\";\nLoggerComponent.loggers = [];\nLoggerComponent.max_id = 0; // private\n// private\n// private\n////// mapper func\n/*\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as any;\r\n    /// to fill\r\n    return ret; }\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {} as any;\r\n    /// to fill\r\n    return ret; }\r\n\r\nexport const LoggerComponentConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(LoggerComponent);*/","map":{"version":3,"names":["React","PureComponent","DataOutputComponent","Log","U","jsxDEV","_jsxDEV","Fragment","_Fragment","ThisState","constructor","categoriesActive","l","i","w","e","ex","eDev","exDev","searchTag","searchTagAsRegExp","searchTagIsDeep","regexpIsInvalid","l_counter","i_counter","w_counter","e_counter","ex_counter","eDev_counter","exDev_counter","LoggerComponent","props","context","id","changeSearch","setState","state","target","value","changeRegexpSearch","checked","changeDeepSearch","max_id","loggers","push","_loggerComponent","isCatActive","cat","filter","msg","s","long_string","short_string","regexp","RegExp","test","ee","message","split","indexOf","displayArgs","args","category","undefined","Array","isArray","objs","primitives","a","length","className","children","join","fileName","_jsxFileName","lineNumber","columnNumber","map","o","data","rootName","render","key","categories","Object","keys","messageMapping","allMessages","type","onChange","toUpperCase","substring","raw_args","componentWillUnmount","arrayRemoveAll","cname"],"sources":["C:/d/Programming/web/jodel-mde/src/components/logger/loggerComponent.tsx"],"sourcesContent":["import React, {PureComponent, ReactNode} from \"react\";\r\nimport './logger.scss';\r\nimport {DataOutputComponent, DDate, Dictionary, GObject, Log, U, UnixTimestamp} from \"../../joiner\";\r\nimport type {LoggerType} from \"../../common/U\";\r\nimport {LoggerCategoryState} from \"../../common/U\";\r\n\r\n// private\r\nclass ThisState {\r\n    categoriesActive: Dictionary<LoggerType, boolean> = {l: true, i: true, w: true, e: true, ex: true, eDev: true, exDev: true};\r\n    searchTag: string = '';\r\n    searchTagAsRegExp: boolean = false;\r\n    searchTagIsDeep: boolean = false;\r\n    regexpIsInvalid: boolean = false; // to mark the input as invalid without triggering a Log.e message loop\r\n\r\n    // counters to force update. (data source is in Log.messageMapping\r\n    l_counter: number = 0;\r\n    i_counter: number = 0;\r\n    w_counter: number = 0;\r\n    e_counter: number = 0;\r\n    ex_counter: number = 0;\r\n    eDev_counter: number = 0;\r\n    exDev_counter: number = 0;\r\n}\r\n/*interface ThisState\r\n    messages: Dictionary<string, Dictionary<string, any[]>>\r\n    filters: {category: ((cat: string) => boolean) | null, tag: ((tag: string) => boolean) | null, datafilter: ((data: any[]) => boolean) | null};\r\n    id: number;\r\n    minDate: UnixTimestamp;\r\n    maxDate: UnixTimestamp;\r\n}*/\r\n\r\nexport class LoggerComponent extends PureComponent<AllProps, ThisState>{\r\n    public static cname: string = \"LoggerComponent\";\r\n    public static loggers: LoggerComponent[] = [];\r\n    private static max_id: number = 0;\r\n    id: number;\r\n    /*public static Log(category: string, key: string, data: any[]): void{\r\n        for (let logger of LoggerComponent.loggers) { logger.log(category, key, data); }\r\n    }*/\r\n\r\n    constructor(props: AllProps, context: any) {\r\n        super(props, context);\r\n        this.id =  LoggerComponent.max_id++;\r\n        this.state = new ThisState();\r\n            // minDate: DDate.addYear(new Date(), -1, true).getTime(),\r\n            // maxDate: DDate.addYear(new Date(), +1, true).getTime()};\r\n        LoggerComponent.loggers.push(this);\r\n        Log._loggerComponent = this;\r\n        // Log.registerLogger(this, Log.e);\r\n    }\r\n\r\n    private isCatActive(cat: LoggerType): boolean {\r\n        return !!(this.state.categoriesActive[cat] /*&& this.state.filters.category?.(cat)*/);\r\n    }\r\n\r\n    private changeSearch = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        this.setState({...this.state, searchTag: e.target.value, regexpIsInvalid: false});\r\n    }\r\n    private changeRegexpSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, searchTagAsRegExp: e.target.checked});\r\n    }\r\n    private changeDeepSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, searchTagIsDeep: e.target.checked});\r\n    }\r\n    /*\r\n    private changeMinDate = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, minDate: new Date(e.target.value).getTime() });\r\n\r\n    }\r\n    private changeMaxDate = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({...this.state, maxDate: new Date(e.target.value).getTime() });\r\n    }*/\r\n    filter(msg: LoggerCategoryState): boolean{\r\n        let s = this.state.searchTagIsDeep ?  msg.long_string : msg.short_string;\r\n        if (this.state.searchTagAsRegExp) {\r\n            try {\r\n                let regexp = new RegExp(this.state.searchTag);\r\n                return regexp.test(s);\r\n            } catch (e: any) {\r\n\r\n                // this is to avoid a loop of render-error\r\n                if (!this.state.regexpIsInvalid){\r\n                    this.setState({regexpIsInvalid: true});\r\n                    Log.ee(\"invalid regular expression in Logger.filter\", (e.message || '').split('\\n')[0]);\r\n                }\r\n            }\r\n        }\r\n        return s.indexOf(this.state.searchTag) >= 0;\r\n    }\r\n\r\n    displayArgs(args: any[], category: LoggerType): ReactNode{\r\n        if (!args) return undefined;\r\n        if (!Array.isArray(args)) args = [args];\r\n        let objs: GObject[] = [];\r\n        let primitives: any[] = [];\r\n        for (let a of args){\r\n            switch(typeof a){\r\n                case \"object\": case \"function\": objs.push(a); primitives.push(\"[\"+(typeof a)+\"_\"+(objs.length)+\"]\"); break;\r\n                default: primitives.push(a);\r\n            }\r\n        }\r\n        return <div className={\"cat cat_\"+category}>\r\n            <div className={\"text\"}>{primitives.join(\" \")}</div>\r\n            { objs.map((o,i) => <DataOutputComponent data={o} rootName={\"\"+(typeof o)+\"_\"+(i+1)+\"\"} />) }\r\n        </div>;\r\n    }\r\n\r\n    render(): ReactNode {\r\n        let key: LoggerType;\r\n        const categories: LoggerType[] = Object.keys(Log.messageMapping) as LoggerType[];\r\n        const allMessages: LoggerCategoryState[] = [];\r\n        for (key of categories) {\r\n            if (!this.isCatActive(key)) continue; // U.arrayMergeInPlace(allMessages, Log.messageMapping[key])\r\n            for (let msg of Log.messageMapping[key]) {\r\n                if (this.filter(msg)) allMessages.push(msg);\r\n            }\r\n        }\r\n        return (<>\r\n            <div>\r\n                <h1>Filter</h1>\r\n                <input className={\"search \" + (this.state.regexpIsInvalid && \"invalid\")} type={\"search\"} value={this.state.searchTag} onChange={ this.changeSearch } />\r\n                <label className={\"checkbox\"}><label>as RegExp</label><input type=\"checkbox\" checked={this.state.searchTagAsRegExp} onChange={this.changeRegexpSearch} /></label>\r\n                <label className={\"checkbox\"}><label>deep</label><input type=\"checkbox\" checked={this.state.searchTagIsDeep} onChange={this.changeDeepSearch} /></label>\r\n                {/*<input label={\"from\"} type=\"datetime-local\" value={ new Date(this.state.minDate).toString()} onChange={this.changeMinDate} />\r\n                <input label={\"to\"} type=\"datetime-local\" value={ new Date(this.state.maxDate).toString()} onChange={this.changeMaxDate} /> */}\r\n            </div>\r\n            <div className={\"categories\"}>\r\n                { categories.map((cat) => <button className={\"btn btn\"+(this.isCatActive(cat) && \"-outline\")+\"-danger category cat_\" + cat + (this.isCatActive(cat) ? \" active\" : \" inactive\")}\r\n                                                  key={cat}>{cat.length >= 3 ? cat : cat[0].toUpperCase()+cat.substring(1)}</button>) }\r\n            </div>\r\n            <ul className={\"entries\"}>\r\n                { allMessages.map( (msg) => (\r\n                        <li className={\"hoverable cat cat_\"+msg.category}>\r\n                            {false && <span className={\"preview\"}>{msg.short_string}</span>}\r\n                            {false && <span className={\"content\"}>{msg.long_string}</span>}\r\n                            {this.displayArgs(msg.raw_args, msg.category)}\r\n                        </li>))\r\n                }\r\n            </ul>\r\n        </>); }\r\n\r\n\r\n/*\r\n    public log = (category: string, key: string, data: any[], fullconcat?: string): void => {\r\n        if (!this.state.categoriesActive.hasOwnProperty(category)) {\r\n            this.setState({categoriesActive: { ...this.state.categoriesActive, category: true}});\r\n            const category: GObject = {};\r\n            category[key] = data;\r\n            this.setState({messages: { ...this.state.messages, category} });\r\n        }\r\n\r\n        const messages: GObject = { ...this.state.messages};\r\n        messages[category] = messages[category] ? { ...messages[category]} : {};\r\n        messages[category][key] = messages[category][key] ? [ ...messages[category][key], data] : [data];\r\n        this.setState( {messages});\r\n    }// .bind(this);\r\n*/\r\n    componentWillUnmount(): void {\r\n        Log._loggerComponent = undefined;\r\n        U.arrayRemoveAll(LoggerComponent.loggers, this);\r\n    }\r\n}\r\n\r\n// private\r\ninterface OwnProps {\r\n    // propsRequestedFromHtmlAsAttributes: string;\r\n}\r\n// private\r\ninterface StateProps {\r\n    // propsFromReduxStateOrOtherKindOfStateManagement: boolean; // flux or custom things too, unrelated to this.state of react.\r\n}\r\n\r\n// private\r\ninterface DispatchProps {\r\n    // propsFromReduxActions: typeof funzioneTriggeraAzioneDaImportare;\r\n}\r\n\r\n\r\n// private\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n////// mapper func\r\n\r\n/*\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as any;\r\n    /// to fill\r\n    return ret; }\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {} as any;\r\n    /// to fill\r\n    return ret; }\r\n\r\nexport const LoggerComponentConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(LoggerComponent);*/\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}