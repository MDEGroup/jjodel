{"ast":null,"code":"var _jsxFileName = \"C:\\\\d\\\\Programming\\\\web\\\\jodel-mde\\\\src\\\\components\\\\rightbar\\\\structureEditor\\\\StructureEditor.tsx\",\n  _this = this;\nimport React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { DObject, LGraphElement, LModelElement, LViewElement, U } from \"../../../joiner\";\nimport Structure from \"./Structure\";\nimport { DockContextType } from \"rc-dock/src/DockData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ContextUserComponent extends React.Component {\n  render() {\n    console.log(\"ContextUserComponent render\", {\n      c: {\n        ...(this.context || {})\n      }\n    });\n    return null;\n  }\n}\nContextUserComponent.contextType = DockContextType;\nclass StructureEditorComponent extends PureComponent {\n  constructor(props, context) {\n    super(props, context);\n  }\n  render() {\n    const node = this.props.node;\n    const view = this.props.view;\n    const data = this.props.data;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'mb-5',\n      children: [/*#__PURE__*/_jsxDEV(ContextUserComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'px-3 mt-3',\n        children: [Structure.Editor(data || null), (data === null || data === void 0 ? void 0 : data.className) === DObject.cname && U.wrapper(data).features.map((f, i) => {\n          var _f$instanceof;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n              className: 'my-3'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: 'text-center',\n              children: (_f$instanceof = f.instanceof) === null || _f$instanceof === void 0 ? void 0 : _f$instanceof.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 25\n            }, this), Structure.Editor(f)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 28\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'mt-2'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 16\n    }, this);\n  }\n}\nfunction mapStateToProps(state, ownProps) {\n  var _state$_lastSelected, _state$_lastSelected2, _state$_lastSelected3;\n  const ret = {};\n  const nodeid = (_state$_lastSelected = state._lastSelected) === null || _state$_lastSelected === void 0 ? void 0 : _state$_lastSelected.node;\n  const viewid = (_state$_lastSelected2 = state._lastSelected) === null || _state$_lastSelected2 === void 0 ? void 0 : _state$_lastSelected2.view;\n  const dataid = (_state$_lastSelected3 = state._lastSelected) === null || _state$_lastSelected3 === void 0 ? void 0 : _state$_lastSelected3.modelElement;\n  if (nodeid) ret.node = LGraphElement.fromPointer(nodeid);\n  if (viewid) ret.view = LViewElement.fromPointer(viewid);\n  if (dataid) ret.data = LModelElement.fromPointer(dataid);\n  return ret;\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nexport const StructureEditorConnected = connect(mapStateToProps, mapDispatchToProps)(StructureEditorComponent);\nexport const StructureEditor = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(StructureEditorConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 12\n  }, _this);\n};\n_c = StructureEditor;\nexport default StructureEditor;\nvar _c;\n$RefreshReg$(_c, \"StructureEditor\");","map":{"version":3,"names":["React","PureComponent","connect","DObject","LGraphElement","LModelElement","LViewElement","U","Structure","DockContextType","jsxDEV","_jsxDEV","ContextUserComponent","Component","render","console","log","c","context","contextType","StructureEditorComponent","constructor","props","node","view","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Editor","cname","wrapper","features","map","f","i","_f$instanceof","instanceof","name","mapStateToProps","state","ownProps","_state$_lastSelected","_state$_lastSelected2","_state$_lastSelected3","ret","nodeid","_lastSelected","viewid","dataid","modelElement","fromPointer","mapDispatchToProps","dispatch","StructureEditorConnected","StructureEditor","arguments","length","undefined","_this","_c","$RefreshReg$"],"sources":["C:/d/Programming/web/jodel-mde/src/components/rightbar/structureEditor/StructureEditor.tsx"],"sourcesContent":["import React, {Dispatch, PureComponent, ReactElement, ReactNode} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    DGraphElement,\r\n    DModelElement,\r\n    DPointerTargetable,\r\n    DViewElement,\r\n    DState,\r\n    DObject,\r\n    LObject,\r\n    LGraphElement,\r\n    LModelElement,\r\n    LViewElement,\r\n    Pointer, U, DUser,\r\n} from \"../../../joiner\";\r\nimport Structure from \"./Structure\";\r\nimport {FakeStateProps} from '../../../joiner/types';\r\nimport {DockContextType} from \"rc-dock/src/DockData\";\r\n\r\n\r\n\r\nclass ContextUserComponent extends React.Component<any, any>{\r\n    static contextType = DockContextType;\r\n    render(){\r\n        console.log(\"ContextUserComponent render\", {c:{...(this.context || {})}});\r\n        return null;\r\n    }\r\n}\r\n\r\ninterface ThisState {}\r\nclass StructureEditorComponent extends PureComponent<AllProps, ThisState> {\r\n\r\n    constructor(props: AllProps, context: any) {\r\n        super(props, context);\r\n    }\r\n\r\n    render(): ReactNode {\r\n        const node = this.props.node;\r\n        const view = this.props.view;\r\n        const data = this.props.data;\r\n        return <div className={'mb-5'}>\r\n            <ContextUserComponent/>\r\n            <div className={'px-3 mt-3'}>\r\n                {Structure.Editor(data || null)}\r\n                {data?.className === DObject.cname && U.wrapper<LObject>(data).features.map((f, i) => {\r\n                    return(<div key={i}>\r\n                        <hr className={'my-3'} />\r\n                        <label className={'text-center'}>{f.instanceof?.name}</label>\r\n                        {Structure.Editor(f)}\r\n                    </div>);\r\n                })}\r\n            </div>\r\n            <div className={'mt-2'}></div>\r\n        </div>;\r\n    }\r\n}\r\n\r\ninterface OwnProps {}\r\ninterface StateProps {\r\n    node?: LGraphElement\r\n    view?: LViewElement\r\n    data?: LModelElement\r\n}\r\ninterface DispatchProps {}\r\n\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    const nodeid = state._lastSelected?.node;\r\n    const viewid = state._lastSelected?.view;\r\n    const dataid = state._lastSelected?.modelElement;\r\n    if(nodeid) ret.node = LGraphElement.fromPointer(nodeid);\r\n    if(viewid) ret.view = LViewElement.fromPointer(viewid);\r\n    if(dataid) ret.data = LModelElement.fromPointer(dataid);\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {} as any;\r\n    return ret;\r\n}\r\n\r\n\r\nexport const StructureEditorConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(StructureEditorComponent);\r\n\r\nexport const StructureEditor = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <StructureEditorConnected {...{...props, children}} />;\r\n}\r\nexport default StructureEditor;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAaC,aAAa,QAAgC,OAAO;AAC7E,SAAQC,OAAO,QAAO,aAAa;AACnC,SAMIC,OAAO,EAEPC,aAAa,EACbC,aAAa,EACbC,YAAY,EACHC,CAAC,QACP,iBAAiB;AACxB,OAAOC,SAAS,MAAM,aAAa;AAEnC,SAAQC,eAAe,QAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIrD,MAAMC,oBAAoB,SAASZ,KAAK,CAACa,SAAS,CAAU;EAExDC,MAAMA,CAAA,EAAE;IACJC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAE;MAACC,CAAC,EAAC;QAAC,IAAI,IAAI,CAACC,OAAO,IAAI,CAAC,CAAC;MAAC;IAAC,CAAC,CAAC;IACzE,OAAO,IAAI;EACf;AACJ;AANMN,oBAAoB,CACfO,WAAW,GAAGV,eAAe;AAQxC,MAAMW,wBAAwB,SAASnB,aAAa,CAAsB;EAEtEoB,WAAWA,CAACC,KAAe,EAAEJ,OAAY,EAAE;IACvC,KAAK,CAACI,KAAK,EAAEJ,OAAO,CAAC;EACzB;EAEAJ,MAAMA,CAAA,EAAc;IAChB,MAAMS,IAAI,GAAG,IAAI,CAACD,KAAK,CAACC,IAAI;IAC5B,MAAMC,IAAI,GAAG,IAAI,CAACF,KAAK,CAACE,IAAI;IAC5B,MAAMC,IAAI,GAAG,IAAI,CAACH,KAAK,CAACG,IAAI;IAC5B,oBAAOd,OAAA;MAAKe,SAAS,EAAE,MAAO;MAAAC,QAAA,gBAC1BhB,OAAA,CAACC,oBAAoB;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eACvBpB,OAAA;QAAKe,SAAS,EAAE,WAAY;QAAAC,QAAA,GACvBnB,SAAS,CAACwB,MAAM,CAACP,IAAI,IAAI,IAAI,CAAC,EAC9B,CAAAA,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEC,SAAS,MAAKvB,OAAO,CAAC8B,KAAK,IAAI1B,CAAC,CAAC2B,OAAO,CAAUT,IAAI,CAAC,CAACU,QAAQ,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;UAAA,IAAAC,aAAA;UAClF,oBAAO5B,OAAA;YAAAgB,QAAA,gBACHhB,OAAA;cAAIe,SAAS,EAAE;YAAO;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACzBpB,OAAA;cAAOe,SAAS,EAAE,aAAc;cAAAC,QAAA,GAAAY,aAAA,GAAEF,CAAC,CAACG,UAAU,cAAAD,aAAA,uBAAZA,aAAA,CAAcE;YAAI;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC5DvB,SAAS,CAACwB,MAAM,CAACK,CAAC,CAAC;UAAA,GAHPC,CAAC;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAIb,CAAC;QACV,CAAC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACNpB,OAAA;QAAKe,SAAS,EAAE;MAAO;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC;EACV;AACJ;AAYA,SAASW,eAAeA,CAACC,KAAa,EAAEC,QAAkB,EAAc;EAAA,IAAAC,oBAAA,EAAAC,qBAAA,EAAAC,qBAAA;EACpE,MAAMC,GAAe,GAAG,CAAC,CAAmB;EAC5C,MAAMC,MAAM,IAAAJ,oBAAA,GAAGF,KAAK,CAACO,aAAa,cAAAL,oBAAA,uBAAnBA,oBAAA,CAAqBtB,IAAI;EACxC,MAAM4B,MAAM,IAAAL,qBAAA,GAAGH,KAAK,CAACO,aAAa,cAAAJ,qBAAA,uBAAnBA,qBAAA,CAAqBtB,IAAI;EACxC,MAAM4B,MAAM,IAAAL,qBAAA,GAAGJ,KAAK,CAACO,aAAa,cAAAH,qBAAA,uBAAnBA,qBAAA,CAAqBM,YAAY;EAChD,IAAGJ,MAAM,EAAED,GAAG,CAACzB,IAAI,GAAGnB,aAAa,CAACkD,WAAW,CAACL,MAAM,CAAC;EACvD,IAAGE,MAAM,EAAEH,GAAG,CAACxB,IAAI,GAAGlB,YAAY,CAACgD,WAAW,CAACH,MAAM,CAAC;EACtD,IAAGC,MAAM,EAAEJ,GAAG,CAACvB,IAAI,GAAGpB,aAAa,CAACiD,WAAW,CAACF,MAAM,CAAC;EACvD,OAAOJ,GAAG;AACd;AAEA,SAASO,kBAAkBA,CAACC,QAAuB,EAAiB;EAChE,MAAMR,GAAkB,GAAG,CAAC,CAAQ;EACpC,OAAOA,GAAG;AACd;AAGA,OAAO,MAAMS,wBAAwB,GAAGvD,OAAO,CAC3CwC,eAAe,EACfa,kBACJ,CAAC,CAACnC,wBAAwB,CAAC;AAE3B,OAAO,MAAMsC,eAAe,GAAG,SAAAA,CAACpC,KAAe,EAAgE;EAAA,IAA9DK,QAAsC,GAAAgC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACxF,oBAAOhD,OAAA,CAAC8C,wBAAwB;IAAM,GAAGnC,KAAK;IAAEK;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAA+B,KAAI,CAAC;AACjE,CAAC;AAAAC,EAAA,GAFYL,eAAe;AAG5B,eAAeA,eAAe;AAAC,IAAAK,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}