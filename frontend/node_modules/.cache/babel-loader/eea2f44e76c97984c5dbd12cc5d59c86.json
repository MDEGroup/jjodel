{"ast":null,"code":"var _jsxFileName = \"C:\\\\0Programmi\\\\Dev\\\\projects\\\\frontend\\\\jjodel\\\\src\\\\components\\\\navbar\\\\tabs\\\\Edit.tsx\",\n  _this = this;\nimport React from 'react';\nimport { statehistory } from \"../../../redux/store\";\nimport { connect } from \"react-redux\";\nimport { DUser, RedoAction, UndoAction } from \"../../../joiner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditComponent(props) {\n  const undo = props.undo;\n  const redo = props.redo;\n  const doUndo = index => {\n    UndoAction.new(index + 1);\n  };\n  const doRedo = index => {\n    RedoAction.new(index + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: 'dropdown-item',\n    children: [\"Edit\", /*#__PURE__*/_jsxDEV(\"i\", {\n      className: 'ms-auto bi bi-caret-right-fill'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: 'submenu dropdown-menu',\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        tabIndex: -1,\n        onClick: e => doUndo(0),\n        className: 'dropdown-item',\n        children: [\"Undo (\", undo.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        tabIndex: -1,\n        onClick: e => doRedo(0),\n        className: 'dropdown-item',\n        children: [\"Redo (\", redo.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 12\n  }, this);\n}\n_c = EditComponent;\nfunction mapStateToProps(state, ownProps) {\n  const ret = {};\n  // ret.undo = statehistory[DUser.current]?.undoable || [];\n  // ret.redo = statehistory[DUser.current]?.redoable || [];\n  ret.undo = statehistory[DUser.current].undoable;\n  ret.redo = statehistory[DUser.current].redoable;\n  return ret;\n}\nfunction mapDispatchToProps(dispatch) {\n  const ret = {};\n  return ret;\n}\nexport const EditConnected = connect(mapStateToProps, mapDispatchToProps)(EditComponent);\nexport const Edit = function (props) {\n  let children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return /*#__PURE__*/_jsxDEV(EditConnected, {\n    ...props,\n    children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 12\n  }, _this);\n};\n_c2 = Edit;\nexport default Edit;\nvar _c, _c2;\n$RefreshReg$(_c, \"EditComponent\");\n$RefreshReg$(_c2, \"Edit\");","map":{"version":3,"names":["React","statehistory","connect","DUser","RedoAction","UndoAction","jsxDEV","_jsxDEV","EditComponent","props","undo","redo","doUndo","index","new","doRedo","className","children","fileName","_jsxFileName","lineNumber","columnNumber","tabIndex","onClick","e","length","_c","mapStateToProps","state","ownProps","ret","current","undoable","redoable","mapDispatchToProps","dispatch","EditConnected","Edit","arguments","undefined","_this","_c2","$RefreshReg$"],"sources":["C:/0Programmi/Dev/projects/frontend/jjodel/src/components/navbar/tabs/Edit.tsx"],"sourcesContent":["import React, {Dispatch, ReactElement} from 'react';\r\nimport {DState, statehistory} from \"../../../redux/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {DUser, GObject, RedoAction, UndoAction} from \"../../../joiner\";\r\nimport {FakeStateProps} from \"../../../joiner/types\";\r\n\r\nfunction EditComponent(props: AllProps) {\r\n    const undo = props.undo;\r\n    const redo = props.redo;\r\n\r\n    const doUndo = (index: number) => {\r\n        UndoAction.new(index + 1);\r\n    }\r\n    const doRedo = (index: number) => {\r\n        RedoAction.new(index + 1);\r\n    }\r\n\r\n    return(<li className={'dropdown-item'}>Edit\r\n        <i className={'ms-auto bi bi-caret-right-fill'} />\r\n        <ul className={'submenu dropdown-menu'}>\r\n            <li tabIndex={-1} onClick={e => doUndo(0)} className={'dropdown-item'}>Undo ({undo.length})</li>\r\n            <li tabIndex={-1} onClick={e => doRedo(0)} className={'dropdown-item'}>Redo ({redo.length})</li>\r\n        </ul>\r\n    </li>);\r\n}\r\n\r\ninterface OwnProps {}\r\ninterface StateProps {undo: GObject<'delta'>[], redo: GObject<'delta'>[]}\r\ninterface DispatchProps {}\r\ntype AllProps = OwnProps & StateProps & DispatchProps;\r\n\r\n\r\nfunction mapStateToProps(state: DState, ownProps: OwnProps): StateProps {\r\n    const ret: StateProps = {} as FakeStateProps;\r\n    // ret.undo = statehistory[DUser.current]?.undoable || [];\r\n    // ret.redo = statehistory[DUser.current]?.redoable || [];\r\n    ret.undo = statehistory[DUser.current].undoable;\r\n    ret.redo = statehistory[DUser.current].redoable;\r\n    return ret;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch<any>): DispatchProps {\r\n    const ret: DispatchProps = {};\r\n    return ret;\r\n}\r\n\r\n\r\nexport const EditConnected = connect<StateProps, DispatchProps, OwnProps, DState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(EditComponent);\r\n\r\nexport const Edit = (props: OwnProps, children: (string | React.Component)[] = []): ReactElement => {\r\n    return <EditConnected {...{...props, children}} />;\r\n}\r\nexport default Edit;\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAgC,OAAO;AACnD,SAAgBC,YAAY,QAAO,sBAAsB;AACzD,SAAQC,OAAO,QAAO,aAAa;AACnC,SAAQC,KAAK,EAAWC,UAAU,EAAEC,UAAU,QAAO,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGvE,SAASC,aAAaA,CAACC,KAAe,EAAE;EACpC,MAAMC,IAAI,GAAGD,KAAK,CAACC,IAAI;EACvB,MAAMC,IAAI,GAAGF,KAAK,CAACE,IAAI;EAEvB,MAAMC,MAAM,GAAIC,KAAa,IAAK;IAC9BR,UAAU,CAACS,GAAG,CAACD,KAAK,GAAG,CAAC,CAAC;EAC7B,CAAC;EACD,MAAME,MAAM,GAAIF,KAAa,IAAK;IAC9BT,UAAU,CAACU,GAAG,CAACD,KAAK,GAAG,CAAC,CAAC;EAC7B,CAAC;EAED,oBAAON,OAAA;IAAIS,SAAS,EAAE,eAAgB;IAAAC,QAAA,GAAC,MACnC,eAAAV,OAAA;MAAGS,SAAS,EAAE;IAAiC;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAClDd,OAAA;MAAIS,SAAS,EAAE,uBAAwB;MAAAC,QAAA,gBACnCV,OAAA;QAAIe,QAAQ,EAAE,CAAC,CAAE;QAACC,OAAO,EAAEC,CAAC,IAAIZ,MAAM,CAAC,CAAC,CAAE;QAACI,SAAS,EAAE,eAAgB;QAAAC,QAAA,GAAC,QAAM,EAACP,IAAI,CAACe,MAAM,EAAC,GAAC;MAAA;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChGd,OAAA;QAAIe,QAAQ,EAAE,CAAC,CAAE;QAACC,OAAO,EAAEC,CAAC,IAAIT,MAAM,CAAC,CAAC,CAAE;QAACC,SAAS,EAAE,eAAgB;QAAAC,QAAA,GAAC,QAAM,EAACN,IAAI,CAACc,MAAM,EAAC,GAAC;MAAA;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AACT;AAACK,EAAA,GAlBQlB,aAAa;AA0BtB,SAASmB,eAAeA,CAACC,KAAa,EAAEC,QAAkB,EAAc;EACpE,MAAMC,GAAe,GAAG,CAAC,CAAmB;EAC5C;EACA;EACAA,GAAG,CAACpB,IAAI,GAAGT,YAAY,CAACE,KAAK,CAAC4B,OAAO,CAAC,CAACC,QAAQ;EAC/CF,GAAG,CAACnB,IAAI,GAAGV,YAAY,CAACE,KAAK,CAAC4B,OAAO,CAAC,CAACE,QAAQ;EAC/C,OAAOH,GAAG;AACd;AAEA,SAASI,kBAAkBA,CAACC,QAAuB,EAAiB;EAChE,MAAML,GAAkB,GAAG,CAAC,CAAC;EAC7B,OAAOA,GAAG;AACd;AAGA,OAAO,MAAMM,aAAa,GAAGlC,OAAO,CAChCyB,eAAe,EACfO,kBACJ,CAAC,CAAC1B,aAAa,CAAC;AAEhB,OAAO,MAAM6B,IAAI,GAAG,SAAAA,CAAC5B,KAAe,EAAgE;EAAA,IAA9DQ,QAAsC,GAAAqB,SAAA,CAAAb,MAAA,QAAAa,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAC7E,oBAAO/B,OAAA,CAAC6B,aAAa;IAAM,GAAG3B,KAAK;IAAEQ;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAmB,KAAI,CAAC;AACtD,CAAC;AAAAC,GAAA,GAFYJ,IAAI;AAGjB,eAAeA,IAAI;AAAC,IAAAX,EAAA,EAAAe,GAAA;AAAAC,YAAA,CAAAhB,EAAA;AAAAgB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}